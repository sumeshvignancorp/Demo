<html>
<head>
<title>ctokens.py</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #7a7e85;}
.s1 { color: #bcbec4;}
.s2 { color: #bcbec4;}
.s3 { color: #6aab73;}
.s4 { color: #cf8e6d;}
.s5 { color: #5f826b; font-style: italic;}
.s6 { color: #2aacb8;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
ctokens.py</font>
</center></td></tr></table>
<pre><span class="s0"># ----------------------------------------------------------------------</span>
<span class="s0"># ctokens.py</span>
<span class="s0">#</span>
<span class="s0"># Token specifications for symbols in ANSI C and C++.  This file is</span>
<span class="s0"># meant to be used as a library in other tokenizers.</span>
<span class="s0"># ----------------------------------------------------------------------</span>

<span class="s0"># Reserved words</span>

<span class="s1">tokens </span><span class="s2">= [</span>
    <span class="s0"># Literals (identifier, integer constant, float constant, string constant, char const)</span>
    <span class="s3">'ID'</span><span class="s2">, </span><span class="s3">'TYPEID'</span><span class="s2">, </span><span class="s3">'INTEGER'</span><span class="s2">, </span><span class="s3">'FLOAT'</span><span class="s2">, </span><span class="s3">'STRING'</span><span class="s2">, </span><span class="s3">'CHARACTER'</span><span class="s2">,</span>

    <span class="s0"># Operators (+,-,*,/,%,|,&amp;,~,^,&lt;&lt;,&gt;&gt;, ||, &amp;&amp;, !, &lt;, &lt;=, &gt;, &gt;=, ==, !=)</span>
    <span class="s3">'PLUS'</span><span class="s2">, </span><span class="s3">'MINUS'</span><span class="s2">, </span><span class="s3">'TIMES'</span><span class="s2">, </span><span class="s3">'DIVIDE'</span><span class="s2">, </span><span class="s3">'MODULO'</span><span class="s2">,</span>
    <span class="s3">'OR'</span><span class="s2">, </span><span class="s3">'AND'</span><span class="s2">, </span><span class="s3">'NOT'</span><span class="s2">, </span><span class="s3">'XOR'</span><span class="s2">, </span><span class="s3">'LSHIFT'</span><span class="s2">, </span><span class="s3">'RSHIFT'</span><span class="s2">,</span>
    <span class="s3">'LOR'</span><span class="s2">, </span><span class="s3">'LAND'</span><span class="s2">, </span><span class="s3">'LNOT'</span><span class="s2">,</span>
    <span class="s3">'LT'</span><span class="s2">, </span><span class="s3">'LE'</span><span class="s2">, </span><span class="s3">'GT'</span><span class="s2">, </span><span class="s3">'GE'</span><span class="s2">, </span><span class="s3">'EQ'</span><span class="s2">, </span><span class="s3">'NE'</span><span class="s2">,</span>
    
    <span class="s0"># Assignment (=, *=, /=, %=, +=, -=, &lt;&lt;=, &gt;&gt;=, &amp;=, ^=, |=)</span>
    <span class="s3">'EQUALS'</span><span class="s2">, </span><span class="s3">'TIMESEQUAL'</span><span class="s2">, </span><span class="s3">'DIVEQUAL'</span><span class="s2">, </span><span class="s3">'MODEQUAL'</span><span class="s2">, </span><span class="s3">'PLUSEQUAL'</span><span class="s2">, </span><span class="s3">'MINUSEQUAL'</span><span class="s2">,</span>
    <span class="s3">'LSHIFTEQUAL'</span><span class="s2">,</span><span class="s3">'RSHIFTEQUAL'</span><span class="s2">, </span><span class="s3">'ANDEQUAL'</span><span class="s2">, </span><span class="s3">'XOREQUAL'</span><span class="s2">, </span><span class="s3">'OREQUAL'</span><span class="s2">,</span>

    <span class="s0"># Increment/decrement (++,--)</span>
    <span class="s3">'INCREMENT'</span><span class="s2">, </span><span class="s3">'DECREMENT'</span><span class="s2">,</span>

    <span class="s0"># Structure dereference (-&gt;)</span>
    <span class="s3">'ARROW'</span><span class="s2">,</span>

    <span class="s0"># Ternary operator (?)</span>
    <span class="s3">'TERNARY'</span><span class="s2">,</span>
    
    <span class="s0"># Delimeters ( ) [ ] { } , . ; :</span>
    <span class="s3">'LPAREN'</span><span class="s2">, </span><span class="s3">'RPAREN'</span><span class="s2">,</span>
    <span class="s3">'LBRACKET'</span><span class="s2">, </span><span class="s3">'RBRACKET'</span><span class="s2">,</span>
    <span class="s3">'LBRACE'</span><span class="s2">, </span><span class="s3">'RBRACE'</span><span class="s2">,</span>
    <span class="s3">'COMMA'</span><span class="s2">, </span><span class="s3">'PERIOD'</span><span class="s2">, </span><span class="s3">'SEMI'</span><span class="s2">, </span><span class="s3">'COLON'</span><span class="s2">,</span>

    <span class="s0"># Ellipsis (...)</span>
    <span class="s3">'ELLIPSIS'</span><span class="s2">,</span>
<span class="s2">]</span>
    
<span class="s0"># Operators</span>
<span class="s1">t_PLUS             </span><span class="s2">= </span><span class="s3">r'\+'</span>
<span class="s1">t_MINUS            </span><span class="s2">= </span><span class="s3">r'-'</span>
<span class="s1">t_TIMES            </span><span class="s2">= </span><span class="s3">r'\*'</span>
<span class="s1">t_DIVIDE           </span><span class="s2">= </span><span class="s3">r'/'</span>
<span class="s1">t_MODULO           </span><span class="s2">= </span><span class="s3">r'%'</span>
<span class="s1">t_OR               </span><span class="s2">= </span><span class="s3">r'\|'</span>
<span class="s1">t_AND              </span><span class="s2">= </span><span class="s3">r'&amp;'</span>
<span class="s1">t_NOT              </span><span class="s2">= </span><span class="s3">r'~'</span>
<span class="s1">t_XOR              </span><span class="s2">= </span><span class="s3">r'\^'</span>
<span class="s1">t_LSHIFT           </span><span class="s2">= </span><span class="s3">r'&lt;&lt;'</span>
<span class="s1">t_RSHIFT           </span><span class="s2">= </span><span class="s3">r'&gt;&gt;'</span>
<span class="s1">t_LOR              </span><span class="s2">= </span><span class="s3">r'\|\|'</span>
<span class="s1">t_LAND             </span><span class="s2">= </span><span class="s3">r'&amp;&amp;'</span>
<span class="s1">t_LNOT             </span><span class="s2">= </span><span class="s3">r'!'</span>
<span class="s1">t_LT               </span><span class="s2">= </span><span class="s3">r'&lt;'</span>
<span class="s1">t_GT               </span><span class="s2">= </span><span class="s3">r'&gt;'</span>
<span class="s1">t_LE               </span><span class="s2">= </span><span class="s3">r'&lt;='</span>
<span class="s1">t_GE               </span><span class="s2">= </span><span class="s3">r'&gt;='</span>
<span class="s1">t_EQ               </span><span class="s2">= </span><span class="s3">r'=='</span>
<span class="s1">t_NE               </span><span class="s2">= </span><span class="s3">r'!='</span>

<span class="s0"># Assignment operators</span>

<span class="s1">t_EQUALS           </span><span class="s2">= </span><span class="s3">r'='</span>
<span class="s1">t_TIMESEQUAL       </span><span class="s2">= </span><span class="s3">r'\*='</span>
<span class="s1">t_DIVEQUAL         </span><span class="s2">= </span><span class="s3">r'/='</span>
<span class="s1">t_MODEQUAL         </span><span class="s2">= </span><span class="s3">r'%='</span>
<span class="s1">t_PLUSEQUAL        </span><span class="s2">= </span><span class="s3">r'\+='</span>
<span class="s1">t_MINUSEQUAL       </span><span class="s2">= </span><span class="s3">r'-='</span>
<span class="s1">t_LSHIFTEQUAL      </span><span class="s2">= </span><span class="s3">r'&lt;&lt;='</span>
<span class="s1">t_RSHIFTEQUAL      </span><span class="s2">= </span><span class="s3">r'&gt;&gt;='</span>
<span class="s1">t_ANDEQUAL         </span><span class="s2">= </span><span class="s3">r'&amp;='</span>
<span class="s1">t_OREQUAL          </span><span class="s2">= </span><span class="s3">r'\|='</span>
<span class="s1">t_XOREQUAL         </span><span class="s2">= </span><span class="s3">r'\^='</span>

<span class="s0"># Increment/decrement</span>
<span class="s1">t_INCREMENT        </span><span class="s2">= </span><span class="s3">r'\+\+'</span>
<span class="s1">t_DECREMENT        </span><span class="s2">= </span><span class="s3">r'--'</span>

<span class="s0"># -&gt;</span>
<span class="s1">t_ARROW            </span><span class="s2">= </span><span class="s3">r'-&gt;'</span>

<span class="s0"># ?</span>
<span class="s1">t_TERNARY          </span><span class="s2">= </span><span class="s3">r'\?'</span>

<span class="s0"># Delimeters</span>
<span class="s1">t_LPAREN           </span><span class="s2">= </span><span class="s3">r'\('</span>
<span class="s1">t_RPAREN           </span><span class="s2">= </span><span class="s3">r'\)'</span>
<span class="s1">t_LBRACKET         </span><span class="s2">= </span><span class="s3">r'\['</span>
<span class="s1">t_RBRACKET         </span><span class="s2">= </span><span class="s3">r'\]'</span>
<span class="s1">t_LBRACE           </span><span class="s2">= </span><span class="s3">r'\{'</span>
<span class="s1">t_RBRACE           </span><span class="s2">= </span><span class="s3">r'\}'</span>
<span class="s1">t_COMMA            </span><span class="s2">= </span><span class="s3">r','</span>
<span class="s1">t_PERIOD           </span><span class="s2">= </span><span class="s3">r'\.'</span>
<span class="s1">t_SEMI             </span><span class="s2">= </span><span class="s3">r';'</span>
<span class="s1">t_COLON            </span><span class="s2">= </span><span class="s3">r':'</span>
<span class="s1">t_ELLIPSIS         </span><span class="s2">= </span><span class="s3">r'\.\.\.'</span>

<span class="s0"># Identifiers</span>
<span class="s1">t_ID </span><span class="s2">= </span><span class="s3">r'[A-Za-z_][A-Za-z0-9_]*'</span>

<span class="s0"># Integer literal</span>
<span class="s1">t_INTEGER </span><span class="s2">= </span><span class="s3">r'\d+([uU]|[lL]|[uU][lL]|[lL][uU])?'</span>

<span class="s0"># Floating literal</span>
<span class="s1">t_FLOAT </span><span class="s2">= </span><span class="s3">r'((\d+)(\.\d+)(e(\+|-)?(\d+))? | (\d+)e(\+|-)?(\d+))([lL]|[fF])?'</span>

<span class="s0"># String literal</span>
<span class="s1">t_STRING </span><span class="s2">= </span><span class="s3">r'\&quot;([^\\\n]|(\\.))*?\&quot;'</span>

<span class="s0"># Character constant 'c' or L'c'</span>
<span class="s1">t_CHARACTER </span><span class="s2">= </span><span class="s3">r'(L)?\'([^\\\n]|(\\.))*?\''</span>

<span class="s0"># Comment (C-Style)</span>
<span class="s4">def </span><span class="s1">t_COMMENT</span><span class="s2">(</span><span class="s1">t</span><span class="s2">):</span>
    <span class="s5">r'/\*(.|\n)*?\*/'</span>
    <span class="s1">t</span><span class="s2">.</span><span class="s1">lexer</span><span class="s2">.</span><span class="s1">lineno </span><span class="s2">+= </span><span class="s1">t</span><span class="s2">.</span><span class="s1">value</span><span class="s2">.</span><span class="s1">count</span><span class="s2">(</span><span class="s3">'</span><span class="s4">\n</span><span class="s3">'</span><span class="s2">)</span>
    <span class="s4">return </span><span class="s1">t</span>

<span class="s0"># Comment (C++-Style)</span>
<span class="s4">def </span><span class="s1">t_CPPCOMMENT</span><span class="s2">(</span><span class="s1">t</span><span class="s2">):</span>
    <span class="s5">r'//.*\n'</span>
    <span class="s1">t</span><span class="s2">.</span><span class="s1">lexer</span><span class="s2">.</span><span class="s1">lineno </span><span class="s2">+= </span><span class="s6">1</span>
    <span class="s4">return </span><span class="s1">t</span>


    



</pre>
</body>
</html>