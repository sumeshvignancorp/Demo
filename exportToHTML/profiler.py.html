<html>
<head>
<title>profiler.py</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #7a7e85;}
.s1 { color: #bcbec4;}
.s2 { color: #cf8e6d;}
.s3 { color: #bcbec4;}
.s4 { color: #5f826b; font-style: italic;}
.s5 { color: #6aab73;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
profiler.py</font>
</center></td></tr></table>
<pre><span class="s0"># DO NOT EDIT THIS FILE!</span>
<span class="s0">#</span>
<span class="s0"># This file is generated from the CDP specification. If you need to make</span>
<span class="s0"># changes, edit the generator and regenerate all of the modules.</span>
<span class="s0">#</span>
<span class="s0"># CDP domain: Profiler</span>
<span class="s2">from </span><span class="s1">__future__ </span><span class="s2">import </span><span class="s1">annotations</span>
<span class="s2">from </span><span class="s3">.</span><span class="s1">util </span><span class="s2">import </span><span class="s1">event_class</span><span class="s3">, </span><span class="s1">T_JSON_DICT</span>
<span class="s2">from </span><span class="s1">dataclasses </span><span class="s2">import </span><span class="s1">dataclass</span>
<span class="s2">import </span><span class="s1">enum</span>
<span class="s2">import </span><span class="s1">typing</span>
<span class="s2">from </span><span class="s3">. </span><span class="s2">import </span><span class="s1">debugger</span>
<span class="s2">from </span><span class="s3">. </span><span class="s2">import </span><span class="s1">runtime</span>


<span class="s3">@</span><span class="s1">dataclass</span>
<span class="s2">class </span><span class="s1">ProfileNode</span><span class="s3">:</span>
    <span class="s4">''' 
    Profile node. Holds callsite information, execution statistics and child nodes. 
    '''</span>
    <span class="s0">#: Unique id of the node.</span>
    <span class="s1">id_</span><span class="s3">: </span><span class="s1">int</span>

    <span class="s0">#: Function location.</span>
    <span class="s1">call_frame</span><span class="s3">: </span><span class="s1">runtime</span><span class="s3">.</span><span class="s1">CallFrame</span>

    <span class="s0">#: Number of samples where this node was on top of the call stack.</span>
    <span class="s1">hit_count</span><span class="s3">: </span><span class="s1">typing</span><span class="s3">.</span><span class="s1">Optional</span><span class="s3">[</span><span class="s1">int</span><span class="s3">] = </span><span class="s2">None</span>

    <span class="s0">#: Child node ids.</span>
    <span class="s1">children</span><span class="s3">: </span><span class="s1">typing</span><span class="s3">.</span><span class="s1">Optional</span><span class="s3">[</span><span class="s1">typing</span><span class="s3">.</span><span class="s1">List</span><span class="s3">[</span><span class="s1">int</span><span class="s3">]] = </span><span class="s2">None</span>

    <span class="s0">#: The reason of being not optimized. The function may be deoptimized or marked as don't</span>
    <span class="s0">#: optimize.</span>
    <span class="s1">deopt_reason</span><span class="s3">: </span><span class="s1">typing</span><span class="s3">.</span><span class="s1">Optional</span><span class="s3">[</span><span class="s1">str</span><span class="s3">] = </span><span class="s2">None</span>

    <span class="s0">#: An array of source position ticks.</span>
    <span class="s1">position_ticks</span><span class="s3">: </span><span class="s1">typing</span><span class="s3">.</span><span class="s1">Optional</span><span class="s3">[</span><span class="s1">typing</span><span class="s3">.</span><span class="s1">List</span><span class="s3">[</span><span class="s1">PositionTickInfo</span><span class="s3">]] = </span><span class="s2">None</span>

    <span class="s2">def </span><span class="s1">to_json</span><span class="s3">(</span><span class="s1">self</span><span class="s3">):</span>
        <span class="s1">json </span><span class="s3">= </span><span class="s1">dict</span><span class="s3">()</span>
        <span class="s1">json</span><span class="s3">[</span><span class="s5">'id'</span><span class="s3">] = </span><span class="s1">self</span><span class="s3">.</span><span class="s1">id_</span>
        <span class="s1">json</span><span class="s3">[</span><span class="s5">'callFrame'</span><span class="s3">] = </span><span class="s1">self</span><span class="s3">.</span><span class="s1">call_frame</span><span class="s3">.</span><span class="s1">to_json</span><span class="s3">()</span>
        <span class="s2">if </span><span class="s1">self</span><span class="s3">.</span><span class="s1">hit_count </span><span class="s2">is not None</span><span class="s3">:</span>
            <span class="s1">json</span><span class="s3">[</span><span class="s5">'hitCount'</span><span class="s3">] = </span><span class="s1">self</span><span class="s3">.</span><span class="s1">hit_count</span>
        <span class="s2">if </span><span class="s1">self</span><span class="s3">.</span><span class="s1">children </span><span class="s2">is not None</span><span class="s3">:</span>
            <span class="s1">json</span><span class="s3">[</span><span class="s5">'children'</span><span class="s3">] = [</span><span class="s1">i </span><span class="s2">for </span><span class="s1">i </span><span class="s2">in </span><span class="s1">self</span><span class="s3">.</span><span class="s1">children</span><span class="s3">]</span>
        <span class="s2">if </span><span class="s1">self</span><span class="s3">.</span><span class="s1">deopt_reason </span><span class="s2">is not None</span><span class="s3">:</span>
            <span class="s1">json</span><span class="s3">[</span><span class="s5">'deoptReason'</span><span class="s3">] = </span><span class="s1">self</span><span class="s3">.</span><span class="s1">deopt_reason</span>
        <span class="s2">if </span><span class="s1">self</span><span class="s3">.</span><span class="s1">position_ticks </span><span class="s2">is not None</span><span class="s3">:</span>
            <span class="s1">json</span><span class="s3">[</span><span class="s5">'positionTicks'</span><span class="s3">] = [</span><span class="s1">i</span><span class="s3">.</span><span class="s1">to_json</span><span class="s3">() </span><span class="s2">for </span><span class="s1">i </span><span class="s2">in </span><span class="s1">self</span><span class="s3">.</span><span class="s1">position_ticks</span><span class="s3">]</span>
        <span class="s2">return </span><span class="s1">json</span>

    <span class="s3">@</span><span class="s1">classmethod</span>
    <span class="s2">def </span><span class="s1">from_json</span><span class="s3">(</span><span class="s1">cls</span><span class="s3">, </span><span class="s1">json</span><span class="s3">):</span>
        <span class="s2">return </span><span class="s1">cls</span><span class="s3">(</span>
            <span class="s1">id_</span><span class="s3">=</span><span class="s1">int</span><span class="s3">(</span><span class="s1">json</span><span class="s3">[</span><span class="s5">'id'</span><span class="s3">]),</span>
            <span class="s1">call_frame</span><span class="s3">=</span><span class="s1">runtime</span><span class="s3">.</span><span class="s1">CallFrame</span><span class="s3">.</span><span class="s1">from_json</span><span class="s3">(</span><span class="s1">json</span><span class="s3">[</span><span class="s5">'callFrame'</span><span class="s3">]),</span>
            <span class="s1">hit_count</span><span class="s3">=</span><span class="s1">int</span><span class="s3">(</span><span class="s1">json</span><span class="s3">[</span><span class="s5">'hitCount'</span><span class="s3">]) </span><span class="s2">if </span><span class="s5">'hitCount' </span><span class="s2">in </span><span class="s1">json </span><span class="s2">else None</span><span class="s3">,</span>
            <span class="s1">children</span><span class="s3">=[</span><span class="s1">int</span><span class="s3">(</span><span class="s1">i</span><span class="s3">) </span><span class="s2">for </span><span class="s1">i </span><span class="s2">in </span><span class="s1">json</span><span class="s3">[</span><span class="s5">'children'</span><span class="s3">]] </span><span class="s2">if </span><span class="s5">'children' </span><span class="s2">in </span><span class="s1">json </span><span class="s2">else None</span><span class="s3">,</span>
            <span class="s1">deopt_reason</span><span class="s3">=</span><span class="s1">str</span><span class="s3">(</span><span class="s1">json</span><span class="s3">[</span><span class="s5">'deoptReason'</span><span class="s3">]) </span><span class="s2">if </span><span class="s5">'deoptReason' </span><span class="s2">in </span><span class="s1">json </span><span class="s2">else None</span><span class="s3">,</span>
            <span class="s1">position_ticks</span><span class="s3">=[</span><span class="s1">PositionTickInfo</span><span class="s3">.</span><span class="s1">from_json</span><span class="s3">(</span><span class="s1">i</span><span class="s3">) </span><span class="s2">for </span><span class="s1">i </span><span class="s2">in </span><span class="s1">json</span><span class="s3">[</span><span class="s5">'positionTicks'</span><span class="s3">]] </span><span class="s2">if </span><span class="s5">'positionTicks' </span><span class="s2">in </span><span class="s1">json </span><span class="s2">else None</span><span class="s3">,</span>
        <span class="s3">)</span>


<span class="s3">@</span><span class="s1">dataclass</span>
<span class="s2">class </span><span class="s1">Profile</span><span class="s3">:</span>
    <span class="s4">''' 
    Profile. 
    '''</span>
    <span class="s0">#: The list of profile nodes. First item is the root node.</span>
    <span class="s1">nodes</span><span class="s3">: </span><span class="s1">typing</span><span class="s3">.</span><span class="s1">List</span><span class="s3">[</span><span class="s1">ProfileNode</span><span class="s3">]</span>

    <span class="s0">#: Profiling start timestamp in microseconds.</span>
    <span class="s1">start_time</span><span class="s3">: </span><span class="s1">float</span>

    <span class="s0">#: Profiling end timestamp in microseconds.</span>
    <span class="s1">end_time</span><span class="s3">: </span><span class="s1">float</span>

    <span class="s0">#: Ids of samples top nodes.</span>
    <span class="s1">samples</span><span class="s3">: </span><span class="s1">typing</span><span class="s3">.</span><span class="s1">Optional</span><span class="s3">[</span><span class="s1">typing</span><span class="s3">.</span><span class="s1">List</span><span class="s3">[</span><span class="s1">int</span><span class="s3">]] = </span><span class="s2">None</span>

    <span class="s0">#: Time intervals between adjacent samples in microseconds. The first delta is relative to the</span>
    <span class="s0">#: profile startTime.</span>
    <span class="s1">time_deltas</span><span class="s3">: </span><span class="s1">typing</span><span class="s3">.</span><span class="s1">Optional</span><span class="s3">[</span><span class="s1">typing</span><span class="s3">.</span><span class="s1">List</span><span class="s3">[</span><span class="s1">int</span><span class="s3">]] = </span><span class="s2">None</span>

    <span class="s2">def </span><span class="s1">to_json</span><span class="s3">(</span><span class="s1">self</span><span class="s3">):</span>
        <span class="s1">json </span><span class="s3">= </span><span class="s1">dict</span><span class="s3">()</span>
        <span class="s1">json</span><span class="s3">[</span><span class="s5">'nodes'</span><span class="s3">] = [</span><span class="s1">i</span><span class="s3">.</span><span class="s1">to_json</span><span class="s3">() </span><span class="s2">for </span><span class="s1">i </span><span class="s2">in </span><span class="s1">self</span><span class="s3">.</span><span class="s1">nodes</span><span class="s3">]</span>
        <span class="s1">json</span><span class="s3">[</span><span class="s5">'startTime'</span><span class="s3">] = </span><span class="s1">self</span><span class="s3">.</span><span class="s1">start_time</span>
        <span class="s1">json</span><span class="s3">[</span><span class="s5">'endTime'</span><span class="s3">] = </span><span class="s1">self</span><span class="s3">.</span><span class="s1">end_time</span>
        <span class="s2">if </span><span class="s1">self</span><span class="s3">.</span><span class="s1">samples </span><span class="s2">is not None</span><span class="s3">:</span>
            <span class="s1">json</span><span class="s3">[</span><span class="s5">'samples'</span><span class="s3">] = [</span><span class="s1">i </span><span class="s2">for </span><span class="s1">i </span><span class="s2">in </span><span class="s1">self</span><span class="s3">.</span><span class="s1">samples</span><span class="s3">]</span>
        <span class="s2">if </span><span class="s1">self</span><span class="s3">.</span><span class="s1">time_deltas </span><span class="s2">is not None</span><span class="s3">:</span>
            <span class="s1">json</span><span class="s3">[</span><span class="s5">'timeDeltas'</span><span class="s3">] = [</span><span class="s1">i </span><span class="s2">for </span><span class="s1">i </span><span class="s2">in </span><span class="s1">self</span><span class="s3">.</span><span class="s1">time_deltas</span><span class="s3">]</span>
        <span class="s2">return </span><span class="s1">json</span>

    <span class="s3">@</span><span class="s1">classmethod</span>
    <span class="s2">def </span><span class="s1">from_json</span><span class="s3">(</span><span class="s1">cls</span><span class="s3">, </span><span class="s1">json</span><span class="s3">):</span>
        <span class="s2">return </span><span class="s1">cls</span><span class="s3">(</span>
            <span class="s1">nodes</span><span class="s3">=[</span><span class="s1">ProfileNode</span><span class="s3">.</span><span class="s1">from_json</span><span class="s3">(</span><span class="s1">i</span><span class="s3">) </span><span class="s2">for </span><span class="s1">i </span><span class="s2">in </span><span class="s1">json</span><span class="s3">[</span><span class="s5">'nodes'</span><span class="s3">]],</span>
            <span class="s1">start_time</span><span class="s3">=</span><span class="s1">float</span><span class="s3">(</span><span class="s1">json</span><span class="s3">[</span><span class="s5">'startTime'</span><span class="s3">]),</span>
            <span class="s1">end_time</span><span class="s3">=</span><span class="s1">float</span><span class="s3">(</span><span class="s1">json</span><span class="s3">[</span><span class="s5">'endTime'</span><span class="s3">]),</span>
            <span class="s1">samples</span><span class="s3">=[</span><span class="s1">int</span><span class="s3">(</span><span class="s1">i</span><span class="s3">) </span><span class="s2">for </span><span class="s1">i </span><span class="s2">in </span><span class="s1">json</span><span class="s3">[</span><span class="s5">'samples'</span><span class="s3">]] </span><span class="s2">if </span><span class="s5">'samples' </span><span class="s2">in </span><span class="s1">json </span><span class="s2">else None</span><span class="s3">,</span>
            <span class="s1">time_deltas</span><span class="s3">=[</span><span class="s1">int</span><span class="s3">(</span><span class="s1">i</span><span class="s3">) </span><span class="s2">for </span><span class="s1">i </span><span class="s2">in </span><span class="s1">json</span><span class="s3">[</span><span class="s5">'timeDeltas'</span><span class="s3">]] </span><span class="s2">if </span><span class="s5">'timeDeltas' </span><span class="s2">in </span><span class="s1">json </span><span class="s2">else None</span><span class="s3">,</span>
        <span class="s3">)</span>


<span class="s3">@</span><span class="s1">dataclass</span>
<span class="s2">class </span><span class="s1">PositionTickInfo</span><span class="s3">:</span>
    <span class="s4">''' 
    Specifies a number of samples attributed to a certain source position. 
    '''</span>
    <span class="s0">#: Source line number (1-based).</span>
    <span class="s1">line</span><span class="s3">: </span><span class="s1">int</span>

    <span class="s0">#: Number of samples attributed to the source line.</span>
    <span class="s1">ticks</span><span class="s3">: </span><span class="s1">int</span>

    <span class="s2">def </span><span class="s1">to_json</span><span class="s3">(</span><span class="s1">self</span><span class="s3">):</span>
        <span class="s1">json </span><span class="s3">= </span><span class="s1">dict</span><span class="s3">()</span>
        <span class="s1">json</span><span class="s3">[</span><span class="s5">'line'</span><span class="s3">] = </span><span class="s1">self</span><span class="s3">.</span><span class="s1">line</span>
        <span class="s1">json</span><span class="s3">[</span><span class="s5">'ticks'</span><span class="s3">] = </span><span class="s1">self</span><span class="s3">.</span><span class="s1">ticks</span>
        <span class="s2">return </span><span class="s1">json</span>

    <span class="s3">@</span><span class="s1">classmethod</span>
    <span class="s2">def </span><span class="s1">from_json</span><span class="s3">(</span><span class="s1">cls</span><span class="s3">, </span><span class="s1">json</span><span class="s3">):</span>
        <span class="s2">return </span><span class="s1">cls</span><span class="s3">(</span>
            <span class="s1">line</span><span class="s3">=</span><span class="s1">int</span><span class="s3">(</span><span class="s1">json</span><span class="s3">[</span><span class="s5">'line'</span><span class="s3">]),</span>
            <span class="s1">ticks</span><span class="s3">=</span><span class="s1">int</span><span class="s3">(</span><span class="s1">json</span><span class="s3">[</span><span class="s5">'ticks'</span><span class="s3">]),</span>
        <span class="s3">)</span>


<span class="s3">@</span><span class="s1">dataclass</span>
<span class="s2">class </span><span class="s1">CoverageRange</span><span class="s3">:</span>
    <span class="s4">''' 
    Coverage data for a source range. 
    '''</span>
    <span class="s0">#: JavaScript script source offset for the range start.</span>
    <span class="s1">start_offset</span><span class="s3">: </span><span class="s1">int</span>

    <span class="s0">#: JavaScript script source offset for the range end.</span>
    <span class="s1">end_offset</span><span class="s3">: </span><span class="s1">int</span>

    <span class="s0">#: Collected execution count of the source range.</span>
    <span class="s1">count</span><span class="s3">: </span><span class="s1">int</span>

    <span class="s2">def </span><span class="s1">to_json</span><span class="s3">(</span><span class="s1">self</span><span class="s3">):</span>
        <span class="s1">json </span><span class="s3">= </span><span class="s1">dict</span><span class="s3">()</span>
        <span class="s1">json</span><span class="s3">[</span><span class="s5">'startOffset'</span><span class="s3">] = </span><span class="s1">self</span><span class="s3">.</span><span class="s1">start_offset</span>
        <span class="s1">json</span><span class="s3">[</span><span class="s5">'endOffset'</span><span class="s3">] = </span><span class="s1">self</span><span class="s3">.</span><span class="s1">end_offset</span>
        <span class="s1">json</span><span class="s3">[</span><span class="s5">'count'</span><span class="s3">] = </span><span class="s1">self</span><span class="s3">.</span><span class="s1">count</span>
        <span class="s2">return </span><span class="s1">json</span>

    <span class="s3">@</span><span class="s1">classmethod</span>
    <span class="s2">def </span><span class="s1">from_json</span><span class="s3">(</span><span class="s1">cls</span><span class="s3">, </span><span class="s1">json</span><span class="s3">):</span>
        <span class="s2">return </span><span class="s1">cls</span><span class="s3">(</span>
            <span class="s1">start_offset</span><span class="s3">=</span><span class="s1">int</span><span class="s3">(</span><span class="s1">json</span><span class="s3">[</span><span class="s5">'startOffset'</span><span class="s3">]),</span>
            <span class="s1">end_offset</span><span class="s3">=</span><span class="s1">int</span><span class="s3">(</span><span class="s1">json</span><span class="s3">[</span><span class="s5">'endOffset'</span><span class="s3">]),</span>
            <span class="s1">count</span><span class="s3">=</span><span class="s1">int</span><span class="s3">(</span><span class="s1">json</span><span class="s3">[</span><span class="s5">'count'</span><span class="s3">]),</span>
        <span class="s3">)</span>


<span class="s3">@</span><span class="s1">dataclass</span>
<span class="s2">class </span><span class="s1">FunctionCoverage</span><span class="s3">:</span>
    <span class="s4">''' 
    Coverage data for a JavaScript function. 
    '''</span>
    <span class="s0">#: JavaScript function name.</span>
    <span class="s1">function_name</span><span class="s3">: </span><span class="s1">str</span>

    <span class="s0">#: Source ranges inside the function with coverage data.</span>
    <span class="s1">ranges</span><span class="s3">: </span><span class="s1">typing</span><span class="s3">.</span><span class="s1">List</span><span class="s3">[</span><span class="s1">CoverageRange</span><span class="s3">]</span>

    <span class="s0">#: Whether coverage data for this function has block granularity.</span>
    <span class="s1">is_block_coverage</span><span class="s3">: </span><span class="s1">bool</span>

    <span class="s2">def </span><span class="s1">to_json</span><span class="s3">(</span><span class="s1">self</span><span class="s3">):</span>
        <span class="s1">json </span><span class="s3">= </span><span class="s1">dict</span><span class="s3">()</span>
        <span class="s1">json</span><span class="s3">[</span><span class="s5">'functionName'</span><span class="s3">] = </span><span class="s1">self</span><span class="s3">.</span><span class="s1">function_name</span>
        <span class="s1">json</span><span class="s3">[</span><span class="s5">'ranges'</span><span class="s3">] = [</span><span class="s1">i</span><span class="s3">.</span><span class="s1">to_json</span><span class="s3">() </span><span class="s2">for </span><span class="s1">i </span><span class="s2">in </span><span class="s1">self</span><span class="s3">.</span><span class="s1">ranges</span><span class="s3">]</span>
        <span class="s1">json</span><span class="s3">[</span><span class="s5">'isBlockCoverage'</span><span class="s3">] = </span><span class="s1">self</span><span class="s3">.</span><span class="s1">is_block_coverage</span>
        <span class="s2">return </span><span class="s1">json</span>

    <span class="s3">@</span><span class="s1">classmethod</span>
    <span class="s2">def </span><span class="s1">from_json</span><span class="s3">(</span><span class="s1">cls</span><span class="s3">, </span><span class="s1">json</span><span class="s3">):</span>
        <span class="s2">return </span><span class="s1">cls</span><span class="s3">(</span>
            <span class="s1">function_name</span><span class="s3">=</span><span class="s1">str</span><span class="s3">(</span><span class="s1">json</span><span class="s3">[</span><span class="s5">'functionName'</span><span class="s3">]),</span>
            <span class="s1">ranges</span><span class="s3">=[</span><span class="s1">CoverageRange</span><span class="s3">.</span><span class="s1">from_json</span><span class="s3">(</span><span class="s1">i</span><span class="s3">) </span><span class="s2">for </span><span class="s1">i </span><span class="s2">in </span><span class="s1">json</span><span class="s3">[</span><span class="s5">'ranges'</span><span class="s3">]],</span>
            <span class="s1">is_block_coverage</span><span class="s3">=</span><span class="s1">bool</span><span class="s3">(</span><span class="s1">json</span><span class="s3">[</span><span class="s5">'isBlockCoverage'</span><span class="s3">]),</span>
        <span class="s3">)</span>


<span class="s3">@</span><span class="s1">dataclass</span>
<span class="s2">class </span><span class="s1">ScriptCoverage</span><span class="s3">:</span>
    <span class="s4">''' 
    Coverage data for a JavaScript script. 
    '''</span>
    <span class="s0">#: JavaScript script id.</span>
    <span class="s1">script_id</span><span class="s3">: </span><span class="s1">runtime</span><span class="s3">.</span><span class="s1">ScriptId</span>

    <span class="s0">#: JavaScript script name or url.</span>
    <span class="s1">url</span><span class="s3">: </span><span class="s1">str</span>

    <span class="s0">#: Functions contained in the script that has coverage data.</span>
    <span class="s1">functions</span><span class="s3">: </span><span class="s1">typing</span><span class="s3">.</span><span class="s1">List</span><span class="s3">[</span><span class="s1">FunctionCoverage</span><span class="s3">]</span>

    <span class="s2">def </span><span class="s1">to_json</span><span class="s3">(</span><span class="s1">self</span><span class="s3">):</span>
        <span class="s1">json </span><span class="s3">= </span><span class="s1">dict</span><span class="s3">()</span>
        <span class="s1">json</span><span class="s3">[</span><span class="s5">'scriptId'</span><span class="s3">] = </span><span class="s1">self</span><span class="s3">.</span><span class="s1">script_id</span><span class="s3">.</span><span class="s1">to_json</span><span class="s3">()</span>
        <span class="s1">json</span><span class="s3">[</span><span class="s5">'url'</span><span class="s3">] = </span><span class="s1">self</span><span class="s3">.</span><span class="s1">url</span>
        <span class="s1">json</span><span class="s3">[</span><span class="s5">'functions'</span><span class="s3">] = [</span><span class="s1">i</span><span class="s3">.</span><span class="s1">to_json</span><span class="s3">() </span><span class="s2">for </span><span class="s1">i </span><span class="s2">in </span><span class="s1">self</span><span class="s3">.</span><span class="s1">functions</span><span class="s3">]</span>
        <span class="s2">return </span><span class="s1">json</span>

    <span class="s3">@</span><span class="s1">classmethod</span>
    <span class="s2">def </span><span class="s1">from_json</span><span class="s3">(</span><span class="s1">cls</span><span class="s3">, </span><span class="s1">json</span><span class="s3">):</span>
        <span class="s2">return </span><span class="s1">cls</span><span class="s3">(</span>
            <span class="s1">script_id</span><span class="s3">=</span><span class="s1">runtime</span><span class="s3">.</span><span class="s1">ScriptId</span><span class="s3">.</span><span class="s1">from_json</span><span class="s3">(</span><span class="s1">json</span><span class="s3">[</span><span class="s5">'scriptId'</span><span class="s3">]),</span>
            <span class="s1">url</span><span class="s3">=</span><span class="s1">str</span><span class="s3">(</span><span class="s1">json</span><span class="s3">[</span><span class="s5">'url'</span><span class="s3">]),</span>
            <span class="s1">functions</span><span class="s3">=[</span><span class="s1">FunctionCoverage</span><span class="s3">.</span><span class="s1">from_json</span><span class="s3">(</span><span class="s1">i</span><span class="s3">) </span><span class="s2">for </span><span class="s1">i </span><span class="s2">in </span><span class="s1">json</span><span class="s3">[</span><span class="s5">'functions'</span><span class="s3">]],</span>
        <span class="s3">)</span>


<span class="s2">def </span><span class="s1">disable</span><span class="s3">() </span><span class="s1">-&gt; typing</span><span class="s3">.</span><span class="s1">Generator</span><span class="s3">[</span><span class="s1">T_JSON_DICT</span><span class="s3">,</span><span class="s1">T_JSON_DICT</span><span class="s3">,</span><span class="s2">None</span><span class="s3">]:</span>

    <span class="s1">cmd_dict</span><span class="s3">: </span><span class="s1">T_JSON_DICT </span><span class="s3">= {</span>
        <span class="s5">'method'</span><span class="s3">: </span><span class="s5">'Profiler.disable'</span><span class="s3">,</span>
    <span class="s3">}</span>
    <span class="s1">json </span><span class="s3">= </span><span class="s2">yield </span><span class="s1">cmd_dict</span>


<span class="s2">def </span><span class="s1">enable</span><span class="s3">() </span><span class="s1">-&gt; typing</span><span class="s3">.</span><span class="s1">Generator</span><span class="s3">[</span><span class="s1">T_JSON_DICT</span><span class="s3">,</span><span class="s1">T_JSON_DICT</span><span class="s3">,</span><span class="s2">None</span><span class="s3">]:</span>

    <span class="s1">cmd_dict</span><span class="s3">: </span><span class="s1">T_JSON_DICT </span><span class="s3">= {</span>
        <span class="s5">'method'</span><span class="s3">: </span><span class="s5">'Profiler.enable'</span><span class="s3">,</span>
    <span class="s3">}</span>
    <span class="s1">json </span><span class="s3">= </span><span class="s2">yield </span><span class="s1">cmd_dict</span>


<span class="s2">def </span><span class="s1">get_best_effort_coverage</span><span class="s3">() </span><span class="s1">-&gt; typing</span><span class="s3">.</span><span class="s1">Generator</span><span class="s3">[</span><span class="s1">T_JSON_DICT</span><span class="s3">,</span><span class="s1">T_JSON_DICT</span><span class="s3">,</span><span class="s1">typing</span><span class="s3">.</span><span class="s1">List</span><span class="s3">[</span><span class="s1">ScriptCoverage</span><span class="s3">]]:</span>
    <span class="s4">''' 
    Collect coverage data for the current isolate. The coverage data may be incomplete due to 
    garbage collection. 
 
    :returns: Coverage data for the current isolate. 
    '''</span>
    <span class="s1">cmd_dict</span><span class="s3">: </span><span class="s1">T_JSON_DICT </span><span class="s3">= {</span>
        <span class="s5">'method'</span><span class="s3">: </span><span class="s5">'Profiler.getBestEffortCoverage'</span><span class="s3">,</span>
    <span class="s3">}</span>
    <span class="s1">json </span><span class="s3">= </span><span class="s2">yield </span><span class="s1">cmd_dict</span>
    <span class="s2">return </span><span class="s3">[</span><span class="s1">ScriptCoverage</span><span class="s3">.</span><span class="s1">from_json</span><span class="s3">(</span><span class="s1">i</span><span class="s3">) </span><span class="s2">for </span><span class="s1">i </span><span class="s2">in </span><span class="s1">json</span><span class="s3">[</span><span class="s5">'result'</span><span class="s3">]]</span>


<span class="s2">def </span><span class="s1">set_sampling_interval</span><span class="s3">(</span>
        <span class="s1">interval</span><span class="s3">: </span><span class="s1">int</span>
    <span class="s3">) </span><span class="s1">-&gt; typing</span><span class="s3">.</span><span class="s1">Generator</span><span class="s3">[</span><span class="s1">T_JSON_DICT</span><span class="s3">,</span><span class="s1">T_JSON_DICT</span><span class="s3">,</span><span class="s2">None</span><span class="s3">]:</span>
    <span class="s4">''' 
    Changes CPU profiler sampling interval. Must be called before CPU profiles recording started. 
 
    :param interval: New sampling interval in microseconds. 
    '''</span>
    <span class="s1">params</span><span class="s3">: </span><span class="s1">T_JSON_DICT </span><span class="s3">= </span><span class="s1">dict</span><span class="s3">()</span>
    <span class="s1">params</span><span class="s3">[</span><span class="s5">'interval'</span><span class="s3">] = </span><span class="s1">interval</span>
    <span class="s1">cmd_dict</span><span class="s3">: </span><span class="s1">T_JSON_DICT </span><span class="s3">= {</span>
        <span class="s5">'method'</span><span class="s3">: </span><span class="s5">'Profiler.setSamplingInterval'</span><span class="s3">,</span>
        <span class="s5">'params'</span><span class="s3">: </span><span class="s1">params</span><span class="s3">,</span>
    <span class="s3">}</span>
    <span class="s1">json </span><span class="s3">= </span><span class="s2">yield </span><span class="s1">cmd_dict</span>


<span class="s2">def </span><span class="s1">start</span><span class="s3">() </span><span class="s1">-&gt; typing</span><span class="s3">.</span><span class="s1">Generator</span><span class="s3">[</span><span class="s1">T_JSON_DICT</span><span class="s3">,</span><span class="s1">T_JSON_DICT</span><span class="s3">,</span><span class="s2">None</span><span class="s3">]:</span>

    <span class="s1">cmd_dict</span><span class="s3">: </span><span class="s1">T_JSON_DICT </span><span class="s3">= {</span>
        <span class="s5">'method'</span><span class="s3">: </span><span class="s5">'Profiler.start'</span><span class="s3">,</span>
    <span class="s3">}</span>
    <span class="s1">json </span><span class="s3">= </span><span class="s2">yield </span><span class="s1">cmd_dict</span>


<span class="s2">def </span><span class="s1">start_precise_coverage</span><span class="s3">(</span>
        <span class="s1">call_count</span><span class="s3">: </span><span class="s1">typing</span><span class="s3">.</span><span class="s1">Optional</span><span class="s3">[</span><span class="s1">bool</span><span class="s3">] = </span><span class="s2">None</span><span class="s3">,</span>
        <span class="s1">detailed</span><span class="s3">: </span><span class="s1">typing</span><span class="s3">.</span><span class="s1">Optional</span><span class="s3">[</span><span class="s1">bool</span><span class="s3">] = </span><span class="s2">None</span><span class="s3">,</span>
        <span class="s1">allow_triggered_updates</span><span class="s3">: </span><span class="s1">typing</span><span class="s3">.</span><span class="s1">Optional</span><span class="s3">[</span><span class="s1">bool</span><span class="s3">] = </span><span class="s2">None</span>
    <span class="s3">) </span><span class="s1">-&gt; typing</span><span class="s3">.</span><span class="s1">Generator</span><span class="s3">[</span><span class="s1">T_JSON_DICT</span><span class="s3">,</span><span class="s1">T_JSON_DICT</span><span class="s3">,</span><span class="s1">float</span><span class="s3">]:</span>
    <span class="s4">''' 
    Enable precise code coverage. Coverage data for JavaScript executed before enabling precise code 
    coverage may be incomplete. Enabling prevents running optimized code and resets execution 
    counters. 
 
    :param call_count: *(Optional)* Collect accurate call counts beyond simple 'covered' or 'not covered'. 
    :param detailed: *(Optional)* Collect block-based coverage. 
    :param allow_triggered_updates: *(Optional)* Allow the backend to send updates on its own initiative 
    :returns: Monotonically increasing time (in seconds) when the coverage update was taken in the backend. 
    '''</span>
    <span class="s1">params</span><span class="s3">: </span><span class="s1">T_JSON_DICT </span><span class="s3">= </span><span class="s1">dict</span><span class="s3">()</span>
    <span class="s2">if </span><span class="s1">call_count </span><span class="s2">is not None</span><span class="s3">:</span>
        <span class="s1">params</span><span class="s3">[</span><span class="s5">'callCount'</span><span class="s3">] = </span><span class="s1">call_count</span>
    <span class="s2">if </span><span class="s1">detailed </span><span class="s2">is not None</span><span class="s3">:</span>
        <span class="s1">params</span><span class="s3">[</span><span class="s5">'detailed'</span><span class="s3">] = </span><span class="s1">detailed</span>
    <span class="s2">if </span><span class="s1">allow_triggered_updates </span><span class="s2">is not None</span><span class="s3">:</span>
        <span class="s1">params</span><span class="s3">[</span><span class="s5">'allowTriggeredUpdates'</span><span class="s3">] = </span><span class="s1">allow_triggered_updates</span>
    <span class="s1">cmd_dict</span><span class="s3">: </span><span class="s1">T_JSON_DICT </span><span class="s3">= {</span>
        <span class="s5">'method'</span><span class="s3">: </span><span class="s5">'Profiler.startPreciseCoverage'</span><span class="s3">,</span>
        <span class="s5">'params'</span><span class="s3">: </span><span class="s1">params</span><span class="s3">,</span>
    <span class="s3">}</span>
    <span class="s1">json </span><span class="s3">= </span><span class="s2">yield </span><span class="s1">cmd_dict</span>
    <span class="s2">return </span><span class="s1">float</span><span class="s3">(</span><span class="s1">json</span><span class="s3">[</span><span class="s5">'timestamp'</span><span class="s3">])</span>


<span class="s2">def </span><span class="s1">stop</span><span class="s3">() </span><span class="s1">-&gt; typing</span><span class="s3">.</span><span class="s1">Generator</span><span class="s3">[</span><span class="s1">T_JSON_DICT</span><span class="s3">,</span><span class="s1">T_JSON_DICT</span><span class="s3">,</span><span class="s1">Profile</span><span class="s3">]:</span>
    <span class="s4">''' 
 
 
    :returns: Recorded profile. 
    '''</span>
    <span class="s1">cmd_dict</span><span class="s3">: </span><span class="s1">T_JSON_DICT </span><span class="s3">= {</span>
        <span class="s5">'method'</span><span class="s3">: </span><span class="s5">'Profiler.stop'</span><span class="s3">,</span>
    <span class="s3">}</span>
    <span class="s1">json </span><span class="s3">= </span><span class="s2">yield </span><span class="s1">cmd_dict</span>
    <span class="s2">return </span><span class="s1">Profile</span><span class="s3">.</span><span class="s1">from_json</span><span class="s3">(</span><span class="s1">json</span><span class="s3">[</span><span class="s5">'profile'</span><span class="s3">])</span>


<span class="s2">def </span><span class="s1">stop_precise_coverage</span><span class="s3">() </span><span class="s1">-&gt; typing</span><span class="s3">.</span><span class="s1">Generator</span><span class="s3">[</span><span class="s1">T_JSON_DICT</span><span class="s3">,</span><span class="s1">T_JSON_DICT</span><span class="s3">,</span><span class="s2">None</span><span class="s3">]:</span>
    <span class="s4">''' 
    Disable precise code coverage. Disabling releases unnecessary execution count records and allows 
    executing optimized code. 
    '''</span>
    <span class="s1">cmd_dict</span><span class="s3">: </span><span class="s1">T_JSON_DICT </span><span class="s3">= {</span>
        <span class="s5">'method'</span><span class="s3">: </span><span class="s5">'Profiler.stopPreciseCoverage'</span><span class="s3">,</span>
    <span class="s3">}</span>
    <span class="s1">json </span><span class="s3">= </span><span class="s2">yield </span><span class="s1">cmd_dict</span>


<span class="s2">def </span><span class="s1">take_precise_coverage</span><span class="s3">() </span><span class="s1">-&gt; typing</span><span class="s3">.</span><span class="s1">Generator</span><span class="s3">[</span><span class="s1">T_JSON_DICT</span><span class="s3">,</span><span class="s1">T_JSON_DICT</span><span class="s3">,</span><span class="s1">typing</span><span class="s3">.</span><span class="s1">Tuple</span><span class="s3">[</span><span class="s1">typing</span><span class="s3">.</span><span class="s1">List</span><span class="s3">[</span><span class="s1">ScriptCoverage</span><span class="s3">], </span><span class="s1">float</span><span class="s3">]]:</span>
    <span class="s4">''' 
    Collect coverage data for the current isolate, and resets execution counters. Precise code 
    coverage needs to have started. 
 
    :returns: A tuple with the following items: 
 
        0. **result** - Coverage data for the current isolate. 
        1. **timestamp** - Monotonically increasing time (in seconds) when the coverage update was taken in the backend. 
    '''</span>
    <span class="s1">cmd_dict</span><span class="s3">: </span><span class="s1">T_JSON_DICT </span><span class="s3">= {</span>
        <span class="s5">'method'</span><span class="s3">: </span><span class="s5">'Profiler.takePreciseCoverage'</span><span class="s3">,</span>
    <span class="s3">}</span>
    <span class="s1">json </span><span class="s3">= </span><span class="s2">yield </span><span class="s1">cmd_dict</span>
    <span class="s2">return </span><span class="s3">(</span>
        <span class="s3">[</span><span class="s1">ScriptCoverage</span><span class="s3">.</span><span class="s1">from_json</span><span class="s3">(</span><span class="s1">i</span><span class="s3">) </span><span class="s2">for </span><span class="s1">i </span><span class="s2">in </span><span class="s1">json</span><span class="s3">[</span><span class="s5">'result'</span><span class="s3">]],</span>
        <span class="s1">float</span><span class="s3">(</span><span class="s1">json</span><span class="s3">[</span><span class="s5">'timestamp'</span><span class="s3">])</span>
    <span class="s3">)</span>


<span class="s3">@</span><span class="s1">event_class</span><span class="s3">(</span><span class="s5">'Profiler.consoleProfileFinished'</span><span class="s3">)</span>
<span class="s3">@</span><span class="s1">dataclass</span>
<span class="s2">class </span><span class="s1">ConsoleProfileFinished</span><span class="s3">:</span>
    <span class="s1">id_</span><span class="s3">: </span><span class="s1">str</span>
    <span class="s0">#: Location of console.profileEnd().</span>
    <span class="s1">location</span><span class="s3">: </span><span class="s1">debugger</span><span class="s3">.</span><span class="s1">Location</span>
    <span class="s1">profile</span><span class="s3">: </span><span class="s1">Profile</span>
    <span class="s0">#: Profile title passed as an argument to console.profile().</span>
    <span class="s1">title</span><span class="s3">: </span><span class="s1">typing</span><span class="s3">.</span><span class="s1">Optional</span><span class="s3">[</span><span class="s1">str</span><span class="s3">]</span>

    <span class="s3">@</span><span class="s1">classmethod</span>
    <span class="s2">def </span><span class="s1">from_json</span><span class="s3">(</span><span class="s1">cls</span><span class="s3">, </span><span class="s1">json</span><span class="s3">: </span><span class="s1">T_JSON_DICT</span><span class="s3">) </span><span class="s1">-&gt; ConsoleProfileFinished</span><span class="s3">:</span>
        <span class="s2">return </span><span class="s1">cls</span><span class="s3">(</span>
            <span class="s1">id_</span><span class="s3">=</span><span class="s1">str</span><span class="s3">(</span><span class="s1">json</span><span class="s3">[</span><span class="s5">'id'</span><span class="s3">]),</span>
            <span class="s1">location</span><span class="s3">=</span><span class="s1">debugger</span><span class="s3">.</span><span class="s1">Location</span><span class="s3">.</span><span class="s1">from_json</span><span class="s3">(</span><span class="s1">json</span><span class="s3">[</span><span class="s5">'location'</span><span class="s3">]),</span>
            <span class="s1">profile</span><span class="s3">=</span><span class="s1">Profile</span><span class="s3">.</span><span class="s1">from_json</span><span class="s3">(</span><span class="s1">json</span><span class="s3">[</span><span class="s5">'profile'</span><span class="s3">]),</span>
            <span class="s1">title</span><span class="s3">=</span><span class="s1">str</span><span class="s3">(</span><span class="s1">json</span><span class="s3">[</span><span class="s5">'title'</span><span class="s3">]) </span><span class="s2">if </span><span class="s5">'title' </span><span class="s2">in </span><span class="s1">json </span><span class="s2">else None</span>
        <span class="s3">)</span>


<span class="s3">@</span><span class="s1">event_class</span><span class="s3">(</span><span class="s5">'Profiler.consoleProfileStarted'</span><span class="s3">)</span>
<span class="s3">@</span><span class="s1">dataclass</span>
<span class="s2">class </span><span class="s1">ConsoleProfileStarted</span><span class="s3">:</span>
    <span class="s4">''' 
    Sent when new profile recording is started using console.profile() call. 
    '''</span>
    <span class="s1">id_</span><span class="s3">: </span><span class="s1">str</span>
    <span class="s0">#: Location of console.profile().</span>
    <span class="s1">location</span><span class="s3">: </span><span class="s1">debugger</span><span class="s3">.</span><span class="s1">Location</span>
    <span class="s0">#: Profile title passed as an argument to console.profile().</span>
    <span class="s1">title</span><span class="s3">: </span><span class="s1">typing</span><span class="s3">.</span><span class="s1">Optional</span><span class="s3">[</span><span class="s1">str</span><span class="s3">]</span>

    <span class="s3">@</span><span class="s1">classmethod</span>
    <span class="s2">def </span><span class="s1">from_json</span><span class="s3">(</span><span class="s1">cls</span><span class="s3">, </span><span class="s1">json</span><span class="s3">: </span><span class="s1">T_JSON_DICT</span><span class="s3">) </span><span class="s1">-&gt; ConsoleProfileStarted</span><span class="s3">:</span>
        <span class="s2">return </span><span class="s1">cls</span><span class="s3">(</span>
            <span class="s1">id_</span><span class="s3">=</span><span class="s1">str</span><span class="s3">(</span><span class="s1">json</span><span class="s3">[</span><span class="s5">'id'</span><span class="s3">]),</span>
            <span class="s1">location</span><span class="s3">=</span><span class="s1">debugger</span><span class="s3">.</span><span class="s1">Location</span><span class="s3">.</span><span class="s1">from_json</span><span class="s3">(</span><span class="s1">json</span><span class="s3">[</span><span class="s5">'location'</span><span class="s3">]),</span>
            <span class="s1">title</span><span class="s3">=</span><span class="s1">str</span><span class="s3">(</span><span class="s1">json</span><span class="s3">[</span><span class="s5">'title'</span><span class="s3">]) </span><span class="s2">if </span><span class="s5">'title' </span><span class="s2">in </span><span class="s1">json </span><span class="s2">else None</span>
        <span class="s3">)</span>


<span class="s3">@</span><span class="s1">event_class</span><span class="s3">(</span><span class="s5">'Profiler.preciseCoverageDeltaUpdate'</span><span class="s3">)</span>
<span class="s3">@</span><span class="s1">dataclass</span>
<span class="s2">class </span><span class="s1">PreciseCoverageDeltaUpdate</span><span class="s3">:</span>
    <span class="s4">''' 
    **EXPERIMENTAL** 
 
    Reports coverage delta since the last poll (either from an event like this, or from 
    ``takePreciseCoverage`` for the current isolate. May only be sent if precise code 
    coverage has been started. This event can be trigged by the embedder to, for example, 
    trigger collection of coverage data immediately at a certain point in time. 
    '''</span>
    <span class="s0">#: Monotonically increasing time (in seconds) when the coverage update was taken in the backend.</span>
    <span class="s1">timestamp</span><span class="s3">: </span><span class="s1">float</span>
    <span class="s0">#: Identifier for distinguishing coverage events.</span>
    <span class="s1">occasion</span><span class="s3">: </span><span class="s1">str</span>
    <span class="s0">#: Coverage data for the current isolate.</span>
    <span class="s1">result</span><span class="s3">: </span><span class="s1">typing</span><span class="s3">.</span><span class="s1">List</span><span class="s3">[</span><span class="s1">ScriptCoverage</span><span class="s3">]</span>

    <span class="s3">@</span><span class="s1">classmethod</span>
    <span class="s2">def </span><span class="s1">from_json</span><span class="s3">(</span><span class="s1">cls</span><span class="s3">, </span><span class="s1">json</span><span class="s3">: </span><span class="s1">T_JSON_DICT</span><span class="s3">) </span><span class="s1">-&gt; PreciseCoverageDeltaUpdate</span><span class="s3">:</span>
        <span class="s2">return </span><span class="s1">cls</span><span class="s3">(</span>
            <span class="s1">timestamp</span><span class="s3">=</span><span class="s1">float</span><span class="s3">(</span><span class="s1">json</span><span class="s3">[</span><span class="s5">'timestamp'</span><span class="s3">]),</span>
            <span class="s1">occasion</span><span class="s3">=</span><span class="s1">str</span><span class="s3">(</span><span class="s1">json</span><span class="s3">[</span><span class="s5">'occasion'</span><span class="s3">]),</span>
            <span class="s1">result</span><span class="s3">=[</span><span class="s1">ScriptCoverage</span><span class="s3">.</span><span class="s1">from_json</span><span class="s3">(</span><span class="s1">i</span><span class="s3">) </span><span class="s2">for </span><span class="s1">i </span><span class="s2">in </span><span class="s1">json</span><span class="s3">[</span><span class="s5">'result'</span><span class="s3">]]</span>
        <span class="s3">)</span>
</pre>
</body>
</html>