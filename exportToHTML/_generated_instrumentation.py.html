<html>
<head>
<title>_generated_instrumentation.py</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #7a7e85;}
.s1 { color: #bcbec4;}
.s2 { color: #cf8e6d;}
.s3 { color: #bcbec4;}
.s4 { color: #5f826b; font-style: italic;}
.s5 { color: #6aab73;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
_generated_instrumentation.py</font>
</center></td></tr></table>
<pre><span class="s0"># ***********************************************************</span>
<span class="s0"># ******* WARNING: AUTOGENERATED! ALL EDITS WILL BE LOST ******</span>
<span class="s0"># *************************************************************</span>
<span class="s0"># isort: skip</span>
<span class="s2">from </span><span class="s3">.</span><span class="s1">_instrumentation </span><span class="s2">import </span><span class="s1">Instrument</span>
<span class="s2">from </span><span class="s3">.</span><span class="s1">_ki </span><span class="s2">import </span><span class="s1">LOCALS_KEY_KI_PROTECTION_ENABLED</span>
<span class="s2">from </span><span class="s3">.</span><span class="s1">_run </span><span class="s2">import </span><span class="s1">_NO_SEND</span><span class="s3">, </span><span class="s1">GLOBAL_RUN_CONTEXT</span>

<span class="s0"># fmt: off</span>


<span class="s2">def </span><span class="s1">add_instrument</span><span class="s3">(</span><span class="s1">instrument</span><span class="s3">: </span><span class="s1">Instrument</span><span class="s3">) </span><span class="s1">-&gt;</span><span class="s2">None</span><span class="s3">:</span>
    <span class="s4">&quot;&quot;&quot;Start instrumenting the current run loop with the given instrument. 
 
        Args: 
          instrument (trio.abc.Instrument): The instrument to activate. 
 
        If ``instrument`` is already active, does nothing. 
 
        &quot;&quot;&quot;</span>
    <span class="s1">locals</span><span class="s3">()[</span><span class="s1">LOCALS_KEY_KI_PROTECTION_ENABLED</span><span class="s3">] = </span><span class="s2">True</span>
    <span class="s2">try</span><span class="s3">:</span>
        <span class="s2">return </span><span class="s1">GLOBAL_RUN_CONTEXT</span><span class="s3">.</span><span class="s1">runner</span><span class="s3">.</span><span class="s1">instruments</span><span class="s3">.</span><span class="s1">add_instrument</span><span class="s3">(</span><span class="s1">instrument</span><span class="s3">)</span>
    <span class="s2">except </span><span class="s1">AttributeError</span><span class="s3">:</span>
        <span class="s2">raise </span><span class="s1">RuntimeError</span><span class="s3">(</span><span class="s5">&quot;must be called from async context&quot;</span><span class="s3">)</span>


<span class="s2">def </span><span class="s1">remove_instrument</span><span class="s3">(</span><span class="s1">instrument</span><span class="s3">: </span><span class="s1">Instrument</span><span class="s3">) </span><span class="s1">-&gt;</span><span class="s2">None</span><span class="s3">:</span>
    <span class="s4">&quot;&quot;&quot;Stop instrumenting the current run loop with the given instrument. 
 
        Args: 
          instrument (trio.abc.Instrument): The instrument to de-activate. 
 
        Raises: 
          KeyError: if the instrument is not currently active. This could 
              occur either because you never added it, or because you added it 
              and then it raised an unhandled exception and was automatically 
              deactivated. 
 
        &quot;&quot;&quot;</span>
    <span class="s1">locals</span><span class="s3">()[</span><span class="s1">LOCALS_KEY_KI_PROTECTION_ENABLED</span><span class="s3">] = </span><span class="s2">True</span>
    <span class="s2">try</span><span class="s3">:</span>
        <span class="s2">return </span><span class="s1">GLOBAL_RUN_CONTEXT</span><span class="s3">.</span><span class="s1">runner</span><span class="s3">.</span><span class="s1">instruments</span><span class="s3">.</span><span class="s1">remove_instrument</span><span class="s3">(</span><span class="s1">instrument</span><span class="s3">)</span>
    <span class="s2">except </span><span class="s1">AttributeError</span><span class="s3">:</span>
        <span class="s2">raise </span><span class="s1">RuntimeError</span><span class="s3">(</span><span class="s5">&quot;must be called from async context&quot;</span><span class="s3">)</span>


<span class="s0"># fmt: on</span>
</pre>
</body>
</html>