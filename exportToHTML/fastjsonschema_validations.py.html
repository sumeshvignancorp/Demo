<html>
<head>
<title>fastjsonschema_validations.py</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #7a7e85;}
.s1 { color: #bcbec4;}
.s2 { color: #bcbec4;}
.s3 { color: #6aab73;}
.s4 { color: #cf8e6d;}
.s5 { color: #2aacb8;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
fastjsonschema_validations.py</font>
</center></td></tr></table>
<pre><span class="s0"># noqa</span>
<span class="s0"># type: ignore</span>
<span class="s0"># flake8: noqa</span>
<span class="s0"># pylint: skip-file</span>
<span class="s0"># mypy: ignore-errors</span>
<span class="s0"># yapf: disable</span>
<span class="s0"># pylama:skip=1</span>


<span class="s0"># *** PLEASE DO NOT MODIFY DIRECTLY: Automatically generated code *** </span>


<span class="s1">VERSION </span><span class="s2">= </span><span class="s3">&quot;2.15.3&quot;</span>
<span class="s4">import </span><span class="s1">re</span>
<span class="s4">from </span><span class="s2">.</span><span class="s1">fastjsonschema_exceptions </span><span class="s4">import </span><span class="s1">JsonSchemaValueException</span>


<span class="s1">REGEX_PATTERNS </span><span class="s2">= {</span>
    <span class="s3">'^.*$'</span><span class="s2">: </span><span class="s1">re</span><span class="s2">.</span><span class="s1">compile</span><span class="s2">(</span><span class="s3">'^.*$'</span><span class="s2">),</span>
    <span class="s3">'.+'</span><span class="s2">: </span><span class="s1">re</span><span class="s2">.</span><span class="s1">compile</span><span class="s2">(</span><span class="s3">'.+'</span><span class="s2">),</span>
    <span class="s3">'^.+$'</span><span class="s2">: </span><span class="s1">re</span><span class="s2">.</span><span class="s1">compile</span><span class="s2">(</span><span class="s3">'^.+$'</span><span class="s2">),</span>
    <span class="s3">'idn-email_re_pattern'</span><span class="s2">: </span><span class="s1">re</span><span class="s2">.</span><span class="s1">compile</span><span class="s2">(</span><span class="s3">'^[^@]+@[^@]+</span><span class="s4">\\</span><span class="s3">.[^@]+</span><span class="s4">\\</span><span class="s3">Z'</span><span class="s2">)</span>
<span class="s2">}</span>

<span class="s1">NoneType </span><span class="s2">= </span><span class="s1">type</span><span class="s2">(</span><span class="s4">None</span><span class="s2">)</span>

<span class="s4">def </span><span class="s1">validate</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, </span><span class="s1">custom_formats</span><span class="s2">={}, </span><span class="s1">name_prefix</span><span class="s2">=</span><span class="s4">None</span><span class="s2">):</span>
    <span class="s1">validate_https___packaging_python_org_en_latest_specifications_declaring_build_dependencies</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, </span><span class="s1">custom_formats</span><span class="s2">, (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;&quot;</span><span class="s2">)</span>
    <span class="s4">return </span><span class="s1">data</span>

<span class="s4">def </span><span class="s1">validate_https___packaging_python_org_en_latest_specifications_declaring_build_dependencies</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, </span><span class="s1">custom_formats</span><span class="s2">={}, </span><span class="s1">name_prefix</span><span class="s2">=</span><span class="s4">None</span><span class="s2">):</span>
    <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, (</span><span class="s1">dict</span><span class="s2">)):</span>
        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot; must be object&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'$schema'</span><span class="s2">: </span><span class="s3">'http://json-schema.org/draft-07/schema'</span><span class="s2">, </span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'https://packaging.python.org/en/latest/specifications/declaring-build-dependencies/'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Data structure for ``pyproject.toml`` files'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'File format containing build-time configurations for the Python ecosystem. '</span><span class="s2">, </span><span class="s3">':pep:`517` initially defined a build-system independent format for source trees'</span><span class="s2">, </span><span class="s3">'which was complemented by :pep:`518` to provide a way of specifying dependencies '</span><span class="s2">, </span><span class="s3">'for building Python projects.'</span><span class="s2">, </span><span class="s3">'Please notice the ``project`` table (as initially defined in  :pep:`621`) is not included'</span><span class="s2">, </span><span class="s3">'in this schema and should be considered separately.'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'build-system'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Table used to store build-related data'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'requires'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'List of dependencies in the :pep:`508` format required to execute the build'</span><span class="s2">, </span><span class="s3">'system. Please notice that the resulting dependency graph'</span><span class="s2">, </span><span class="s3">'**MUST NOT contain cycles**'</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'build-backend'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Python object that will be used to perform the build according to :pep:`517`'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep517-backend-reference'</span><span class="s2">}, </span><span class="s3">'backend-path'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'List of directories to be prepended to ``sys.path`` when loading the'</span><span class="s2">, </span><span class="s3">'back-end, and running its hooks'</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'Should be a path (TODO: enforce it with format?)'</span><span class="s2">}}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'requires'</span><span class="s2">]}, </span><span class="s3">'project'</span><span class="s2">: {</span><span class="s3">'$schema'</span><span class="s2">: </span><span class="s3">'http://json-schema.org/draft-07/schema'</span><span class="s2">, </span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'https://packaging.python.org/en/latest/specifications/declaring-project-metadata/'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Package metadata stored in the ``project`` table'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Data structure for the **project** table inside ``pyproject.toml``'</span><span class="s2">, </span><span class="s3">'(as initially defined in :pep:`621`)'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'name'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'The name (primary identifier) of the project. MUST be statically defined.'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-identifier'</span><span class="s2">}, </span><span class="s3">'version'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'The version of the project as supported by :pep:`440`.'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep440'</span><span class="s2">}, </span><span class="s3">'description'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'The `summary description of the project'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/core-metadata/#summary&gt;`_'</span><span class="s2">]}, </span><span class="s3">'readme'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'`Full/detailed description of the project in the form of a README'</span><span class="s2">, </span><span class="s3">'&lt;https://www.python.org/dev/peps/pep-0621/#readme&gt;`_'</span><span class="s2">, </span><span class="s3">&quot;with meaning similar to the one defined in `core metadata's Description&quot;</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/core-metadata/#description&gt;`_'</span><span class="s2">], </span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Relative path to a text file (UTF-8) containing the full description'</span><span class="s2">, </span><span class="s3">'of the project. If the file path ends in case-insensitive ``.md`` or'</span><span class="s2">, </span><span class="s3">'``.rst`` suffixes, then the content-type is respectively'</span><span class="s2">, </span><span class="s3">'``text/markdown`` or ``text/x-rst``'</span><span class="s2">]}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'allOf'</span><span class="s2">: [{</span><span class="s3">'anyOf'</span><span class="s2">: [{</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Relative path to a text file containing the full description'</span><span class="s2">, </span><span class="s3">'of the project.'</span><span class="s2">]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, {</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'text'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Full text describing the project.'</span><span class="s2">}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'text'</span><span class="s2">]}]}, {</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'content-type'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Content-type (:rfc:`1341`) of the full description'</span><span class="s2">, </span><span class="s3">'(e.g. ``text/markdown``). The ``charset`` parameter is assumed'</span><span class="s2">, </span><span class="s3">'UTF-8 when not present.'</span><span class="s2">], </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'TODO: add regex pattern or format?'</span><span class="s2">}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'content-type'</span><span class="s2">]}]}]}, </span><span class="s3">'requires-python'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-versionspec'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'`The Python version requirements of the project'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/core-metadata/#requires-python&gt;`_.'</span><span class="s2">]}, </span><span class="s3">'license'</span><span class="s2">: {</span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'`Project license &lt;https://www.python.org/dev/peps/pep-0621/#license&gt;`_.'</span><span class="s2">, </span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Relative path to the file (UTF-8) which contains the license for the'</span><span class="s2">, </span><span class="s3">'project.'</span><span class="s2">]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, {</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'text'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'The license of the project whose meaning is that of the'</span><span class="s2">, </span><span class="s3">'`License field from the core metadata'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/core-metadata/#license&gt;`_.'</span><span class="s2">]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'text'</span><span class="s2">]}]}, </span><span class="s3">'authors'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/author'</span><span class="s2">}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">&quot;The people or organizations considered to be the 'authors' of the project.&quot;</span><span class="s2">, </span><span class="s3">'The exact meaning is open to interpretation (e.g. original or primary authors,'</span><span class="s2">, </span><span class="s3">'current maintainers, or owners of the package).'</span><span class="s2">]}, </span><span class="s3">'maintainers'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/author'</span><span class="s2">}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">&quot;The people or organizations considered to be the 'maintainers' of the project.&quot;</span><span class="s2">, </span><span class="s3">'Similarly to ``authors``, the exact meaning is open to interpretation.'</span><span class="s2">]}, </span><span class="s3">'keywords'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'List of keywords to assist searching for the distribution in a larger catalog.'</span><span class="s2">}, </span><span class="s3">'classifiers'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'trove-classifier'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'`PyPI classifier &lt;https://pypi.org/classifiers/&gt;`_.'</span><span class="s2">}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'`Trove classifiers &lt;https://pypi.org/classifiers/&gt;`_'</span><span class="s2">, </span><span class="s3">'which apply to the project.'</span><span class="s2">]}, </span><span class="s3">'urls'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'URLs associated with the project in the form ``label =&gt; value``.'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'url'</span><span class="s2">}}}, </span><span class="s3">'scripts'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/entry-point-group'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Instruct the installer to create command-line wrappers for the given'</span><span class="s2">, </span><span class="s3">'`entry points &lt;https://packaging.python.org/specifications/entry-points/&gt;`_.'</span><span class="s2">]}, </span><span class="s3">'gui-scripts'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/entry-point-group'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Instruct the installer to create GUI wrappers for the given'</span><span class="s2">, </span><span class="s3">'`entry points &lt;https://packaging.python.org/specifications/entry-points/&gt;`_.'</span><span class="s2">, </span><span class="s3">'The difference between ``scripts`` and ``gui-scripts`` is only relevant in'</span><span class="s2">, </span><span class="s3">'Windows.'</span><span class="s2">]}, </span><span class="s3">'entry-points'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Instruct the installer to expose the given modules/functions via'</span><span class="s2">, </span><span class="s3">'``entry-point`` discovery mechanism (useful for plugins).'</span><span class="s2">, </span><span class="s3">'More information available in the `Python packaging guide'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_.'</span><span class="s2">], </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-group'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/entry-point-group'</span><span class="s2">}}}, </span><span class="s3">'dependencies'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Project (mandatory) dependencies.'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/dependency'</span><span class="s2">}}, </span><span class="s3">'optional-dependencies'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Optional dependency for the project'</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-identifier'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/dependency'</span><span class="s2">}}}}, </span><span class="s3">'dynamic'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Specifies which fields are intentionally unspecified and expected to be'</span><span class="s2">, </span><span class="s3">'dynamically provided by build tools'</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'enum'</span><span class="s2">: [</span><span class="s3">'version'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">, </span><span class="s3">'readme'</span><span class="s2">, </span><span class="s3">'requires-python'</span><span class="s2">, </span><span class="s3">'license'</span><span class="s2">, </span><span class="s3">'authors'</span><span class="s2">, </span><span class="s3">'maintainers'</span><span class="s2">, </span><span class="s3">'keywords'</span><span class="s2">, </span><span class="s3">'classifiers'</span><span class="s2">, </span><span class="s3">'urls'</span><span class="s2">, </span><span class="s3">'scripts'</span><span class="s2">, </span><span class="s3">'gui-scripts'</span><span class="s2">, </span><span class="s3">'entry-points'</span><span class="s2">, </span><span class="s3">'dependencies'</span><span class="s2">, </span><span class="s3">'optional-dependencies'</span><span class="s2">]}}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'name'</span><span class="s2">], </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'if'</span><span class="s2">: {</span><span class="s3">'not'</span><span class="s2">: {</span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'dynamic'</span><span class="s2">], </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'dynamic'</span><span class="s2">: {</span><span class="s3">'contains'</span><span class="s2">: {</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">'version'</span><span class="s2">}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'version is listed in ``dynamic``'</span><span class="s2">]}}}, </span><span class="s3">'$$comment'</span><span class="s2">: [</span><span class="s3">'According to :pep:`621`:'</span><span class="s2">, </span><span class="s3">'    If the core metadata specification lists a field as &quot;Required&quot;, then'</span><span class="s2">, </span><span class="s3">'    the metadata MUST specify the field statically or list it in dynamic'</span><span class="s2">, </span><span class="s3">'In turn, `core metadata`_ defines:'</span><span class="s2">, </span><span class="s3">'    The required fields are: Metadata-Version, Name, Version.'</span><span class="s2">, </span><span class="s3">'    All the other fields are optional.'</span><span class="s2">, </span><span class="s3">'Since ``Metadata-Version`` is defined by the build back-end, ``name`` and'</span><span class="s2">, </span><span class="s3">'``version`` are the only mandatory information in ``pyproject.toml``.'</span><span class="s2">, </span><span class="s3">'.. _core metadata: https://packaging.python.org/specifications/core-metadata/'</span><span class="s2">]}, </span><span class="s3">'then'</span><span class="s2">: {</span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'version'</span><span class="s2">], </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'version should be statically defined in the ``version`` field'</span><span class="s2">]}, </span><span class="s3">'definitions'</span><span class="s2">: {</span><span class="s3">'author'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/author'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Author or Maintainer'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://www.python.org/dev/peps/pep-0621/#authors-maintainers'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'name'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'MUST be a valid email name, i.e. whatever can be put as a name, before an'</span><span class="s2">, </span><span class="s3">'email, in :rfc:`822`.'</span><span class="s2">]}, </span><span class="s3">'email'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'idn-email'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'MUST be a valid email address'</span><span class="s2">}}}, </span><span class="s3">'entry-point-group'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/entry-point-group'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Entry-points'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s2">, </span><span class="s3">'provide.'</span><span class="s2">, </span><span class="s3">'See the `packaging guides'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s2">, </span><span class="s3">'and `setuptools docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s2">, </span><span class="s3">'for more information.'</span><span class="s2">], </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-name'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Reference to a Python object. It is either in the form'</span><span class="s2">, </span><span class="s3">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s2">], </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-reference'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://packaging.python.org/specifications/entry-points/'</span><span class="s2">}}}, </span><span class="s3">'dependency'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/dependency'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Dependency'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Project dependency specification according to PEP 508'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508'</span><span class="s2">}}}, </span><span class="s3">'tool'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'distutils'</span><span class="s2">: {</span><span class="s3">'$schema'</span><span class="s2">: </span><span class="s3">'http://json-schema.org/draft-07/schema'</span><span class="s2">, </span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'https://docs.python.org/3/install/'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'``tool.distutils`` table'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Originally, ``distutils`` allowed developers to configure arguments for'</span><span class="s2">, </span><span class="s3">'``setup.py`` scripts via `distutils configuration files'</span><span class="s2">, </span><span class="s3">'&lt;https://docs.python.org/3/install/#distutils-configuration-files&gt;`_.'</span><span class="s2">, </span><span class="s3">'``tool.distutils`` subtables could be used with the same purpose'</span><span class="s2">, </span><span class="s3">'(NOT CURRENTLY IMPLEMENTED).'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'global'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Global options applied to all ``distutils`` commands'</span><span class="s2">}}, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'.+'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">}}, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'TODO: Is there a practical way of making this schema more specific?'</span><span class="s2">}, </span><span class="s3">'setuptools'</span><span class="s2">: {</span><span class="s3">'$schema'</span><span class="s2">: </span><span class="s3">'http://json-schema.org/draft-07/schema'</span><span class="s2">, </span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'https://setuptools.pypa.io/en/latest/references/keywords.html'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'``tool.setuptools`` table'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Please notice for the time being the ``setuptools`` project does not specify'</span><span class="s2">, </span><span class="s3">'a way of configuring builds via ``pyproject.toml``.'</span><span class="s2">, </span><span class="s3">'Therefore this schema should be taken just as a *&quot;thought experiment&quot;* on how'</span><span class="s2">, </span><span class="s3">'this *might be done*, by following the principles established in'</span><span class="s2">, </span><span class="s3">'`ini2toml &lt;https://ini2toml.readthedocs.io/en/latest/setuptools_pep621.html&gt;`_.'</span><span class="s2">, </span><span class="s3">'It considers only ``setuptools`` `parameters'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/declarative_config.html&gt;`_'</span><span class="s2">, </span><span class="s3">'that can currently be configured via ``setup.cfg`` and are not covered by :pep:`621`'</span><span class="s2">, </span><span class="s3">'but intentionally excludes ``dependency_links`` and ``setup_requires``.'</span><span class="s2">, </span><span class="s3">'NOTE: ``scripts`` was renamed to ``script-files`` to avoid confusion with'</span><span class="s2">, </span><span class="s3">'entry-point based scripts (defined in :pep:`621`).'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'platforms'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'provides'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Package and virtual package names contained within this package'</span><span class="s2">, </span><span class="s3">'**(not supported by pip)**'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-identifier'</span><span class="s2">}}, </span><span class="s3">'obsoletes'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Packages which this package renders obsolete'</span><span class="s2">, </span><span class="s3">'**(not supported by pip)**'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-identifier'</span><span class="s2">}}, </span><span class="s3">'zip-safe'</span><span class="s2">: {</span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Whether the project can be safely installed and run from a zip file.'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'boolean'</span><span class="s2">}, </span><span class="s3">'script-files'</span><span class="s2">: {</span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Legacy way of defining scripts (entry-points are preferred).'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'TODO: is this field deprecated/should be removed?'</span><span class="s2">}, </span><span class="s3">'eager-resources'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Resources that should be extracted together, if any of them is needed,'</span><span class="s2">, </span><span class="s3">'or if any C extensions included in the project are imported.'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'packages'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Packages that should be included in the distribution.'</span><span class="s2">, </span><span class="s3">'It can be given either as a list of package identifiers'</span><span class="s2">, </span><span class="s3">'or as a ``dict``-like structure with a single key ``find``'</span><span class="s2">, </span><span class="s3">'which corresponds to a dynamic call to'</span><span class="s2">, </span><span class="s3">'``setuptools.config.expand.find_packages`` function.'</span><span class="s2">, </span><span class="s3">'The ``find`` key is associated with a nested ``dict``-like structure that can'</span><span class="s2">, </span><span class="s3">'contain ``where``, ``include``, ``exclude`` and ``namespaces`` keys,'</span><span class="s2">, </span><span class="s3">'mimicking the keyword arguments of the associated function.'</span><span class="s2">], </span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Array of Python package identifiers'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}}, {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/find-directive'</span><span class="s2">}]}, </span><span class="s3">'package-dir'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">':class:`dict`-like structure mapping from package names to directories where their'</span><span class="s2">, </span><span class="s3">'code can be found.'</span><span class="s2">, </span><span class="s3">'The empty string (as key) means that all packages are contained inside'</span><span class="s2">, </span><span class="s3">'the given directory will be included in the distribution.'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, {</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">''</span><span class="s2">}]}, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.*$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}}, </span><span class="s3">'package-data'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Mapping from package names to lists of glob patterns.'</span><span class="s2">, </span><span class="s3">'Usually this option is not needed when using ``include-package-data = true``'</span><span class="s2">, </span><span class="s3">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, {</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">'*'</span><span class="s2">}]}, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.*$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}}}, </span><span class="s3">'include-package-data'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Automatically include any data files inside the package directories'</span><span class="s2">, </span><span class="s3">'that are specified by ``MANIFEST.in``'</span><span class="s2">, </span><span class="s3">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'boolean'</span><span class="s2">}, </span><span class="s3">'exclude-package-data'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Mapping from package names to lists of glob patterns that should be excluded'</span><span class="s2">, </span><span class="s3">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, {</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">'*'</span><span class="s2">}]}, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.*$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}}}, </span><span class="s3">'namespace-packages'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://setuptools.pypa.io/en/latest/userguide/package_discovery.html'</span><span class="s2">}, </span><span class="s3">'py-modules'</span><span class="s2">: {</span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Modules that setuptools will manipulate'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'TODO: clarify the relationship with ``packages``'</span><span class="s2">}, </span><span class="s3">'data-files'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'**DEPRECATED**: dict-like structure where each key represents a directory and'</span><span class="s2">, </span><span class="s3">'the value is a list of glob patterns that should be installed in them.'</span><span class="s2">, </span><span class="s3">&quot;Please notice this don't work with wheels. See `data files support&quot;</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.*$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}}}, </span><span class="s3">'cmdclass'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Mapping of distutils-style command names to ``setuptools.Command`` subclasses'</span><span class="s2">, </span><span class="s3">'which in turn should be represented by strings with a qualified class name'</span><span class="s2">, </span><span class="s3">'(i.e., &quot;dotted&quot; form with module), e.g.::</span><span class="s4">\n\n</span><span class="s3">'</span><span class="s2">, </span><span class="s3">'    cmdclass = {mycmd = &quot;pkg.subpkg.module.CommandClass&quot;}</span><span class="s4">\n\n</span><span class="s3">'</span><span class="s2">, </span><span class="s3">'The command class should be a directly defined at the top-level of the'</span><span class="s2">, </span><span class="s3">'containing module (no class nesting).'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.*$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-qualified-identifier'</span><span class="s2">}}}, </span><span class="s3">'license-files'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'PROVISIONAL: List of glob patterns for all license files being distributed.'</span><span class="s2">, </span><span class="s3">'(might become standard with PEP 639).'</span><span class="s2">], </span><span class="s3">'default'</span><span class="s2">: [</span><span class="s3">'LICEN[CS]E*'</span><span class="s2">, </span><span class="s3">' COPYING*'</span><span class="s2">, </span><span class="s3">' NOTICE*'</span><span class="s2">, </span><span class="s3">'AUTHORS*'</span><span class="s2">], </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'TODO: revise if PEP 639 is accepted. Probably ``project.license-files``?'</span><span class="s2">}, </span><span class="s3">'dynamic'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Instructions for loading :pep:`621`-related metadata dynamically'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'version'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'A version dynamically loaded via either the ``attr:`` or ``file:``'</span><span class="s2">, </span><span class="s3">'directives. Please make sure the given file or attribute respects :pep:`440`.'</span><span class="s2">], </span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/attr-directive'</span><span class="s2">}, {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">}]}, </span><span class="s3">'classifiers'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">}, </span><span class="s3">'description'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">}, </span><span class="s3">'dependencies'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">}, </span><span class="s3">'entry-points'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">}, </span><span class="s3">'optional-dependencies'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-identifier'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'.+'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">}}}, </span><span class="s3">'readme'</span><span class="s2">: {</span><span class="s3">'anyOf'</span><span class="s2">: [{</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">}, {</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'content-type'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}}], </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}}}}, </span><span class="s3">'definitions'</span><span class="s2">: {</span><span class="s3">'file-directive'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, </span><span class="s3">'attr-directive'</span><span class="s2">: {</span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'attr:' directive&quot;</span><span class="s2">, </span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/attr-directive'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Value is read from a module attribute. Supports callables and iterables;'</span><span class="s2">, </span><span class="s3">'unsupported types are cast via ``str()``'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'attr'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'attr'</span><span class="s2">]}, </span><span class="s3">'find-directive'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/find-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'find:' directive&quot;</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'find'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Dynamic `package discovery'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/package_discovery.html&gt;`_.'</span><span class="s2">], </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'where'</span><span class="s2">: {</span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Directories to be searched for packages (Unix-style relative path)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'exclude'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Exclude packages that match the values listed in this field.'</span><span class="s2">, </span><span class="s3">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'include'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Restrict the found packages to just the ones listed in this field.'</span><span class="s2">, </span><span class="s3">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'namespaces'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'boolean'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'When ``True``, directories without a ``__init__.py`` file will also'</span><span class="s2">, </span><span class="s3">'be scanned for :pep:`420`-style implicit namespaces'</span><span class="s2">]}}}}}}}}}}, </span><span class="s3">'project'</span><span class="s2">: {</span><span class="s3">'$schema'</span><span class="s2">: </span><span class="s3">'http://json-schema.org/draft-07/schema'</span><span class="s2">, </span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'https://packaging.python.org/en/latest/specifications/declaring-project-metadata/'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Package metadata stored in the ``project`` table'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Data structure for the **project** table inside ``pyproject.toml``'</span><span class="s2">, </span><span class="s3">'(as initially defined in :pep:`621`)'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'name'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'The name (primary identifier) of the project. MUST be statically defined.'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-identifier'</span><span class="s2">}, </span><span class="s3">'version'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'The version of the project as supported by :pep:`440`.'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep440'</span><span class="s2">}, </span><span class="s3">'description'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'The `summary description of the project'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/core-metadata/#summary&gt;`_'</span><span class="s2">]}, </span><span class="s3">'readme'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'`Full/detailed description of the project in the form of a README'</span><span class="s2">, </span><span class="s3">'&lt;https://www.python.org/dev/peps/pep-0621/#readme&gt;`_'</span><span class="s2">, </span><span class="s3">&quot;with meaning similar to the one defined in `core metadata's Description&quot;</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/core-metadata/#description&gt;`_'</span><span class="s2">], </span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Relative path to a text file (UTF-8) containing the full description'</span><span class="s2">, </span><span class="s3">'of the project. If the file path ends in case-insensitive ``.md`` or'</span><span class="s2">, </span><span class="s3">'``.rst`` suffixes, then the content-type is respectively'</span><span class="s2">, </span><span class="s3">'``text/markdown`` or ``text/x-rst``'</span><span class="s2">]}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'allOf'</span><span class="s2">: [{</span><span class="s3">'anyOf'</span><span class="s2">: [{</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Relative path to a text file containing the full description'</span><span class="s2">, </span><span class="s3">'of the project.'</span><span class="s2">]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, {</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'text'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Full text describing the project.'</span><span class="s2">}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'text'</span><span class="s2">]}]}, {</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'content-type'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Content-type (:rfc:`1341`) of the full description'</span><span class="s2">, </span><span class="s3">'(e.g. ``text/markdown``). The ``charset`` parameter is assumed'</span><span class="s2">, </span><span class="s3">'UTF-8 when not present.'</span><span class="s2">], </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'TODO: add regex pattern or format?'</span><span class="s2">}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'content-type'</span><span class="s2">]}]}]}, </span><span class="s3">'requires-python'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-versionspec'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'`The Python version requirements of the project'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/core-metadata/#requires-python&gt;`_.'</span><span class="s2">]}, </span><span class="s3">'license'</span><span class="s2">: {</span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'`Project license &lt;https://www.python.org/dev/peps/pep-0621/#license&gt;`_.'</span><span class="s2">, </span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Relative path to the file (UTF-8) which contains the license for the'</span><span class="s2">, </span><span class="s3">'project.'</span><span class="s2">]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, {</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'text'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'The license of the project whose meaning is that of the'</span><span class="s2">, </span><span class="s3">'`License field from the core metadata'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/core-metadata/#license&gt;`_.'</span><span class="s2">]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'text'</span><span class="s2">]}]}, </span><span class="s3">'authors'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/author'</span><span class="s2">}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">&quot;The people or organizations considered to be the 'authors' of the project.&quot;</span><span class="s2">, </span><span class="s3">'The exact meaning is open to interpretation (e.g. original or primary authors,'</span><span class="s2">, </span><span class="s3">'current maintainers, or owners of the package).'</span><span class="s2">]}, </span><span class="s3">'maintainers'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/author'</span><span class="s2">}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">&quot;The people or organizations considered to be the 'maintainers' of the project.&quot;</span><span class="s2">, </span><span class="s3">'Similarly to ``authors``, the exact meaning is open to interpretation.'</span><span class="s2">]}, </span><span class="s3">'keywords'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'List of keywords to assist searching for the distribution in a larger catalog.'</span><span class="s2">}, </span><span class="s3">'classifiers'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'trove-classifier'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'`PyPI classifier &lt;https://pypi.org/classifiers/&gt;`_.'</span><span class="s2">}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'`Trove classifiers &lt;https://pypi.org/classifiers/&gt;`_'</span><span class="s2">, </span><span class="s3">'which apply to the project.'</span><span class="s2">]}, </span><span class="s3">'urls'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'URLs associated with the project in the form ``label =&gt; value``.'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'url'</span><span class="s2">}}}, </span><span class="s3">'scripts'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/entry-point-group'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Instruct the installer to create command-line wrappers for the given'</span><span class="s2">, </span><span class="s3">'`entry points &lt;https://packaging.python.org/specifications/entry-points/&gt;`_.'</span><span class="s2">]}, </span><span class="s3">'gui-scripts'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/entry-point-group'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Instruct the installer to create GUI wrappers for the given'</span><span class="s2">, </span><span class="s3">'`entry points &lt;https://packaging.python.org/specifications/entry-points/&gt;`_.'</span><span class="s2">, </span><span class="s3">'The difference between ``scripts`` and ``gui-scripts`` is only relevant in'</span><span class="s2">, </span><span class="s3">'Windows.'</span><span class="s2">]}, </span><span class="s3">'entry-points'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Instruct the installer to expose the given modules/functions via'</span><span class="s2">, </span><span class="s3">'``entry-point`` discovery mechanism (useful for plugins).'</span><span class="s2">, </span><span class="s3">'More information available in the `Python packaging guide'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_.'</span><span class="s2">], </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-group'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/entry-point-group'</span><span class="s2">}}}, </span><span class="s3">'dependencies'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Project (mandatory) dependencies.'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/dependency'</span><span class="s2">}}, </span><span class="s3">'optional-dependencies'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Optional dependency for the project'</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-identifier'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/dependency'</span><span class="s2">}}}}, </span><span class="s3">'dynamic'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Specifies which fields are intentionally unspecified and expected to be'</span><span class="s2">, </span><span class="s3">'dynamically provided by build tools'</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'enum'</span><span class="s2">: [</span><span class="s3">'version'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">, </span><span class="s3">'readme'</span><span class="s2">, </span><span class="s3">'requires-python'</span><span class="s2">, </span><span class="s3">'license'</span><span class="s2">, </span><span class="s3">'authors'</span><span class="s2">, </span><span class="s3">'maintainers'</span><span class="s2">, </span><span class="s3">'keywords'</span><span class="s2">, </span><span class="s3">'classifiers'</span><span class="s2">, </span><span class="s3">'urls'</span><span class="s2">, </span><span class="s3">'scripts'</span><span class="s2">, </span><span class="s3">'gui-scripts'</span><span class="s2">, </span><span class="s3">'entry-points'</span><span class="s2">, </span><span class="s3">'dependencies'</span><span class="s2">, </span><span class="s3">'optional-dependencies'</span><span class="s2">]}}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'name'</span><span class="s2">], </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'if'</span><span class="s2">: {</span><span class="s3">'not'</span><span class="s2">: {</span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'dynamic'</span><span class="s2">], </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'dynamic'</span><span class="s2">: {</span><span class="s3">'contains'</span><span class="s2">: {</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">'version'</span><span class="s2">}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'version is listed in ``dynamic``'</span><span class="s2">]}}}, </span><span class="s3">'$$comment'</span><span class="s2">: [</span><span class="s3">'According to :pep:`621`:'</span><span class="s2">, </span><span class="s3">'    If the core metadata specification lists a field as &quot;Required&quot;, then'</span><span class="s2">, </span><span class="s3">'    the metadata MUST specify the field statically or list it in dynamic'</span><span class="s2">, </span><span class="s3">'In turn, `core metadata`_ defines:'</span><span class="s2">, </span><span class="s3">'    The required fields are: Metadata-Version, Name, Version.'</span><span class="s2">, </span><span class="s3">'    All the other fields are optional.'</span><span class="s2">, </span><span class="s3">'Since ``Metadata-Version`` is defined by the build back-end, ``name`` and'</span><span class="s2">, </span><span class="s3">'``version`` are the only mandatory information in ``pyproject.toml``.'</span><span class="s2">, </span><span class="s3">'.. _core metadata: https://packaging.python.org/specifications/core-metadata/'</span><span class="s2">]}, </span><span class="s3">'then'</span><span class="s2">: {</span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'version'</span><span class="s2">], </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'version should be statically defined in the ``version`` field'</span><span class="s2">]}, </span><span class="s3">'definitions'</span><span class="s2">: {</span><span class="s3">'author'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/author'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Author or Maintainer'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://www.python.org/dev/peps/pep-0621/#authors-maintainers'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'name'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'MUST be a valid email name, i.e. whatever can be put as a name, before an'</span><span class="s2">, </span><span class="s3">'email, in :rfc:`822`.'</span><span class="s2">]}, </span><span class="s3">'email'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'idn-email'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'MUST be a valid email address'</span><span class="s2">}}}, </span><span class="s3">'entry-point-group'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/entry-point-group'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Entry-points'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s2">, </span><span class="s3">'provide.'</span><span class="s2">, </span><span class="s3">'See the `packaging guides'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s2">, </span><span class="s3">'and `setuptools docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s2">, </span><span class="s3">'for more information.'</span><span class="s2">], </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-name'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Reference to a Python object. It is either in the form'</span><span class="s2">, </span><span class="s3">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s2">], </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-reference'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://packaging.python.org/specifications/entry-points/'</span><span class="s2">}}}, </span><span class="s3">'dependency'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/dependency'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Dependency'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Project dependency specification according to PEP 508'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508'</span><span class="s2">}}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
    <span class="s1">data_is_dict </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, </span><span class="s1">dict</span><span class="s2">)</span>
    <span class="s4">if </span><span class="s1">data_is_dict</span><span class="s2">:</span>
        <span class="s1">data_keys </span><span class="s2">= </span><span class="s1">set</span><span class="s2">(</span><span class="s1">data</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">())</span>
        <span class="s4">if </span><span class="s3">&quot;build-system&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;build-system&quot;</span><span class="s2">)</span>
            <span class="s1">data__buildsystem </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;build-system&quot;</span><span class="s2">]</span>
            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__buildsystem</span><span class="s2">, (</span><span class="s1">dict</span><span class="s2">)):</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.build-system must be object&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__buildsystem</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.build-system&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Table used to store build-related data'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'requires'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'List of dependencies in the :pep:`508` format required to execute the build'</span><span class="s2">, </span><span class="s3">'system. Please notice that the resulting dependency graph'</span><span class="s2">, </span><span class="s3">'**MUST NOT contain cycles**'</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'build-backend'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Python object that will be used to perform the build according to :pep:`517`'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep517-backend-reference'</span><span class="s2">}, </span><span class="s3">'backend-path'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'List of directories to be prepended to ``sys.path`` when loading the'</span><span class="s2">, </span><span class="s3">'back-end, and running its hooks'</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'Should be a path (TODO: enforce it with format?)'</span><span class="s2">}}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'requires'</span><span class="s2">]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
            <span class="s1">data__buildsystem_is_dict </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__buildsystem</span><span class="s2">, </span><span class="s1">dict</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">data__buildsystem_is_dict</span><span class="s2">:</span>
                <span class="s1">data__buildsystem_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data__buildsystem</span><span class="s2">)</span>
                <span class="s4">if not </span><span class="s1">all</span><span class="s2">(</span><span class="s1">prop </span><span class="s4">in </span><span class="s1">data__buildsystem </span><span class="s4">for </span><span class="s1">prop </span><span class="s4">in </span><span class="s2">[</span><span class="s3">'requires'</span><span class="s2">]):</span>
                    <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.build-system must contain ['requires'] properties&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__buildsystem</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.build-system&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Table used to store build-related data'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'requires'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'List of dependencies in the :pep:`508` format required to execute the build'</span><span class="s2">, </span><span class="s3">'system. Please notice that the resulting dependency graph'</span><span class="s2">, </span><span class="s3">'**MUST NOT contain cycles**'</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'build-backend'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Python object that will be used to perform the build according to :pep:`517`'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep517-backend-reference'</span><span class="s2">}, </span><span class="s3">'backend-path'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'List of directories to be prepended to ``sys.path`` when loading the'</span><span class="s2">, </span><span class="s3">'back-end, and running its hooks'</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'Should be a path (TODO: enforce it with format?)'</span><span class="s2">}}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'requires'</span><span class="s2">]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'required'</span><span class="s2">)</span>
                <span class="s1">data__buildsystem_keys </span><span class="s2">= </span><span class="s1">set</span><span class="s2">(</span><span class="s1">data__buildsystem</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">())</span>
                <span class="s4">if </span><span class="s3">&quot;requires&quot; </span><span class="s4">in </span><span class="s1">data__buildsystem_keys</span><span class="s2">:</span>
                    <span class="s1">data__buildsystem_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;requires&quot;</span><span class="s2">)</span>
                    <span class="s1">data__buildsystem__requires </span><span class="s2">= </span><span class="s1">data__buildsystem</span><span class="s2">[</span><span class="s3">&quot;requires&quot;</span><span class="s2">]</span>
                    <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__buildsystem__requires</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">)):</span>
                        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.build-system.requires must be array&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__buildsystem__requires</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.build-system.requires&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'List of dependencies in the :pep:`508` format required to execute the build'</span><span class="s2">, </span><span class="s3">'system. Please notice that the resulting dependency graph'</span><span class="s2">, </span><span class="s3">'**MUST NOT contain cycles**'</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                    <span class="s1">data__buildsystem__requires_is_list </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__buildsystem__requires</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">))</span>
                    <span class="s4">if </span><span class="s1">data__buildsystem__requires_is_list</span><span class="s2">:</span>
                        <span class="s1">data__buildsystem__requires_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data__buildsystem__requires</span><span class="s2">)</span>
                        <span class="s4">for </span><span class="s1">data__buildsystem__requires_x</span><span class="s2">, </span><span class="s1">data__buildsystem__requires_item </span><span class="s4">in </span><span class="s1">enumerate</span><span class="s2">(</span><span class="s1">data__buildsystem__requires</span><span class="s2">):</span>
                            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__buildsystem__requires_item</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.build-system.requires[{data__buildsystem__requires_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot; must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__buildsystem__requires_item</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.build-system.requires[{data__buildsystem__requires_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                <span class="s4">if </span><span class="s3">&quot;build-backend&quot; </span><span class="s4">in </span><span class="s1">data__buildsystem_keys</span><span class="s2">:</span>
                    <span class="s1">data__buildsystem_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;build-backend&quot;</span><span class="s2">)</span>
                    <span class="s1">data__buildsystem__buildbackend </span><span class="s2">= </span><span class="s1">data__buildsystem</span><span class="s2">[</span><span class="s3">&quot;build-backend&quot;</span><span class="s2">]</span>
                    <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__buildsystem__buildbackend</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.build-system.build-backend must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__buildsystem__buildbackend</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.build-system.build-backend&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Python object that will be used to perform the build according to :pep:`517`'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep517-backend-reference'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                    <span class="s4">if </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__buildsystem__buildbackend</span><span class="s2">, </span><span class="s1">str</span><span class="s2">):</span>
                        <span class="s4">if not </span><span class="s1">custom_formats</span><span class="s2">[</span><span class="s3">&quot;pep517-backend-reference&quot;</span><span class="s2">](</span><span class="s1">data__buildsystem__buildbackend</span><span class="s2">):</span>
                            <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.build-system.build-backend must be pep517-backend-reference&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__buildsystem__buildbackend</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.build-system.build-backend&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Python object that will be used to perform the build according to :pep:`517`'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep517-backend-reference'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'format'</span><span class="s2">)</span>
                <span class="s4">if </span><span class="s3">&quot;backend-path&quot; </span><span class="s4">in </span><span class="s1">data__buildsystem_keys</span><span class="s2">:</span>
                    <span class="s1">data__buildsystem_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;backend-path&quot;</span><span class="s2">)</span>
                    <span class="s1">data__buildsystem__backendpath </span><span class="s2">= </span><span class="s1">data__buildsystem</span><span class="s2">[</span><span class="s3">&quot;backend-path&quot;</span><span class="s2">]</span>
                    <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__buildsystem__backendpath</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">)):</span>
                        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.build-system.backend-path must be array&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__buildsystem__backendpath</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.build-system.backend-path&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'List of directories to be prepended to ``sys.path`` when loading the'</span><span class="s2">, </span><span class="s3">'back-end, and running its hooks'</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'Should be a path (TODO: enforce it with format?)'</span><span class="s2">}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                    <span class="s1">data__buildsystem__backendpath_is_list </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__buildsystem__backendpath</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">))</span>
                    <span class="s4">if </span><span class="s1">data__buildsystem__backendpath_is_list</span><span class="s2">:</span>
                        <span class="s1">data__buildsystem__backendpath_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data__buildsystem__backendpath</span><span class="s2">)</span>
                        <span class="s4">for </span><span class="s1">data__buildsystem__backendpath_x</span><span class="s2">, </span><span class="s1">data__buildsystem__backendpath_item </span><span class="s4">in </span><span class="s1">enumerate</span><span class="s2">(</span><span class="s1">data__buildsystem__backendpath</span><span class="s2">):</span>
                            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__buildsystem__backendpath_item</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.build-system.backend-path[{data__buildsystem__backendpath_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot; must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__buildsystem__backendpath_item</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.build-system.backend-path[{data__buildsystem__backendpath_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'Should be a path (TODO: enforce it with format?)'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                <span class="s4">if </span><span class="s1">data__buildsystem_keys</span><span class="s2">:</span>
                    <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.build-system must not contain &quot;</span><span class="s2">+</span><span class="s1">str</span><span class="s2">(</span><span class="s1">data__buildsystem_keys</span><span class="s2">)+</span><span class="s3">&quot; properties&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__buildsystem</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.build-system&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Table used to store build-related data'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'requires'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'List of dependencies in the :pep:`508` format required to execute the build'</span><span class="s2">, </span><span class="s3">'system. Please notice that the resulting dependency graph'</span><span class="s2">, </span><span class="s3">'**MUST NOT contain cycles**'</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'build-backend'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Python object that will be used to perform the build according to :pep:`517`'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep517-backend-reference'</span><span class="s2">}, </span><span class="s3">'backend-path'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'List of directories to be prepended to ``sys.path`` when loading the'</span><span class="s2">, </span><span class="s3">'back-end, and running its hooks'</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'Should be a path (TODO: enforce it with format?)'</span><span class="s2">}}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'requires'</span><span class="s2">]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'additionalProperties'</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s3">&quot;project&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;project&quot;</span><span class="s2">)</span>
            <span class="s1">data__project </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;project&quot;</span><span class="s2">]</span>
            <span class="s1">validate_https___packaging_python_org_en_latest_specifications_declaring_project_metadata</span><span class="s2">(</span><span class="s1">data__project</span><span class="s2">, </span><span class="s1">custom_formats</span><span class="s2">, (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.project&quot;</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s3">&quot;tool&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;tool&quot;</span><span class="s2">)</span>
            <span class="s1">data__tool </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;tool&quot;</span><span class="s2">]</span>
            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__tool</span><span class="s2">, (</span><span class="s1">dict</span><span class="s2">)):</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.tool must be object&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__tool</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.tool&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'distutils'</span><span class="s2">: {</span><span class="s3">'$schema'</span><span class="s2">: </span><span class="s3">'http://json-schema.org/draft-07/schema'</span><span class="s2">, </span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'https://docs.python.org/3/install/'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'``tool.distutils`` table'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Originally, ``distutils`` allowed developers to configure arguments for'</span><span class="s2">, </span><span class="s3">'``setup.py`` scripts via `distutils configuration files'</span><span class="s2">, </span><span class="s3">'&lt;https://docs.python.org/3/install/#distutils-configuration-files&gt;`_.'</span><span class="s2">, </span><span class="s3">'``tool.distutils`` subtables could be used with the same purpose'</span><span class="s2">, </span><span class="s3">'(NOT CURRENTLY IMPLEMENTED).'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'global'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Global options applied to all ``distutils`` commands'</span><span class="s2">}}, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'.+'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">}}, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'TODO: Is there a practical way of making this schema more specific?'</span><span class="s2">}, </span><span class="s3">'setuptools'</span><span class="s2">: {</span><span class="s3">'$schema'</span><span class="s2">: </span><span class="s3">'http://json-schema.org/draft-07/schema'</span><span class="s2">, </span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'https://setuptools.pypa.io/en/latest/references/keywords.html'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'``tool.setuptools`` table'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Please notice for the time being the ``setuptools`` project does not specify'</span><span class="s2">, </span><span class="s3">'a way of configuring builds via ``pyproject.toml``.'</span><span class="s2">, </span><span class="s3">'Therefore this schema should be taken just as a *&quot;thought experiment&quot;* on how'</span><span class="s2">, </span><span class="s3">'this *might be done*, by following the principles established in'</span><span class="s2">, </span><span class="s3">'`ini2toml &lt;https://ini2toml.readthedocs.io/en/latest/setuptools_pep621.html&gt;`_.'</span><span class="s2">, </span><span class="s3">'It considers only ``setuptools`` `parameters'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/declarative_config.html&gt;`_'</span><span class="s2">, </span><span class="s3">'that can currently be configured via ``setup.cfg`` and are not covered by :pep:`621`'</span><span class="s2">, </span><span class="s3">'but intentionally excludes ``dependency_links`` and ``setup_requires``.'</span><span class="s2">, </span><span class="s3">'NOTE: ``scripts`` was renamed to ``script-files`` to avoid confusion with'</span><span class="s2">, </span><span class="s3">'entry-point based scripts (defined in :pep:`621`).'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'platforms'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'provides'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Package and virtual package names contained within this package'</span><span class="s2">, </span><span class="s3">'**(not supported by pip)**'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-identifier'</span><span class="s2">}}, </span><span class="s3">'obsoletes'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Packages which this package renders obsolete'</span><span class="s2">, </span><span class="s3">'**(not supported by pip)**'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-identifier'</span><span class="s2">}}, </span><span class="s3">'zip-safe'</span><span class="s2">: {</span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Whether the project can be safely installed and run from a zip file.'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'boolean'</span><span class="s2">}, </span><span class="s3">'script-files'</span><span class="s2">: {</span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Legacy way of defining scripts (entry-points are preferred).'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'TODO: is this field deprecated/should be removed?'</span><span class="s2">}, </span><span class="s3">'eager-resources'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Resources that should be extracted together, if any of them is needed,'</span><span class="s2">, </span><span class="s3">'or if any C extensions included in the project are imported.'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'packages'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Packages that should be included in the distribution.'</span><span class="s2">, </span><span class="s3">'It can be given either as a list of package identifiers'</span><span class="s2">, </span><span class="s3">'or as a ``dict``-like structure with a single key ``find``'</span><span class="s2">, </span><span class="s3">'which corresponds to a dynamic call to'</span><span class="s2">, </span><span class="s3">'``setuptools.config.expand.find_packages`` function.'</span><span class="s2">, </span><span class="s3">'The ``find`` key is associated with a nested ``dict``-like structure that can'</span><span class="s2">, </span><span class="s3">'contain ``where``, ``include``, ``exclude`` and ``namespaces`` keys,'</span><span class="s2">, </span><span class="s3">'mimicking the keyword arguments of the associated function.'</span><span class="s2">], </span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Array of Python package identifiers'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}}, {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/find-directive'</span><span class="s2">}]}, </span><span class="s3">'package-dir'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">':class:`dict`-like structure mapping from package names to directories where their'</span><span class="s2">, </span><span class="s3">'code can be found.'</span><span class="s2">, </span><span class="s3">'The empty string (as key) means that all packages are contained inside'</span><span class="s2">, </span><span class="s3">'the given directory will be included in the distribution.'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, {</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">''</span><span class="s2">}]}, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.*$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}}, </span><span class="s3">'package-data'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Mapping from package names to lists of glob patterns.'</span><span class="s2">, </span><span class="s3">'Usually this option is not needed when using ``include-package-data = true``'</span><span class="s2">, </span><span class="s3">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, {</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">'*'</span><span class="s2">}]}, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.*$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}}}, </span><span class="s3">'include-package-data'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Automatically include any data files inside the package directories'</span><span class="s2">, </span><span class="s3">'that are specified by ``MANIFEST.in``'</span><span class="s2">, </span><span class="s3">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'boolean'</span><span class="s2">}, </span><span class="s3">'exclude-package-data'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Mapping from package names to lists of glob patterns that should be excluded'</span><span class="s2">, </span><span class="s3">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, {</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">'*'</span><span class="s2">}]}, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.*$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}}}, </span><span class="s3">'namespace-packages'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://setuptools.pypa.io/en/latest/userguide/package_discovery.html'</span><span class="s2">}, </span><span class="s3">'py-modules'</span><span class="s2">: {</span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Modules that setuptools will manipulate'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'TODO: clarify the relationship with ``packages``'</span><span class="s2">}, </span><span class="s3">'data-files'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'**DEPRECATED**: dict-like structure where each key represents a directory and'</span><span class="s2">, </span><span class="s3">'the value is a list of glob patterns that should be installed in them.'</span><span class="s2">, </span><span class="s3">&quot;Please notice this don't work with wheels. See `data files support&quot;</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.*$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}}}, </span><span class="s3">'cmdclass'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Mapping of distutils-style command names to ``setuptools.Command`` subclasses'</span><span class="s2">, </span><span class="s3">'which in turn should be represented by strings with a qualified class name'</span><span class="s2">, </span><span class="s3">'(i.e., &quot;dotted&quot; form with module), e.g.::</span><span class="s4">\n\n</span><span class="s3">'</span><span class="s2">, </span><span class="s3">'    cmdclass = {mycmd = &quot;pkg.subpkg.module.CommandClass&quot;}</span><span class="s4">\n\n</span><span class="s3">'</span><span class="s2">, </span><span class="s3">'The command class should be a directly defined at the top-level of the'</span><span class="s2">, </span><span class="s3">'containing module (no class nesting).'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.*$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-qualified-identifier'</span><span class="s2">}}}, </span><span class="s3">'license-files'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'PROVISIONAL: List of glob patterns for all license files being distributed.'</span><span class="s2">, </span><span class="s3">'(might become standard with PEP 639).'</span><span class="s2">], </span><span class="s3">'default'</span><span class="s2">: [</span><span class="s3">'LICEN[CS]E*'</span><span class="s2">, </span><span class="s3">' COPYING*'</span><span class="s2">, </span><span class="s3">' NOTICE*'</span><span class="s2">, </span><span class="s3">'AUTHORS*'</span><span class="s2">], </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'TODO: revise if PEP 639 is accepted. Probably ``project.license-files``?'</span><span class="s2">}, </span><span class="s3">'dynamic'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Instructions for loading :pep:`621`-related metadata dynamically'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'version'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'A version dynamically loaded via either the ``attr:`` or ``file:``'</span><span class="s2">, </span><span class="s3">'directives. Please make sure the given file or attribute respects :pep:`440`.'</span><span class="s2">], </span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/attr-directive'</span><span class="s2">}, {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">}]}, </span><span class="s3">'classifiers'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">}, </span><span class="s3">'description'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">}, </span><span class="s3">'dependencies'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">}, </span><span class="s3">'entry-points'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">}, </span><span class="s3">'optional-dependencies'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-identifier'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'.+'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">}}}, </span><span class="s3">'readme'</span><span class="s2">: {</span><span class="s3">'anyOf'</span><span class="s2">: [{</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">}, {</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'content-type'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}}], </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}}}}, </span><span class="s3">'definitions'</span><span class="s2">: {</span><span class="s3">'file-directive'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, </span><span class="s3">'attr-directive'</span><span class="s2">: {</span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'attr:' directive&quot;</span><span class="s2">, </span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/attr-directive'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Value is read from a module attribute. Supports callables and iterables;'</span><span class="s2">, </span><span class="s3">'unsupported types are cast via ``str()``'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'attr'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'attr'</span><span class="s2">]}, </span><span class="s3">'find-directive'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/find-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'find:' directive&quot;</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'find'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Dynamic `package discovery'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/package_discovery.html&gt;`_.'</span><span class="s2">], </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'where'</span><span class="s2">: {</span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Directories to be searched for packages (Unix-style relative path)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'exclude'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Exclude packages that match the values listed in this field.'</span><span class="s2">, </span><span class="s3">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'include'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Restrict the found packages to just the ones listed in this field.'</span><span class="s2">, </span><span class="s3">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'namespaces'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'boolean'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'When ``True``, directories without a ``__init__.py`` file will also'</span><span class="s2">, </span><span class="s3">'be scanned for :pep:`420`-style implicit namespaces'</span><span class="s2">]}}}}}}}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
            <span class="s1">data__tool_is_dict </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__tool</span><span class="s2">, </span><span class="s1">dict</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">data__tool_is_dict</span><span class="s2">:</span>
                <span class="s1">data__tool_keys </span><span class="s2">= </span><span class="s1">set</span><span class="s2">(</span><span class="s1">data__tool</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">())</span>
                <span class="s4">if </span><span class="s3">&quot;distutils&quot; </span><span class="s4">in </span><span class="s1">data__tool_keys</span><span class="s2">:</span>
                    <span class="s1">data__tool_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;distutils&quot;</span><span class="s2">)</span>
                    <span class="s1">data__tool__distutils </span><span class="s2">= </span><span class="s1">data__tool</span><span class="s2">[</span><span class="s3">&quot;distutils&quot;</span><span class="s2">]</span>
                    <span class="s1">validate_https___docs_python_org_3_install</span><span class="s2">(</span><span class="s1">data__tool__distutils</span><span class="s2">, </span><span class="s1">custom_formats</span><span class="s2">, (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.tool.distutils&quot;</span><span class="s2">)</span>
                <span class="s4">if </span><span class="s3">&quot;setuptools&quot; </span><span class="s4">in </span><span class="s1">data__tool_keys</span><span class="s2">:</span>
                    <span class="s1">data__tool_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;setuptools&quot;</span><span class="s2">)</span>
                    <span class="s1">data__tool__setuptools </span><span class="s2">= </span><span class="s1">data__tool</span><span class="s2">[</span><span class="s3">&quot;setuptools&quot;</span><span class="s2">]</span>
                    <span class="s1">validate_https___setuptools_pypa_io_en_latest_references_keywords_html</span><span class="s2">(</span><span class="s1">data__tool__setuptools</span><span class="s2">, </span><span class="s1">custom_formats</span><span class="s2">, (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.tool.setuptools&quot;</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot; must not contain &quot;</span><span class="s2">+</span><span class="s1">str</span><span class="s2">(</span><span class="s1">data_keys</span><span class="s2">)+</span><span class="s3">&quot; properties&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'$schema'</span><span class="s2">: </span><span class="s3">'http://json-schema.org/draft-07/schema'</span><span class="s2">, </span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'https://packaging.python.org/en/latest/specifications/declaring-build-dependencies/'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Data structure for ``pyproject.toml`` files'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'File format containing build-time configurations for the Python ecosystem. '</span><span class="s2">, </span><span class="s3">':pep:`517` initially defined a build-system independent format for source trees'</span><span class="s2">, </span><span class="s3">'which was complemented by :pep:`518` to provide a way of specifying dependencies '</span><span class="s2">, </span><span class="s3">'for building Python projects.'</span><span class="s2">, </span><span class="s3">'Please notice the ``project`` table (as initially defined in  :pep:`621`) is not included'</span><span class="s2">, </span><span class="s3">'in this schema and should be considered separately.'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'build-system'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Table used to store build-related data'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'requires'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'List of dependencies in the :pep:`508` format required to execute the build'</span><span class="s2">, </span><span class="s3">'system. Please notice that the resulting dependency graph'</span><span class="s2">, </span><span class="s3">'**MUST NOT contain cycles**'</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'build-backend'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Python object that will be used to perform the build according to :pep:`517`'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep517-backend-reference'</span><span class="s2">}, </span><span class="s3">'backend-path'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'List of directories to be prepended to ``sys.path`` when loading the'</span><span class="s2">, </span><span class="s3">'back-end, and running its hooks'</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'Should be a path (TODO: enforce it with format?)'</span><span class="s2">}}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'requires'</span><span class="s2">]}, </span><span class="s3">'project'</span><span class="s2">: {</span><span class="s3">'$schema'</span><span class="s2">: </span><span class="s3">'http://json-schema.org/draft-07/schema'</span><span class="s2">, </span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'https://packaging.python.org/en/latest/specifications/declaring-project-metadata/'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Package metadata stored in the ``project`` table'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Data structure for the **project** table inside ``pyproject.toml``'</span><span class="s2">, </span><span class="s3">'(as initially defined in :pep:`621`)'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'name'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'The name (primary identifier) of the project. MUST be statically defined.'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-identifier'</span><span class="s2">}, </span><span class="s3">'version'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'The version of the project as supported by :pep:`440`.'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep440'</span><span class="s2">}, </span><span class="s3">'description'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'The `summary description of the project'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/core-metadata/#summary&gt;`_'</span><span class="s2">]}, </span><span class="s3">'readme'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'`Full/detailed description of the project in the form of a README'</span><span class="s2">, </span><span class="s3">'&lt;https://www.python.org/dev/peps/pep-0621/#readme&gt;`_'</span><span class="s2">, </span><span class="s3">&quot;with meaning similar to the one defined in `core metadata's Description&quot;</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/core-metadata/#description&gt;`_'</span><span class="s2">], </span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Relative path to a text file (UTF-8) containing the full description'</span><span class="s2">, </span><span class="s3">'of the project. If the file path ends in case-insensitive ``.md`` or'</span><span class="s2">, </span><span class="s3">'``.rst`` suffixes, then the content-type is respectively'</span><span class="s2">, </span><span class="s3">'``text/markdown`` or ``text/x-rst``'</span><span class="s2">]}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'allOf'</span><span class="s2">: [{</span><span class="s3">'anyOf'</span><span class="s2">: [{</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Relative path to a text file containing the full description'</span><span class="s2">, </span><span class="s3">'of the project.'</span><span class="s2">]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, {</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'text'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Full text describing the project.'</span><span class="s2">}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'text'</span><span class="s2">]}]}, {</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'content-type'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Content-type (:rfc:`1341`) of the full description'</span><span class="s2">, </span><span class="s3">'(e.g. ``text/markdown``). The ``charset`` parameter is assumed'</span><span class="s2">, </span><span class="s3">'UTF-8 when not present.'</span><span class="s2">], </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'TODO: add regex pattern or format?'</span><span class="s2">}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'content-type'</span><span class="s2">]}]}]}, </span><span class="s3">'requires-python'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-versionspec'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'`The Python version requirements of the project'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/core-metadata/#requires-python&gt;`_.'</span><span class="s2">]}, </span><span class="s3">'license'</span><span class="s2">: {</span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'`Project license &lt;https://www.python.org/dev/peps/pep-0621/#license&gt;`_.'</span><span class="s2">, </span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Relative path to the file (UTF-8) which contains the license for the'</span><span class="s2">, </span><span class="s3">'project.'</span><span class="s2">]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, {</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'text'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'The license of the project whose meaning is that of the'</span><span class="s2">, </span><span class="s3">'`License field from the core metadata'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/core-metadata/#license&gt;`_.'</span><span class="s2">]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'text'</span><span class="s2">]}]}, </span><span class="s3">'authors'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/author'</span><span class="s2">}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">&quot;The people or organizations considered to be the 'authors' of the project.&quot;</span><span class="s2">, </span><span class="s3">'The exact meaning is open to interpretation (e.g. original or primary authors,'</span><span class="s2">, </span><span class="s3">'current maintainers, or owners of the package).'</span><span class="s2">]}, </span><span class="s3">'maintainers'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/author'</span><span class="s2">}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">&quot;The people or organizations considered to be the 'maintainers' of the project.&quot;</span><span class="s2">, </span><span class="s3">'Similarly to ``authors``, the exact meaning is open to interpretation.'</span><span class="s2">]}, </span><span class="s3">'keywords'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'List of keywords to assist searching for the distribution in a larger catalog.'</span><span class="s2">}, </span><span class="s3">'classifiers'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'trove-classifier'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'`PyPI classifier &lt;https://pypi.org/classifiers/&gt;`_.'</span><span class="s2">}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'`Trove classifiers &lt;https://pypi.org/classifiers/&gt;`_'</span><span class="s2">, </span><span class="s3">'which apply to the project.'</span><span class="s2">]}, </span><span class="s3">'urls'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'URLs associated with the project in the form ``label =&gt; value``.'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'url'</span><span class="s2">}}}, </span><span class="s3">'scripts'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/entry-point-group'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Instruct the installer to create command-line wrappers for the given'</span><span class="s2">, </span><span class="s3">'`entry points &lt;https://packaging.python.org/specifications/entry-points/&gt;`_.'</span><span class="s2">]}, </span><span class="s3">'gui-scripts'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/entry-point-group'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Instruct the installer to create GUI wrappers for the given'</span><span class="s2">, </span><span class="s3">'`entry points &lt;https://packaging.python.org/specifications/entry-points/&gt;`_.'</span><span class="s2">, </span><span class="s3">'The difference between ``scripts`` and ``gui-scripts`` is only relevant in'</span><span class="s2">, </span><span class="s3">'Windows.'</span><span class="s2">]}, </span><span class="s3">'entry-points'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Instruct the installer to expose the given modules/functions via'</span><span class="s2">, </span><span class="s3">'``entry-point`` discovery mechanism (useful for plugins).'</span><span class="s2">, </span><span class="s3">'More information available in the `Python packaging guide'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_.'</span><span class="s2">], </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-group'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/entry-point-group'</span><span class="s2">}}}, </span><span class="s3">'dependencies'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Project (mandatory) dependencies.'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/dependency'</span><span class="s2">}}, </span><span class="s3">'optional-dependencies'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Optional dependency for the project'</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-identifier'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/dependency'</span><span class="s2">}}}}, </span><span class="s3">'dynamic'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Specifies which fields are intentionally unspecified and expected to be'</span><span class="s2">, </span><span class="s3">'dynamically provided by build tools'</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'enum'</span><span class="s2">: [</span><span class="s3">'version'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">, </span><span class="s3">'readme'</span><span class="s2">, </span><span class="s3">'requires-python'</span><span class="s2">, </span><span class="s3">'license'</span><span class="s2">, </span><span class="s3">'authors'</span><span class="s2">, </span><span class="s3">'maintainers'</span><span class="s2">, </span><span class="s3">'keywords'</span><span class="s2">, </span><span class="s3">'classifiers'</span><span class="s2">, </span><span class="s3">'urls'</span><span class="s2">, </span><span class="s3">'scripts'</span><span class="s2">, </span><span class="s3">'gui-scripts'</span><span class="s2">, </span><span class="s3">'entry-points'</span><span class="s2">, </span><span class="s3">'dependencies'</span><span class="s2">, </span><span class="s3">'optional-dependencies'</span><span class="s2">]}}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'name'</span><span class="s2">], </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'if'</span><span class="s2">: {</span><span class="s3">'not'</span><span class="s2">: {</span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'dynamic'</span><span class="s2">], </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'dynamic'</span><span class="s2">: {</span><span class="s3">'contains'</span><span class="s2">: {</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">'version'</span><span class="s2">}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'version is listed in ``dynamic``'</span><span class="s2">]}}}, </span><span class="s3">'$$comment'</span><span class="s2">: [</span><span class="s3">'According to :pep:`621`:'</span><span class="s2">, </span><span class="s3">'    If the core metadata specification lists a field as &quot;Required&quot;, then'</span><span class="s2">, </span><span class="s3">'    the metadata MUST specify the field statically or list it in dynamic'</span><span class="s2">, </span><span class="s3">'In turn, `core metadata`_ defines:'</span><span class="s2">, </span><span class="s3">'    The required fields are: Metadata-Version, Name, Version.'</span><span class="s2">, </span><span class="s3">'    All the other fields are optional.'</span><span class="s2">, </span><span class="s3">'Since ``Metadata-Version`` is defined by the build back-end, ``name`` and'</span><span class="s2">, </span><span class="s3">'``version`` are the only mandatory information in ``pyproject.toml``.'</span><span class="s2">, </span><span class="s3">'.. _core metadata: https://packaging.python.org/specifications/core-metadata/'</span><span class="s2">]}, </span><span class="s3">'then'</span><span class="s2">: {</span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'version'</span><span class="s2">], </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'version should be statically defined in the ``version`` field'</span><span class="s2">]}, </span><span class="s3">'definitions'</span><span class="s2">: {</span><span class="s3">'author'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/author'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Author or Maintainer'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://www.python.org/dev/peps/pep-0621/#authors-maintainers'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'name'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'MUST be a valid email name, i.e. whatever can be put as a name, before an'</span><span class="s2">, </span><span class="s3">'email, in :rfc:`822`.'</span><span class="s2">]}, </span><span class="s3">'email'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'idn-email'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'MUST be a valid email address'</span><span class="s2">}}}, </span><span class="s3">'entry-point-group'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/entry-point-group'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Entry-points'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s2">, </span><span class="s3">'provide.'</span><span class="s2">, </span><span class="s3">'See the `packaging guides'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s2">, </span><span class="s3">'and `setuptools docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s2">, </span><span class="s3">'for more information.'</span><span class="s2">], </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-name'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Reference to a Python object. It is either in the form'</span><span class="s2">, </span><span class="s3">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s2">], </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-reference'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://packaging.python.org/specifications/entry-points/'</span><span class="s2">}}}, </span><span class="s3">'dependency'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/dependency'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Dependency'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Project dependency specification according to PEP 508'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508'</span><span class="s2">}}}, </span><span class="s3">'tool'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'distutils'</span><span class="s2">: {</span><span class="s3">'$schema'</span><span class="s2">: </span><span class="s3">'http://json-schema.org/draft-07/schema'</span><span class="s2">, </span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'https://docs.python.org/3/install/'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'``tool.distutils`` table'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Originally, ``distutils`` allowed developers to configure arguments for'</span><span class="s2">, </span><span class="s3">'``setup.py`` scripts via `distutils configuration files'</span><span class="s2">, </span><span class="s3">'&lt;https://docs.python.org/3/install/#distutils-configuration-files&gt;`_.'</span><span class="s2">, </span><span class="s3">'``tool.distutils`` subtables could be used with the same purpose'</span><span class="s2">, </span><span class="s3">'(NOT CURRENTLY IMPLEMENTED).'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'global'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Global options applied to all ``distutils`` commands'</span><span class="s2">}}, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'.+'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">}}, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'TODO: Is there a practical way of making this schema more specific?'</span><span class="s2">}, </span><span class="s3">'setuptools'</span><span class="s2">: {</span><span class="s3">'$schema'</span><span class="s2">: </span><span class="s3">'http://json-schema.org/draft-07/schema'</span><span class="s2">, </span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'https://setuptools.pypa.io/en/latest/references/keywords.html'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'``tool.setuptools`` table'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Please notice for the time being the ``setuptools`` project does not specify'</span><span class="s2">, </span><span class="s3">'a way of configuring builds via ``pyproject.toml``.'</span><span class="s2">, </span><span class="s3">'Therefore this schema should be taken just as a *&quot;thought experiment&quot;* on how'</span><span class="s2">, </span><span class="s3">'this *might be done*, by following the principles established in'</span><span class="s2">, </span><span class="s3">'`ini2toml &lt;https://ini2toml.readthedocs.io/en/latest/setuptools_pep621.html&gt;`_.'</span><span class="s2">, </span><span class="s3">'It considers only ``setuptools`` `parameters'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/declarative_config.html&gt;`_'</span><span class="s2">, </span><span class="s3">'that can currently be configured via ``setup.cfg`` and are not covered by :pep:`621`'</span><span class="s2">, </span><span class="s3">'but intentionally excludes ``dependency_links`` and ``setup_requires``.'</span><span class="s2">, </span><span class="s3">'NOTE: ``scripts`` was renamed to ``script-files`` to avoid confusion with'</span><span class="s2">, </span><span class="s3">'entry-point based scripts (defined in :pep:`621`).'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'platforms'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'provides'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Package and virtual package names contained within this package'</span><span class="s2">, </span><span class="s3">'**(not supported by pip)**'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-identifier'</span><span class="s2">}}, </span><span class="s3">'obsoletes'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Packages which this package renders obsolete'</span><span class="s2">, </span><span class="s3">'**(not supported by pip)**'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-identifier'</span><span class="s2">}}, </span><span class="s3">'zip-safe'</span><span class="s2">: {</span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Whether the project can be safely installed and run from a zip file.'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'boolean'</span><span class="s2">}, </span><span class="s3">'script-files'</span><span class="s2">: {</span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Legacy way of defining scripts (entry-points are preferred).'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'TODO: is this field deprecated/should be removed?'</span><span class="s2">}, </span><span class="s3">'eager-resources'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Resources that should be extracted together, if any of them is needed,'</span><span class="s2">, </span><span class="s3">'or if any C extensions included in the project are imported.'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'packages'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Packages that should be included in the distribution.'</span><span class="s2">, </span><span class="s3">'It can be given either as a list of package identifiers'</span><span class="s2">, </span><span class="s3">'or as a ``dict``-like structure with a single key ``find``'</span><span class="s2">, </span><span class="s3">'which corresponds to a dynamic call to'</span><span class="s2">, </span><span class="s3">'``setuptools.config.expand.find_packages`` function.'</span><span class="s2">, </span><span class="s3">'The ``find`` key is associated with a nested ``dict``-like structure that can'</span><span class="s2">, </span><span class="s3">'contain ``where``, ``include``, ``exclude`` and ``namespaces`` keys,'</span><span class="s2">, </span><span class="s3">'mimicking the keyword arguments of the associated function.'</span><span class="s2">], </span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Array of Python package identifiers'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}}, {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/find-directive'</span><span class="s2">}]}, </span><span class="s3">'package-dir'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">':class:`dict`-like structure mapping from package names to directories where their'</span><span class="s2">, </span><span class="s3">'code can be found.'</span><span class="s2">, </span><span class="s3">'The empty string (as key) means that all packages are contained inside'</span><span class="s2">, </span><span class="s3">'the given directory will be included in the distribution.'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, {</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">''</span><span class="s2">}]}, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.*$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}}, </span><span class="s3">'package-data'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Mapping from package names to lists of glob patterns.'</span><span class="s2">, </span><span class="s3">'Usually this option is not needed when using ``include-package-data = true``'</span><span class="s2">, </span><span class="s3">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, {</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">'*'</span><span class="s2">}]}, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.*$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}}}, </span><span class="s3">'include-package-data'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Automatically include any data files inside the package directories'</span><span class="s2">, </span><span class="s3">'that are specified by ``MANIFEST.in``'</span><span class="s2">, </span><span class="s3">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'boolean'</span><span class="s2">}, </span><span class="s3">'exclude-package-data'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Mapping from package names to lists of glob patterns that should be excluded'</span><span class="s2">, </span><span class="s3">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, {</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">'*'</span><span class="s2">}]}, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.*$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}}}, </span><span class="s3">'namespace-packages'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://setuptools.pypa.io/en/latest/userguide/package_discovery.html'</span><span class="s2">}, </span><span class="s3">'py-modules'</span><span class="s2">: {</span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Modules that setuptools will manipulate'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'TODO: clarify the relationship with ``packages``'</span><span class="s2">}, </span><span class="s3">'data-files'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'**DEPRECATED**: dict-like structure where each key represents a directory and'</span><span class="s2">, </span><span class="s3">'the value is a list of glob patterns that should be installed in them.'</span><span class="s2">, </span><span class="s3">&quot;Please notice this don't work with wheels. See `data files support&quot;</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.*$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}}}, </span><span class="s3">'cmdclass'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Mapping of distutils-style command names to ``setuptools.Command`` subclasses'</span><span class="s2">, </span><span class="s3">'which in turn should be represented by strings with a qualified class name'</span><span class="s2">, </span><span class="s3">'(i.e., &quot;dotted&quot; form with module), e.g.::</span><span class="s4">\n\n</span><span class="s3">'</span><span class="s2">, </span><span class="s3">'    cmdclass = {mycmd = &quot;pkg.subpkg.module.CommandClass&quot;}</span><span class="s4">\n\n</span><span class="s3">'</span><span class="s2">, </span><span class="s3">'The command class should be a directly defined at the top-level of the'</span><span class="s2">, </span><span class="s3">'containing module (no class nesting).'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.*$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-qualified-identifier'</span><span class="s2">}}}, </span><span class="s3">'license-files'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'PROVISIONAL: List of glob patterns for all license files being distributed.'</span><span class="s2">, </span><span class="s3">'(might become standard with PEP 639).'</span><span class="s2">], </span><span class="s3">'default'</span><span class="s2">: [</span><span class="s3">'LICEN[CS]E*'</span><span class="s2">, </span><span class="s3">' COPYING*'</span><span class="s2">, </span><span class="s3">' NOTICE*'</span><span class="s2">, </span><span class="s3">'AUTHORS*'</span><span class="s2">], </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'TODO: revise if PEP 639 is accepted. Probably ``project.license-files``?'</span><span class="s2">}, </span><span class="s3">'dynamic'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Instructions for loading :pep:`621`-related metadata dynamically'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'version'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'A version dynamically loaded via either the ``attr:`` or ``file:``'</span><span class="s2">, </span><span class="s3">'directives. Please make sure the given file or attribute respects :pep:`440`.'</span><span class="s2">], </span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/attr-directive'</span><span class="s2">}, {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">}]}, </span><span class="s3">'classifiers'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">}, </span><span class="s3">'description'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">}, </span><span class="s3">'dependencies'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">}, </span><span class="s3">'entry-points'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">}, </span><span class="s3">'optional-dependencies'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-identifier'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'.+'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">}}}, </span><span class="s3">'readme'</span><span class="s2">: {</span><span class="s3">'anyOf'</span><span class="s2">: [{</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">}, {</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'content-type'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}}], </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}}}}, </span><span class="s3">'definitions'</span><span class="s2">: {</span><span class="s3">'file-directive'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, </span><span class="s3">'attr-directive'</span><span class="s2">: {</span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'attr:' directive&quot;</span><span class="s2">, </span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/attr-directive'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Value is read from a module attribute. Supports callables and iterables;'</span><span class="s2">, </span><span class="s3">'unsupported types are cast via ``str()``'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'attr'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'attr'</span><span class="s2">]}, </span><span class="s3">'find-directive'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/find-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'find:' directive&quot;</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'find'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Dynamic `package discovery'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/package_discovery.html&gt;`_.'</span><span class="s2">], </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'where'</span><span class="s2">: {</span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Directories to be searched for packages (Unix-style relative path)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'exclude'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Exclude packages that match the values listed in this field.'</span><span class="s2">, </span><span class="s3">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'include'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Restrict the found packages to just the ones listed in this field.'</span><span class="s2">, </span><span class="s3">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'namespaces'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'boolean'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'When ``True``, directories without a ``__init__.py`` file will also'</span><span class="s2">, </span><span class="s3">'be scanned for :pep:`420`-style implicit namespaces'</span><span class="s2">]}}}}}}}}}}, </span><span class="s3">'project'</span><span class="s2">: {</span><span class="s3">'$schema'</span><span class="s2">: </span><span class="s3">'http://json-schema.org/draft-07/schema'</span><span class="s2">, </span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'https://packaging.python.org/en/latest/specifications/declaring-project-metadata/'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Package metadata stored in the ``project`` table'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Data structure for the **project** table inside ``pyproject.toml``'</span><span class="s2">, </span><span class="s3">'(as initially defined in :pep:`621`)'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'name'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'The name (primary identifier) of the project. MUST be statically defined.'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-identifier'</span><span class="s2">}, </span><span class="s3">'version'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'The version of the project as supported by :pep:`440`.'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep440'</span><span class="s2">}, </span><span class="s3">'description'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'The `summary description of the project'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/core-metadata/#summary&gt;`_'</span><span class="s2">]}, </span><span class="s3">'readme'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'`Full/detailed description of the project in the form of a README'</span><span class="s2">, </span><span class="s3">'&lt;https://www.python.org/dev/peps/pep-0621/#readme&gt;`_'</span><span class="s2">, </span><span class="s3">&quot;with meaning similar to the one defined in `core metadata's Description&quot;</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/core-metadata/#description&gt;`_'</span><span class="s2">], </span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Relative path to a text file (UTF-8) containing the full description'</span><span class="s2">, </span><span class="s3">'of the project. If the file path ends in case-insensitive ``.md`` or'</span><span class="s2">, </span><span class="s3">'``.rst`` suffixes, then the content-type is respectively'</span><span class="s2">, </span><span class="s3">'``text/markdown`` or ``text/x-rst``'</span><span class="s2">]}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'allOf'</span><span class="s2">: [{</span><span class="s3">'anyOf'</span><span class="s2">: [{</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Relative path to a text file containing the full description'</span><span class="s2">, </span><span class="s3">'of the project.'</span><span class="s2">]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, {</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'text'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Full text describing the project.'</span><span class="s2">}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'text'</span><span class="s2">]}]}, {</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'content-type'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Content-type (:rfc:`1341`) of the full description'</span><span class="s2">, </span><span class="s3">'(e.g. ``text/markdown``). The ``charset`` parameter is assumed'</span><span class="s2">, </span><span class="s3">'UTF-8 when not present.'</span><span class="s2">], </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'TODO: add regex pattern or format?'</span><span class="s2">}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'content-type'</span><span class="s2">]}]}]}, </span><span class="s3">'requires-python'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-versionspec'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'`The Python version requirements of the project'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/core-metadata/#requires-python&gt;`_.'</span><span class="s2">]}, </span><span class="s3">'license'</span><span class="s2">: {</span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'`Project license &lt;https://www.python.org/dev/peps/pep-0621/#license&gt;`_.'</span><span class="s2">, </span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Relative path to the file (UTF-8) which contains the license for the'</span><span class="s2">, </span><span class="s3">'project.'</span><span class="s2">]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, {</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'text'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'The license of the project whose meaning is that of the'</span><span class="s2">, </span><span class="s3">'`License field from the core metadata'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/core-metadata/#license&gt;`_.'</span><span class="s2">]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'text'</span><span class="s2">]}]}, </span><span class="s3">'authors'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/author'</span><span class="s2">}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">&quot;The people or organizations considered to be the 'authors' of the project.&quot;</span><span class="s2">, </span><span class="s3">'The exact meaning is open to interpretation (e.g. original or primary authors,'</span><span class="s2">, </span><span class="s3">'current maintainers, or owners of the package).'</span><span class="s2">]}, </span><span class="s3">'maintainers'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/author'</span><span class="s2">}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">&quot;The people or organizations considered to be the 'maintainers' of the project.&quot;</span><span class="s2">, </span><span class="s3">'Similarly to ``authors``, the exact meaning is open to interpretation.'</span><span class="s2">]}, </span><span class="s3">'keywords'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'List of keywords to assist searching for the distribution in a larger catalog.'</span><span class="s2">}, </span><span class="s3">'classifiers'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'trove-classifier'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'`PyPI classifier &lt;https://pypi.org/classifiers/&gt;`_.'</span><span class="s2">}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'`Trove classifiers &lt;https://pypi.org/classifiers/&gt;`_'</span><span class="s2">, </span><span class="s3">'which apply to the project.'</span><span class="s2">]}, </span><span class="s3">'urls'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'URLs associated with the project in the form ``label =&gt; value``.'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'url'</span><span class="s2">}}}, </span><span class="s3">'scripts'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/entry-point-group'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Instruct the installer to create command-line wrappers for the given'</span><span class="s2">, </span><span class="s3">'`entry points &lt;https://packaging.python.org/specifications/entry-points/&gt;`_.'</span><span class="s2">]}, </span><span class="s3">'gui-scripts'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/entry-point-group'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Instruct the installer to create GUI wrappers for the given'</span><span class="s2">, </span><span class="s3">'`entry points &lt;https://packaging.python.org/specifications/entry-points/&gt;`_.'</span><span class="s2">, </span><span class="s3">'The difference between ``scripts`` and ``gui-scripts`` is only relevant in'</span><span class="s2">, </span><span class="s3">'Windows.'</span><span class="s2">]}, </span><span class="s3">'entry-points'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Instruct the installer to expose the given modules/functions via'</span><span class="s2">, </span><span class="s3">'``entry-point`` discovery mechanism (useful for plugins).'</span><span class="s2">, </span><span class="s3">'More information available in the `Python packaging guide'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_.'</span><span class="s2">], </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-group'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/entry-point-group'</span><span class="s2">}}}, </span><span class="s3">'dependencies'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Project (mandatory) dependencies.'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/dependency'</span><span class="s2">}}, </span><span class="s3">'optional-dependencies'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Optional dependency for the project'</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-identifier'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'$ref'</span><span class="s2">: </span><span class="s3">'#/definitions/dependency'</span><span class="s2">}}}}, </span><span class="s3">'dynamic'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Specifies which fields are intentionally unspecified and expected to be'</span><span class="s2">, </span><span class="s3">'dynamically provided by build tools'</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'enum'</span><span class="s2">: [</span><span class="s3">'version'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">, </span><span class="s3">'readme'</span><span class="s2">, </span><span class="s3">'requires-python'</span><span class="s2">, </span><span class="s3">'license'</span><span class="s2">, </span><span class="s3">'authors'</span><span class="s2">, </span><span class="s3">'maintainers'</span><span class="s2">, </span><span class="s3">'keywords'</span><span class="s2">, </span><span class="s3">'classifiers'</span><span class="s2">, </span><span class="s3">'urls'</span><span class="s2">, </span><span class="s3">'scripts'</span><span class="s2">, </span><span class="s3">'gui-scripts'</span><span class="s2">, </span><span class="s3">'entry-points'</span><span class="s2">, </span><span class="s3">'dependencies'</span><span class="s2">, </span><span class="s3">'optional-dependencies'</span><span class="s2">]}}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'name'</span><span class="s2">], </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'if'</span><span class="s2">: {</span><span class="s3">'not'</span><span class="s2">: {</span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'dynamic'</span><span class="s2">], </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'dynamic'</span><span class="s2">: {</span><span class="s3">'contains'</span><span class="s2">: {</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">'version'</span><span class="s2">}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'version is listed in ``dynamic``'</span><span class="s2">]}}}, </span><span class="s3">'$$comment'</span><span class="s2">: [</span><span class="s3">'According to :pep:`621`:'</span><span class="s2">, </span><span class="s3">'    If the core metadata specification lists a field as &quot;Required&quot;, then'</span><span class="s2">, </span><span class="s3">'    the metadata MUST specify the field statically or list it in dynamic'</span><span class="s2">, </span><span class="s3">'In turn, `core metadata`_ defines:'</span><span class="s2">, </span><span class="s3">'    The required fields are: Metadata-Version, Name, Version.'</span><span class="s2">, </span><span class="s3">'    All the other fields are optional.'</span><span class="s2">, </span><span class="s3">'Since ``Metadata-Version`` is defined by the build back-end, ``name`` and'</span><span class="s2">, </span><span class="s3">'``version`` are the only mandatory information in ``pyproject.toml``.'</span><span class="s2">, </span><span class="s3">'.. _core metadata: https://packaging.python.org/specifications/core-metadata/'</span><span class="s2">]}, </span><span class="s3">'then'</span><span class="s2">: {</span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'version'</span><span class="s2">], </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'version should be statically defined in the ``version`` field'</span><span class="s2">]}, </span><span class="s3">'definitions'</span><span class="s2">: {</span><span class="s3">'author'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/author'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Author or Maintainer'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://www.python.org/dev/peps/pep-0621/#authors-maintainers'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'name'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'MUST be a valid email name, i.e. whatever can be put as a name, before an'</span><span class="s2">, </span><span class="s3">'email, in :rfc:`822`.'</span><span class="s2">]}, </span><span class="s3">'email'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'idn-email'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'MUST be a valid email address'</span><span class="s2">}}}, </span><span class="s3">'entry-point-group'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/entry-point-group'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Entry-points'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s2">, </span><span class="s3">'provide.'</span><span class="s2">, </span><span class="s3">'See the `packaging guides'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s2">, </span><span class="s3">'and `setuptools docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s2">, </span><span class="s3">'for more information.'</span><span class="s2">], </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-name'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Reference to a Python object. It is either in the form'</span><span class="s2">, </span><span class="s3">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s2">], </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-reference'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://packaging.python.org/specifications/entry-points/'</span><span class="s2">}}}, </span><span class="s3">'dependency'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/dependency'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Dependency'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Project dependency specification according to PEP 508'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508'</span><span class="s2">}}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'additionalProperties'</span><span class="s2">)</span>
    <span class="s4">return </span><span class="s1">data</span>

<span class="s4">def </span><span class="s1">validate_https___setuptools_pypa_io_en_latest_references_keywords_html</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, </span><span class="s1">custom_formats</span><span class="s2">={}, </span><span class="s1">name_prefix</span><span class="s2">=</span><span class="s4">None</span><span class="s2">):</span>
    <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, (</span><span class="s1">dict</span><span class="s2">)):</span>
        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot; must be object&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'$schema'</span><span class="s2">: </span><span class="s3">'http://json-schema.org/draft-07/schema'</span><span class="s2">, </span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'https://setuptools.pypa.io/en/latest/references/keywords.html'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'``tool.setuptools`` table'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Please notice for the time being the ``setuptools`` project does not specify'</span><span class="s2">, </span><span class="s3">'a way of configuring builds via ``pyproject.toml``.'</span><span class="s2">, </span><span class="s3">'Therefore this schema should be taken just as a *&quot;thought experiment&quot;* on how'</span><span class="s2">, </span><span class="s3">'this *might be done*, by following the principles established in'</span><span class="s2">, </span><span class="s3">'`ini2toml &lt;https://ini2toml.readthedocs.io/en/latest/setuptools_pep621.html&gt;`_.'</span><span class="s2">, </span><span class="s3">'It considers only ``setuptools`` `parameters'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/declarative_config.html&gt;`_'</span><span class="s2">, </span><span class="s3">'that can currently be configured via ``setup.cfg`` and are not covered by :pep:`621`'</span><span class="s2">, </span><span class="s3">'but intentionally excludes ``dependency_links`` and ``setup_requires``.'</span><span class="s2">, </span><span class="s3">'NOTE: ``scripts`` was renamed to ``script-files`` to avoid confusion with'</span><span class="s2">, </span><span class="s3">'entry-point based scripts (defined in :pep:`621`).'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'platforms'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'provides'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Package and virtual package names contained within this package'</span><span class="s2">, </span><span class="s3">'**(not supported by pip)**'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-identifier'</span><span class="s2">}}, </span><span class="s3">'obsoletes'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Packages which this package renders obsolete'</span><span class="s2">, </span><span class="s3">'**(not supported by pip)**'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-identifier'</span><span class="s2">}}, </span><span class="s3">'zip-safe'</span><span class="s2">: {</span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Whether the project can be safely installed and run from a zip file.'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'boolean'</span><span class="s2">}, </span><span class="s3">'script-files'</span><span class="s2">: {</span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Legacy way of defining scripts (entry-points are preferred).'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'TODO: is this field deprecated/should be removed?'</span><span class="s2">}, </span><span class="s3">'eager-resources'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Resources that should be extracted together, if any of them is needed,'</span><span class="s2">, </span><span class="s3">'or if any C extensions included in the project are imported.'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'packages'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Packages that should be included in the distribution.'</span><span class="s2">, </span><span class="s3">'It can be given either as a list of package identifiers'</span><span class="s2">, </span><span class="s3">'or as a ``dict``-like structure with a single key ``find``'</span><span class="s2">, </span><span class="s3">'which corresponds to a dynamic call to'</span><span class="s2">, </span><span class="s3">'``setuptools.config.expand.find_packages`` function.'</span><span class="s2">, </span><span class="s3">'The ``find`` key is associated with a nested ``dict``-like structure that can'</span><span class="s2">, </span><span class="s3">'contain ``where``, ``include``, ``exclude`` and ``namespaces`` keys,'</span><span class="s2">, </span><span class="s3">'mimicking the keyword arguments of the associated function.'</span><span class="s2">], </span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Array of Python package identifiers'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}}, {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/find-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'find:' directive&quot;</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'find'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Dynamic `package discovery'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/package_discovery.html&gt;`_.'</span><span class="s2">], </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'where'</span><span class="s2">: {</span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Directories to be searched for packages (Unix-style relative path)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'exclude'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Exclude packages that match the values listed in this field.'</span><span class="s2">, </span><span class="s3">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'include'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Restrict the found packages to just the ones listed in this field.'</span><span class="s2">, </span><span class="s3">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'namespaces'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'boolean'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'When ``True``, directories without a ``__init__.py`` file will also'</span><span class="s2">, </span><span class="s3">'be scanned for :pep:`420`-style implicit namespaces'</span><span class="s2">]}}}}}]}, </span><span class="s3">'package-dir'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">':class:`dict`-like structure mapping from package names to directories where their'</span><span class="s2">, </span><span class="s3">'code can be found.'</span><span class="s2">, </span><span class="s3">'The empty string (as key) means that all packages are contained inside'</span><span class="s2">, </span><span class="s3">'the given directory will be included in the distribution.'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, {</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">''</span><span class="s2">}]}, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.*$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}}, </span><span class="s3">'package-data'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Mapping from package names to lists of glob patterns.'</span><span class="s2">, </span><span class="s3">'Usually this option is not needed when using ``include-package-data = true``'</span><span class="s2">, </span><span class="s3">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, {</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">'*'</span><span class="s2">}]}, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.*$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}}}, </span><span class="s3">'include-package-data'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Automatically include any data files inside the package directories'</span><span class="s2">, </span><span class="s3">'that are specified by ``MANIFEST.in``'</span><span class="s2">, </span><span class="s3">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'boolean'</span><span class="s2">}, </span><span class="s3">'exclude-package-data'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Mapping from package names to lists of glob patterns that should be excluded'</span><span class="s2">, </span><span class="s3">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, {</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">'*'</span><span class="s2">}]}, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.*$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}}}, </span><span class="s3">'namespace-packages'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://setuptools.pypa.io/en/latest/userguide/package_discovery.html'</span><span class="s2">}, </span><span class="s3">'py-modules'</span><span class="s2">: {</span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Modules that setuptools will manipulate'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'TODO: clarify the relationship with ``packages``'</span><span class="s2">}, </span><span class="s3">'data-files'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'**DEPRECATED**: dict-like structure where each key represents a directory and'</span><span class="s2">, </span><span class="s3">'the value is a list of glob patterns that should be installed in them.'</span><span class="s2">, </span><span class="s3">&quot;Please notice this don't work with wheels. See `data files support&quot;</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.*$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}}}, </span><span class="s3">'cmdclass'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Mapping of distutils-style command names to ``setuptools.Command`` subclasses'</span><span class="s2">, </span><span class="s3">'which in turn should be represented by strings with a qualified class name'</span><span class="s2">, </span><span class="s3">'(i.e., &quot;dotted&quot; form with module), e.g.::</span><span class="s4">\n\n</span><span class="s3">'</span><span class="s2">, </span><span class="s3">'    cmdclass = {mycmd = &quot;pkg.subpkg.module.CommandClass&quot;}</span><span class="s4">\n\n</span><span class="s3">'</span><span class="s2">, </span><span class="s3">'The command class should be a directly defined at the top-level of the'</span><span class="s2">, </span><span class="s3">'containing module (no class nesting).'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.*$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-qualified-identifier'</span><span class="s2">}}}, </span><span class="s3">'license-files'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'PROVISIONAL: List of glob patterns for all license files being distributed.'</span><span class="s2">, </span><span class="s3">'(might become standard with PEP 639).'</span><span class="s2">], </span><span class="s3">'default'</span><span class="s2">: [</span><span class="s3">'LICEN[CS]E*'</span><span class="s2">, </span><span class="s3">' COPYING*'</span><span class="s2">, </span><span class="s3">' NOTICE*'</span><span class="s2">, </span><span class="s3">'AUTHORS*'</span><span class="s2">], </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'TODO: revise if PEP 639 is accepted. Probably ``project.license-files``?'</span><span class="s2">}, </span><span class="s3">'dynamic'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Instructions for loading :pep:`621`-related metadata dynamically'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'version'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'A version dynamically loaded via either the ``attr:`` or ``file:``'</span><span class="s2">, </span><span class="s3">'directives. Please make sure the given file or attribute respects :pep:`440`.'</span><span class="s2">], </span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'attr:' directive&quot;</span><span class="s2">, </span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/attr-directive'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Value is read from a module attribute. Supports callables and iterables;'</span><span class="s2">, </span><span class="s3">'unsupported types are cast via ``str()``'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'attr'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'attr'</span><span class="s2">]}, {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}]}, </span><span class="s3">'classifiers'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, </span><span class="s3">'description'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, </span><span class="s3">'dependencies'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, </span><span class="s3">'entry-points'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, </span><span class="s3">'optional-dependencies'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-identifier'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'.+'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}}}, </span><span class="s3">'readme'</span><span class="s2">: {</span><span class="s3">'anyOf'</span><span class="s2">: [{</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, {</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'content-type'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}}], </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}}}}, </span><span class="s3">'definitions'</span><span class="s2">: {</span><span class="s3">'file-directive'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, </span><span class="s3">'attr-directive'</span><span class="s2">: {</span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'attr:' directive&quot;</span><span class="s2">, </span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/attr-directive'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Value is read from a module attribute. Supports callables and iterables;'</span><span class="s2">, </span><span class="s3">'unsupported types are cast via ``str()``'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'attr'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'attr'</span><span class="s2">]}, </span><span class="s3">'find-directive'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/find-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'find:' directive&quot;</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'find'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Dynamic `package discovery'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/package_discovery.html&gt;`_.'</span><span class="s2">], </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'where'</span><span class="s2">: {</span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Directories to be searched for packages (Unix-style relative path)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'exclude'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Exclude packages that match the values listed in this field.'</span><span class="s2">, </span><span class="s3">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'include'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Restrict the found packages to just the ones listed in this field.'</span><span class="s2">, </span><span class="s3">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'namespaces'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'boolean'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'When ``True``, directories without a ``__init__.py`` file will also'</span><span class="s2">, </span><span class="s3">'be scanned for :pep:`420`-style implicit namespaces'</span><span class="s2">]}}}}}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
    <span class="s1">data_is_dict </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, </span><span class="s1">dict</span><span class="s2">)</span>
    <span class="s4">if </span><span class="s1">data_is_dict</span><span class="s2">:</span>
        <span class="s1">data_keys </span><span class="s2">= </span><span class="s1">set</span><span class="s2">(</span><span class="s1">data</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">())</span>
        <span class="s4">if </span><span class="s3">&quot;platforms&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;platforms&quot;</span><span class="s2">)</span>
            <span class="s1">data__platforms </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;platforms&quot;</span><span class="s2">]</span>
            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__platforms</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">)):</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.platforms must be array&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__platforms</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.platforms&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
            <span class="s1">data__platforms_is_list </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__platforms</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">))</span>
            <span class="s4">if </span><span class="s1">data__platforms_is_list</span><span class="s2">:</span>
                <span class="s1">data__platforms_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data__platforms</span><span class="s2">)</span>
                <span class="s4">for </span><span class="s1">data__platforms_x</span><span class="s2">, </span><span class="s1">data__platforms_item </span><span class="s4">in </span><span class="s1">enumerate</span><span class="s2">(</span><span class="s1">data__platforms</span><span class="s2">):</span>
                    <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__platforms_item</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.platforms[{data__platforms_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot; must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__platforms_item</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.platforms[{data__platforms_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s3">&quot;provides&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;provides&quot;</span><span class="s2">)</span>
            <span class="s1">data__provides </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;provides&quot;</span><span class="s2">]</span>
            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__provides</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">)):</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.provides must be array&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__provides</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.provides&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Package and virtual package names contained within this package'</span><span class="s2">, </span><span class="s3">'**(not supported by pip)**'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-identifier'</span><span class="s2">}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
            <span class="s1">data__provides_is_list </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__provides</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">))</span>
            <span class="s4">if </span><span class="s1">data__provides_is_list</span><span class="s2">:</span>
                <span class="s1">data__provides_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data__provides</span><span class="s2">)</span>
                <span class="s4">for </span><span class="s1">data__provides_x</span><span class="s2">, </span><span class="s1">data__provides_item </span><span class="s4">in </span><span class="s1">enumerate</span><span class="s2">(</span><span class="s1">data__provides</span><span class="s2">):</span>
                    <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__provides_item</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.provides[{data__provides_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot; must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__provides_item</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.provides[{data__provides_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-identifier'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                    <span class="s4">if </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__provides_item</span><span class="s2">, </span><span class="s1">str</span><span class="s2">):</span>
                        <span class="s4">if not </span><span class="s1">custom_formats</span><span class="s2">[</span><span class="s3">&quot;pep508-identifier&quot;</span><span class="s2">](</span><span class="s1">data__provides_item</span><span class="s2">):</span>
                            <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.provides[{data__provides_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot; must be pep508-identifier&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__provides_item</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.provides[{data__provides_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-identifier'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'format'</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s3">&quot;obsoletes&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;obsoletes&quot;</span><span class="s2">)</span>
            <span class="s1">data__obsoletes </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;obsoletes&quot;</span><span class="s2">]</span>
            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__obsoletes</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">)):</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.obsoletes must be array&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__obsoletes</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.obsoletes&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Packages which this package renders obsolete'</span><span class="s2">, </span><span class="s3">'**(not supported by pip)**'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-identifier'</span><span class="s2">}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
            <span class="s1">data__obsoletes_is_list </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__obsoletes</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">))</span>
            <span class="s4">if </span><span class="s1">data__obsoletes_is_list</span><span class="s2">:</span>
                <span class="s1">data__obsoletes_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data__obsoletes</span><span class="s2">)</span>
                <span class="s4">for </span><span class="s1">data__obsoletes_x</span><span class="s2">, </span><span class="s1">data__obsoletes_item </span><span class="s4">in </span><span class="s1">enumerate</span><span class="s2">(</span><span class="s1">data__obsoletes</span><span class="s2">):</span>
                    <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__obsoletes_item</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.obsoletes[{data__obsoletes_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot; must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__obsoletes_item</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.obsoletes[{data__obsoletes_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-identifier'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                    <span class="s4">if </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__obsoletes_item</span><span class="s2">, </span><span class="s1">str</span><span class="s2">):</span>
                        <span class="s4">if not </span><span class="s1">custom_formats</span><span class="s2">[</span><span class="s3">&quot;pep508-identifier&quot;</span><span class="s2">](</span><span class="s1">data__obsoletes_item</span><span class="s2">):</span>
                            <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.obsoletes[{data__obsoletes_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot; must be pep508-identifier&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__obsoletes_item</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.obsoletes[{data__obsoletes_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-identifier'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'format'</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s3">&quot;zip-safe&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;zip-safe&quot;</span><span class="s2">)</span>
            <span class="s1">data__zipsafe </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;zip-safe&quot;</span><span class="s2">]</span>
            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__zipsafe</span><span class="s2">, (</span><span class="s1">bool</span><span class="s2">)):</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.zip-safe must be boolean&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__zipsafe</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.zip-safe&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Whether the project can be safely installed and run from a zip file.'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'boolean'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s3">&quot;script-files&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;script-files&quot;</span><span class="s2">)</span>
            <span class="s1">data__scriptfiles </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;script-files&quot;</span><span class="s2">]</span>
            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__scriptfiles</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">)):</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.script-files must be array&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__scriptfiles</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.script-files&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Legacy way of defining scripts (entry-points are preferred).'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'TODO: is this field deprecated/should be removed?'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
            <span class="s1">data__scriptfiles_is_list </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__scriptfiles</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">))</span>
            <span class="s4">if </span><span class="s1">data__scriptfiles_is_list</span><span class="s2">:</span>
                <span class="s1">data__scriptfiles_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data__scriptfiles</span><span class="s2">)</span>
                <span class="s4">for </span><span class="s1">data__scriptfiles_x</span><span class="s2">, </span><span class="s1">data__scriptfiles_item </span><span class="s4">in </span><span class="s1">enumerate</span><span class="s2">(</span><span class="s1">data__scriptfiles</span><span class="s2">):</span>
                    <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__scriptfiles_item</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.script-files[{data__scriptfiles_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot; must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__scriptfiles_item</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.script-files[{data__scriptfiles_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s3">&quot;eager-resources&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;eager-resources&quot;</span><span class="s2">)</span>
            <span class="s1">data__eagerresources </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;eager-resources&quot;</span><span class="s2">]</span>
            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__eagerresources</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">)):</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.eager-resources must be array&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__eagerresources</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.eager-resources&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Resources that should be extracted together, if any of them is needed,'</span><span class="s2">, </span><span class="s3">'or if any C extensions included in the project are imported.'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
            <span class="s1">data__eagerresources_is_list </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__eagerresources</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">))</span>
            <span class="s4">if </span><span class="s1">data__eagerresources_is_list</span><span class="s2">:</span>
                <span class="s1">data__eagerresources_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data__eagerresources</span><span class="s2">)</span>
                <span class="s4">for </span><span class="s1">data__eagerresources_x</span><span class="s2">, </span><span class="s1">data__eagerresources_item </span><span class="s4">in </span><span class="s1">enumerate</span><span class="s2">(</span><span class="s1">data__eagerresources</span><span class="s2">):</span>
                    <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__eagerresources_item</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.eager-resources[{data__eagerresources_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot; must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__eagerresources_item</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.eager-resources[{data__eagerresources_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s3">&quot;packages&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;packages&quot;</span><span class="s2">)</span>
            <span class="s1">data__packages </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;packages&quot;</span><span class="s2">]</span>
            <span class="s1">data__packages_one_of_count1 </span><span class="s2">= </span><span class="s5">0</span>
            <span class="s4">if </span><span class="s1">data__packages_one_of_count1 </span><span class="s2">&lt; </span><span class="s5">2</span><span class="s2">:</span>
                <span class="s4">try</span><span class="s2">:</span>
                    <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__packages</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">)):</span>
                        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.packages must be array&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__packages</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.packages&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Array of Python package identifiers'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                    <span class="s1">data__packages_is_list </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__packages</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">))</span>
                    <span class="s4">if </span><span class="s1">data__packages_is_list</span><span class="s2">:</span>
                        <span class="s1">data__packages_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data__packages</span><span class="s2">)</span>
                        <span class="s4">for </span><span class="s1">data__packages_x</span><span class="s2">, </span><span class="s1">data__packages_item </span><span class="s4">in </span><span class="s1">enumerate</span><span class="s2">(</span><span class="s1">data__packages</span><span class="s2">):</span>
                            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__packages_item</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.packages[{data__packages_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot; must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__packages_item</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.packages[{data__packages_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                            <span class="s4">if </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__packages_item</span><span class="s2">, </span><span class="s1">str</span><span class="s2">):</span>
                                <span class="s4">if not </span><span class="s1">custom_formats</span><span class="s2">[</span><span class="s3">&quot;python-module-name&quot;</span><span class="s2">](</span><span class="s1">data__packages_item</span><span class="s2">):</span>
                                    <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.packages[{data__packages_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot; must be python-module-name&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__packages_item</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.packages[{data__packages_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'format'</span><span class="s2">)</span>
                    <span class="s1">data__packages_one_of_count1 </span><span class="s2">+= </span><span class="s5">1</span>
                <span class="s4">except </span><span class="s1">JsonSchemaValueException</span><span class="s2">: </span><span class="s4">pass</span>
            <span class="s4">if </span><span class="s1">data__packages_one_of_count1 </span><span class="s2">&lt; </span><span class="s5">2</span><span class="s2">:</span>
                <span class="s4">try</span><span class="s2">:</span>
                    <span class="s1">validate_https___setuptools_pypa_io_en_latest_references_keywords_html__definitions_find_directive</span><span class="s2">(</span><span class="s1">data__packages</span><span class="s2">, </span><span class="s1">custom_formats</span><span class="s2">, (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.packages&quot;</span><span class="s2">)</span>
                    <span class="s1">data__packages_one_of_count1 </span><span class="s2">+= </span><span class="s5">1</span>
                <span class="s4">except </span><span class="s1">JsonSchemaValueException</span><span class="s2">: </span><span class="s4">pass</span>
            <span class="s4">if </span><span class="s1">data__packages_one_of_count1 </span><span class="s2">!= </span><span class="s5">1</span><span class="s2">:</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.packages must be valid exactly by one definition&quot; </span><span class="s2">+ (</span><span class="s3">&quot; (&quot; </span><span class="s2">+ </span><span class="s1">str</span><span class="s2">(</span><span class="s1">data__packages_one_of_count1</span><span class="s2">) + </span><span class="s3">&quot; matches found)&quot;</span><span class="s2">), </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__packages</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.packages&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Packages that should be included in the distribution.'</span><span class="s2">, </span><span class="s3">'It can be given either as a list of package identifiers'</span><span class="s2">, </span><span class="s3">'or as a ``dict``-like structure with a single key ``find``'</span><span class="s2">, </span><span class="s3">'which corresponds to a dynamic call to'</span><span class="s2">, </span><span class="s3">'``setuptools.config.expand.find_packages`` function.'</span><span class="s2">, </span><span class="s3">'The ``find`` key is associated with a nested ``dict``-like structure that can'</span><span class="s2">, </span><span class="s3">'contain ``where``, ``include``, ``exclude`` and ``namespaces`` keys,'</span><span class="s2">, </span><span class="s3">'mimicking the keyword arguments of the associated function.'</span><span class="s2">], </span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Array of Python package identifiers'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}}, {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/find-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'find:' directive&quot;</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'find'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Dynamic `package discovery'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/package_discovery.html&gt;`_.'</span><span class="s2">], </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'where'</span><span class="s2">: {</span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Directories to be searched for packages (Unix-style relative path)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'exclude'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Exclude packages that match the values listed in this field.'</span><span class="s2">, </span><span class="s3">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'include'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Restrict the found packages to just the ones listed in this field.'</span><span class="s2">, </span><span class="s3">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'namespaces'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'boolean'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'When ``True``, directories without a ``__init__.py`` file will also'</span><span class="s2">, </span><span class="s3">'be scanned for :pep:`420`-style implicit namespaces'</span><span class="s2">]}}}}}]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'oneOf'</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s3">&quot;package-dir&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;package-dir&quot;</span><span class="s2">)</span>
            <span class="s1">data__packagedir </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;package-dir&quot;</span><span class="s2">]</span>
            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__packagedir</span><span class="s2">, (</span><span class="s1">dict</span><span class="s2">)):</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.package-dir must be object&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__packagedir</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.package-dir&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">':class:`dict`-like structure mapping from package names to directories where their'</span><span class="s2">, </span><span class="s3">'code can be found.'</span><span class="s2">, </span><span class="s3">'The empty string (as key) means that all packages are contained inside'</span><span class="s2">, </span><span class="s3">'the given directory will be included in the distribution.'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, {</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">''</span><span class="s2">}]}, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.*$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
            <span class="s1">data__packagedir_is_dict </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__packagedir</span><span class="s2">, </span><span class="s1">dict</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">data__packagedir_is_dict</span><span class="s2">:</span>
                <span class="s1">data__packagedir_keys </span><span class="s2">= </span><span class="s1">set</span><span class="s2">(</span><span class="s1">data__packagedir</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">())</span>
                <span class="s4">for </span><span class="s1">data__packagedir_key</span><span class="s2">, </span><span class="s1">data__packagedir_val </span><span class="s4">in </span><span class="s1">data__packagedir</span><span class="s2">.</span><span class="s1">items</span><span class="s2">():</span>
                    <span class="s4">if </span><span class="s1">REGEX_PATTERNS</span><span class="s2">[</span><span class="s3">'^.*$'</span><span class="s2">].</span><span class="s1">search</span><span class="s2">(</span><span class="s1">data__packagedir_key</span><span class="s2">):</span>
                        <span class="s4">if </span><span class="s1">data__packagedir_key </span><span class="s4">in </span><span class="s1">data__packagedir_keys</span><span class="s2">:</span>
                            <span class="s1">data__packagedir_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s1">data__packagedir_key</span><span class="s2">)</span>
                        <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__packagedir_val</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                            <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.package-dir.{data__packagedir_key}&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot; must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__packagedir_val</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.package-dir.{data__packagedir_key}&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                <span class="s4">if </span><span class="s1">data__packagedir_keys</span><span class="s2">:</span>
                    <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.package-dir must not contain &quot;</span><span class="s2">+</span><span class="s1">str</span><span class="s2">(</span><span class="s1">data__packagedir_keys</span><span class="s2">)+</span><span class="s3">&quot; properties&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__packagedir</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.package-dir&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">':class:`dict`-like structure mapping from package names to directories where their'</span><span class="s2">, </span><span class="s3">'code can be found.'</span><span class="s2">, </span><span class="s3">'The empty string (as key) means that all packages are contained inside'</span><span class="s2">, </span><span class="s3">'the given directory will be included in the distribution.'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, {</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">''</span><span class="s2">}]}, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.*$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'additionalProperties'</span><span class="s2">)</span>
                <span class="s1">data__packagedir_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data__packagedir</span><span class="s2">)</span>
                <span class="s4">if </span><span class="s1">data__packagedir_len </span><span class="s2">!= </span><span class="s5">0</span><span class="s2">:</span>
                    <span class="s1">data__packagedir_property_names </span><span class="s2">= </span><span class="s4">True</span>
                    <span class="s4">for </span><span class="s1">data__packagedir_key </span><span class="s4">in </span><span class="s1">data__packagedir</span><span class="s2">:</span>
                        <span class="s4">try</span><span class="s2">:</span>
                            <span class="s1">data__packagedir_key_one_of_count2 </span><span class="s2">= </span><span class="s5">0</span>
                            <span class="s4">if </span><span class="s1">data__packagedir_key_one_of_count2 </span><span class="s2">&lt; </span><span class="s5">2</span><span class="s2">:</span>
                                <span class="s4">try</span><span class="s2">:</span>
                                    <span class="s4">if </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__packagedir_key</span><span class="s2">, </span><span class="s1">str</span><span class="s2">):</span>
                                        <span class="s4">if not </span><span class="s1">custom_formats</span><span class="s2">[</span><span class="s3">&quot;python-module-name&quot;</span><span class="s2">](</span><span class="s1">data__packagedir_key</span><span class="s2">):</span>
                                            <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.package-dir must be python-module-name&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__packagedir_key</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.package-dir&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'format'</span><span class="s2">)</span>
                                    <span class="s1">data__packagedir_key_one_of_count2 </span><span class="s2">+= </span><span class="s5">1</span>
                                <span class="s4">except </span><span class="s1">JsonSchemaValueException</span><span class="s2">: </span><span class="s4">pass</span>
                            <span class="s4">if </span><span class="s1">data__packagedir_key_one_of_count2 </span><span class="s2">&lt; </span><span class="s5">2</span><span class="s2">:</span>
                                <span class="s4">try</span><span class="s2">:</span>
                                    <span class="s4">if </span><span class="s1">data__packagedir_key </span><span class="s2">!= </span><span class="s3">&quot;&quot;</span><span class="s2">:</span>
                                        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.package-dir must be same as const definition: &quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__packagedir_key</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.package-dir&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">''</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'const'</span><span class="s2">)</span>
                                    <span class="s1">data__packagedir_key_one_of_count2 </span><span class="s2">+= </span><span class="s5">1</span>
                                <span class="s4">except </span><span class="s1">JsonSchemaValueException</span><span class="s2">: </span><span class="s4">pass</span>
                            <span class="s4">if </span><span class="s1">data__packagedir_key_one_of_count2 </span><span class="s2">!= </span><span class="s5">1</span><span class="s2">:</span>
                                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.package-dir must be valid exactly by one definition&quot; </span><span class="s2">+ (</span><span class="s3">&quot; (&quot; </span><span class="s2">+ </span><span class="s1">str</span><span class="s2">(</span><span class="s1">data__packagedir_key_one_of_count2</span><span class="s2">) + </span><span class="s3">&quot; matches found)&quot;</span><span class="s2">), </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__packagedir_key</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.package-dir&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, {</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">''</span><span class="s2">}]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'oneOf'</span><span class="s2">)</span>
                        <span class="s4">except </span><span class="s1">JsonSchemaValueException</span><span class="s2">:</span>
                            <span class="s1">data__packagedir_property_names </span><span class="s2">= </span><span class="s4">False</span>
                    <span class="s4">if not </span><span class="s1">data__packagedir_property_names</span><span class="s2">:</span>
                        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.package-dir must be named by propertyName definition&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__packagedir</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.package-dir&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">':class:`dict`-like structure mapping from package names to directories where their'</span><span class="s2">, </span><span class="s3">'code can be found.'</span><span class="s2">, </span><span class="s3">'The empty string (as key) means that all packages are contained inside'</span><span class="s2">, </span><span class="s3">'the given directory will be included in the distribution.'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, {</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">''</span><span class="s2">}]}, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.*$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'propertyNames'</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s3">&quot;package-data&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;package-data&quot;</span><span class="s2">)</span>
            <span class="s1">data__packagedata </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;package-data&quot;</span><span class="s2">]</span>
            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__packagedata</span><span class="s2">, (</span><span class="s1">dict</span><span class="s2">)):</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.package-data must be object&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__packagedata</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.package-data&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Mapping from package names to lists of glob patterns.'</span><span class="s2">, </span><span class="s3">'Usually this option is not needed when using ``include-package-data = true``'</span><span class="s2">, </span><span class="s3">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, {</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">'*'</span><span class="s2">}]}, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.*$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
            <span class="s1">data__packagedata_is_dict </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__packagedata</span><span class="s2">, </span><span class="s1">dict</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">data__packagedata_is_dict</span><span class="s2">:</span>
                <span class="s1">data__packagedata_keys </span><span class="s2">= </span><span class="s1">set</span><span class="s2">(</span><span class="s1">data__packagedata</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">())</span>
                <span class="s4">for </span><span class="s1">data__packagedata_key</span><span class="s2">, </span><span class="s1">data__packagedata_val </span><span class="s4">in </span><span class="s1">data__packagedata</span><span class="s2">.</span><span class="s1">items</span><span class="s2">():</span>
                    <span class="s4">if </span><span class="s1">REGEX_PATTERNS</span><span class="s2">[</span><span class="s3">'^.*$'</span><span class="s2">].</span><span class="s1">search</span><span class="s2">(</span><span class="s1">data__packagedata_key</span><span class="s2">):</span>
                        <span class="s4">if </span><span class="s1">data__packagedata_key </span><span class="s4">in </span><span class="s1">data__packagedata_keys</span><span class="s2">:</span>
                            <span class="s1">data__packagedata_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s1">data__packagedata_key</span><span class="s2">)</span>
                        <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__packagedata_val</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">)):</span>
                            <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.package-data.{data__packagedata_key}&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot; must be array&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__packagedata_val</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.package-data.{data__packagedata_key}&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                        <span class="s1">data__packagedata_val_is_list </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__packagedata_val</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">))</span>
                        <span class="s4">if </span><span class="s1">data__packagedata_val_is_list</span><span class="s2">:</span>
                            <span class="s1">data__packagedata_val_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data__packagedata_val</span><span class="s2">)</span>
                            <span class="s4">for </span><span class="s1">data__packagedata_val_x</span><span class="s2">, </span><span class="s1">data__packagedata_val_item </span><span class="s4">in </span><span class="s1">enumerate</span><span class="s2">(</span><span class="s1">data__packagedata_val</span><span class="s2">):</span>
                                <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__packagedata_val_item</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                                    <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.package-data.{data__packagedata_key}[{data__packagedata_val_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot; must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__packagedata_val_item</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.package-data.{data__packagedata_key}[{data__packagedata_val_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                <span class="s4">if </span><span class="s1">data__packagedata_keys</span><span class="s2">:</span>
                    <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.package-data must not contain &quot;</span><span class="s2">+</span><span class="s1">str</span><span class="s2">(</span><span class="s1">data__packagedata_keys</span><span class="s2">)+</span><span class="s3">&quot; properties&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__packagedata</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.package-data&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Mapping from package names to lists of glob patterns.'</span><span class="s2">, </span><span class="s3">'Usually this option is not needed when using ``include-package-data = true``'</span><span class="s2">, </span><span class="s3">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, {</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">'*'</span><span class="s2">}]}, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.*$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'additionalProperties'</span><span class="s2">)</span>
                <span class="s1">data__packagedata_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data__packagedata</span><span class="s2">)</span>
                <span class="s4">if </span><span class="s1">data__packagedata_len </span><span class="s2">!= </span><span class="s5">0</span><span class="s2">:</span>
                    <span class="s1">data__packagedata_property_names </span><span class="s2">= </span><span class="s4">True</span>
                    <span class="s4">for </span><span class="s1">data__packagedata_key </span><span class="s4">in </span><span class="s1">data__packagedata</span><span class="s2">:</span>
                        <span class="s4">try</span><span class="s2">:</span>
                            <span class="s1">data__packagedata_key_one_of_count3 </span><span class="s2">= </span><span class="s5">0</span>
                            <span class="s4">if </span><span class="s1">data__packagedata_key_one_of_count3 </span><span class="s2">&lt; </span><span class="s5">2</span><span class="s2">:</span>
                                <span class="s4">try</span><span class="s2">:</span>
                                    <span class="s4">if </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__packagedata_key</span><span class="s2">, </span><span class="s1">str</span><span class="s2">):</span>
                                        <span class="s4">if not </span><span class="s1">custom_formats</span><span class="s2">[</span><span class="s3">&quot;python-module-name&quot;</span><span class="s2">](</span><span class="s1">data__packagedata_key</span><span class="s2">):</span>
                                            <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.package-data must be python-module-name&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__packagedata_key</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.package-data&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'format'</span><span class="s2">)</span>
                                    <span class="s1">data__packagedata_key_one_of_count3 </span><span class="s2">+= </span><span class="s5">1</span>
                                <span class="s4">except </span><span class="s1">JsonSchemaValueException</span><span class="s2">: </span><span class="s4">pass</span>
                            <span class="s4">if </span><span class="s1">data__packagedata_key_one_of_count3 </span><span class="s2">&lt; </span><span class="s5">2</span><span class="s2">:</span>
                                <span class="s4">try</span><span class="s2">:</span>
                                    <span class="s4">if </span><span class="s1">data__packagedata_key </span><span class="s2">!= </span><span class="s3">&quot;*&quot;</span><span class="s2">:</span>
                                        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.package-data must be same as const definition: *&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__packagedata_key</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.package-data&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">'*'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'const'</span><span class="s2">)</span>
                                    <span class="s1">data__packagedata_key_one_of_count3 </span><span class="s2">+= </span><span class="s5">1</span>
                                <span class="s4">except </span><span class="s1">JsonSchemaValueException</span><span class="s2">: </span><span class="s4">pass</span>
                            <span class="s4">if </span><span class="s1">data__packagedata_key_one_of_count3 </span><span class="s2">!= </span><span class="s5">1</span><span class="s2">:</span>
                                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.package-data must be valid exactly by one definition&quot; </span><span class="s2">+ (</span><span class="s3">&quot; (&quot; </span><span class="s2">+ </span><span class="s1">str</span><span class="s2">(</span><span class="s1">data__packagedata_key_one_of_count3</span><span class="s2">) + </span><span class="s3">&quot; matches found)&quot;</span><span class="s2">), </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__packagedata_key</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.package-data&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, {</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">'*'</span><span class="s2">}]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'oneOf'</span><span class="s2">)</span>
                        <span class="s4">except </span><span class="s1">JsonSchemaValueException</span><span class="s2">:</span>
                            <span class="s1">data__packagedata_property_names </span><span class="s2">= </span><span class="s4">False</span>
                    <span class="s4">if not </span><span class="s1">data__packagedata_property_names</span><span class="s2">:</span>
                        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.package-data must be named by propertyName definition&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__packagedata</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.package-data&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Mapping from package names to lists of glob patterns.'</span><span class="s2">, </span><span class="s3">'Usually this option is not needed when using ``include-package-data = true``'</span><span class="s2">, </span><span class="s3">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, {</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">'*'</span><span class="s2">}]}, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.*$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'propertyNames'</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s3">&quot;include-package-data&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;include-package-data&quot;</span><span class="s2">)</span>
            <span class="s1">data__includepackagedata </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;include-package-data&quot;</span><span class="s2">]</span>
            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__includepackagedata</span><span class="s2">, (</span><span class="s1">bool</span><span class="s2">)):</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.include-package-data must be boolean&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__includepackagedata</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.include-package-data&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Automatically include any data files inside the package directories'</span><span class="s2">, </span><span class="s3">'that are specified by ``MANIFEST.in``'</span><span class="s2">, </span><span class="s3">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'boolean'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s3">&quot;exclude-package-data&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;exclude-package-data&quot;</span><span class="s2">)</span>
            <span class="s1">data__excludepackagedata </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;exclude-package-data&quot;</span><span class="s2">]</span>
            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__excludepackagedata</span><span class="s2">, (</span><span class="s1">dict</span><span class="s2">)):</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.exclude-package-data must be object&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__excludepackagedata</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.exclude-package-data&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Mapping from package names to lists of glob patterns that should be excluded'</span><span class="s2">, </span><span class="s3">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, {</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">'*'</span><span class="s2">}]}, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.*$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
            <span class="s1">data__excludepackagedata_is_dict </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__excludepackagedata</span><span class="s2">, </span><span class="s1">dict</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">data__excludepackagedata_is_dict</span><span class="s2">:</span>
                <span class="s1">data__excludepackagedata_keys </span><span class="s2">= </span><span class="s1">set</span><span class="s2">(</span><span class="s1">data__excludepackagedata</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">())</span>
                <span class="s4">for </span><span class="s1">data__excludepackagedata_key</span><span class="s2">, </span><span class="s1">data__excludepackagedata_val </span><span class="s4">in </span><span class="s1">data__excludepackagedata</span><span class="s2">.</span><span class="s1">items</span><span class="s2">():</span>
                    <span class="s4">if </span><span class="s1">REGEX_PATTERNS</span><span class="s2">[</span><span class="s3">'^.*$'</span><span class="s2">].</span><span class="s1">search</span><span class="s2">(</span><span class="s1">data__excludepackagedata_key</span><span class="s2">):</span>
                        <span class="s4">if </span><span class="s1">data__excludepackagedata_key </span><span class="s4">in </span><span class="s1">data__excludepackagedata_keys</span><span class="s2">:</span>
                            <span class="s1">data__excludepackagedata_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s1">data__excludepackagedata_key</span><span class="s2">)</span>
                        <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__excludepackagedata_val</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">)):</span>
                            <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.exclude-package-data.{data__excludepackagedata_key}&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot; must be array&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__excludepackagedata_val</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.exclude-package-data.{data__excludepackagedata_key}&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                        <span class="s1">data__excludepackagedata_val_is_list </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__excludepackagedata_val</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">))</span>
                        <span class="s4">if </span><span class="s1">data__excludepackagedata_val_is_list</span><span class="s2">:</span>
                            <span class="s1">data__excludepackagedata_val_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data__excludepackagedata_val</span><span class="s2">)</span>
                            <span class="s4">for </span><span class="s1">data__excludepackagedata_val_x</span><span class="s2">, </span><span class="s1">data__excludepackagedata_val_item </span><span class="s4">in </span><span class="s1">enumerate</span><span class="s2">(</span><span class="s1">data__excludepackagedata_val</span><span class="s2">):</span>
                                <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__excludepackagedata_val_item</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                                    <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.exclude-package-data.{data__excludepackagedata_key}[{data__excludepackagedata_val_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot; must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__excludepackagedata_val_item</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.exclude-package-data.{data__excludepackagedata_key}[{data__excludepackagedata_val_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                <span class="s4">if </span><span class="s1">data__excludepackagedata_keys</span><span class="s2">:</span>
                    <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.exclude-package-data must not contain &quot;</span><span class="s2">+</span><span class="s1">str</span><span class="s2">(</span><span class="s1">data__excludepackagedata_keys</span><span class="s2">)+</span><span class="s3">&quot; properties&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__excludepackagedata</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.exclude-package-data&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Mapping from package names to lists of glob patterns that should be excluded'</span><span class="s2">, </span><span class="s3">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, {</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">'*'</span><span class="s2">}]}, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.*$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'additionalProperties'</span><span class="s2">)</span>
                <span class="s1">data__excludepackagedata_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data__excludepackagedata</span><span class="s2">)</span>
                <span class="s4">if </span><span class="s1">data__excludepackagedata_len </span><span class="s2">!= </span><span class="s5">0</span><span class="s2">:</span>
                    <span class="s1">data__excludepackagedata_property_names </span><span class="s2">= </span><span class="s4">True</span>
                    <span class="s4">for </span><span class="s1">data__excludepackagedata_key </span><span class="s4">in </span><span class="s1">data__excludepackagedata</span><span class="s2">:</span>
                        <span class="s4">try</span><span class="s2">:</span>
                            <span class="s1">data__excludepackagedata_key_one_of_count4 </span><span class="s2">= </span><span class="s5">0</span>
                            <span class="s4">if </span><span class="s1">data__excludepackagedata_key_one_of_count4 </span><span class="s2">&lt; </span><span class="s5">2</span><span class="s2">:</span>
                                <span class="s4">try</span><span class="s2">:</span>
                                    <span class="s4">if </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__excludepackagedata_key</span><span class="s2">, </span><span class="s1">str</span><span class="s2">):</span>
                                        <span class="s4">if not </span><span class="s1">custom_formats</span><span class="s2">[</span><span class="s3">&quot;python-module-name&quot;</span><span class="s2">](</span><span class="s1">data__excludepackagedata_key</span><span class="s2">):</span>
                                            <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.exclude-package-data must be python-module-name&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__excludepackagedata_key</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.exclude-package-data&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'format'</span><span class="s2">)</span>
                                    <span class="s1">data__excludepackagedata_key_one_of_count4 </span><span class="s2">+= </span><span class="s5">1</span>
                                <span class="s4">except </span><span class="s1">JsonSchemaValueException</span><span class="s2">: </span><span class="s4">pass</span>
                            <span class="s4">if </span><span class="s1">data__excludepackagedata_key_one_of_count4 </span><span class="s2">&lt; </span><span class="s5">2</span><span class="s2">:</span>
                                <span class="s4">try</span><span class="s2">:</span>
                                    <span class="s4">if </span><span class="s1">data__excludepackagedata_key </span><span class="s2">!= </span><span class="s3">&quot;*&quot;</span><span class="s2">:</span>
                                        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.exclude-package-data must be same as const definition: *&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__excludepackagedata_key</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.exclude-package-data&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">'*'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'const'</span><span class="s2">)</span>
                                    <span class="s1">data__excludepackagedata_key_one_of_count4 </span><span class="s2">+= </span><span class="s5">1</span>
                                <span class="s4">except </span><span class="s1">JsonSchemaValueException</span><span class="s2">: </span><span class="s4">pass</span>
                            <span class="s4">if </span><span class="s1">data__excludepackagedata_key_one_of_count4 </span><span class="s2">!= </span><span class="s5">1</span><span class="s2">:</span>
                                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.exclude-package-data must be valid exactly by one definition&quot; </span><span class="s2">+ (</span><span class="s3">&quot; (&quot; </span><span class="s2">+ </span><span class="s1">str</span><span class="s2">(</span><span class="s1">data__excludepackagedata_key_one_of_count4</span><span class="s2">) + </span><span class="s3">&quot; matches found)&quot;</span><span class="s2">), </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__excludepackagedata_key</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.exclude-package-data&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, {</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">'*'</span><span class="s2">}]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'oneOf'</span><span class="s2">)</span>
                        <span class="s4">except </span><span class="s1">JsonSchemaValueException</span><span class="s2">:</span>
                            <span class="s1">data__excludepackagedata_property_names </span><span class="s2">= </span><span class="s4">False</span>
                    <span class="s4">if not </span><span class="s1">data__excludepackagedata_property_names</span><span class="s2">:</span>
                        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.exclude-package-data must be named by propertyName definition&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__excludepackagedata</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.exclude-package-data&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Mapping from package names to lists of glob patterns that should be excluded'</span><span class="s2">, </span><span class="s3">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, {</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">'*'</span><span class="s2">}]}, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.*$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'propertyNames'</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s3">&quot;namespace-packages&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;namespace-packages&quot;</span><span class="s2">)</span>
            <span class="s1">data__namespacepackages </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;namespace-packages&quot;</span><span class="s2">]</span>
            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__namespacepackages</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">)):</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.namespace-packages must be array&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__namespacepackages</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.namespace-packages&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://setuptools.pypa.io/en/latest/userguide/package_discovery.html'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
            <span class="s1">data__namespacepackages_is_list </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__namespacepackages</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">))</span>
            <span class="s4">if </span><span class="s1">data__namespacepackages_is_list</span><span class="s2">:</span>
                <span class="s1">data__namespacepackages_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data__namespacepackages</span><span class="s2">)</span>
                <span class="s4">for </span><span class="s1">data__namespacepackages_x</span><span class="s2">, </span><span class="s1">data__namespacepackages_item </span><span class="s4">in </span><span class="s1">enumerate</span><span class="s2">(</span><span class="s1">data__namespacepackages</span><span class="s2">):</span>
                    <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__namespacepackages_item</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.namespace-packages[{data__namespacepackages_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot; must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__namespacepackages_item</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.namespace-packages[{data__namespacepackages_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                    <span class="s4">if </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__namespacepackages_item</span><span class="s2">, </span><span class="s1">str</span><span class="s2">):</span>
                        <span class="s4">if not </span><span class="s1">custom_formats</span><span class="s2">[</span><span class="s3">&quot;python-module-name&quot;</span><span class="s2">](</span><span class="s1">data__namespacepackages_item</span><span class="s2">):</span>
                            <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.namespace-packages[{data__namespacepackages_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot; must be python-module-name&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__namespacepackages_item</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.namespace-packages[{data__namespacepackages_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'format'</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s3">&quot;py-modules&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;py-modules&quot;</span><span class="s2">)</span>
            <span class="s1">data__pymodules </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;py-modules&quot;</span><span class="s2">]</span>
            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__pymodules</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">)):</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.py-modules must be array&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__pymodules</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.py-modules&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Modules that setuptools will manipulate'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'TODO: clarify the relationship with ``packages``'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
            <span class="s1">data__pymodules_is_list </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__pymodules</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">))</span>
            <span class="s4">if </span><span class="s1">data__pymodules_is_list</span><span class="s2">:</span>
                <span class="s1">data__pymodules_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data__pymodules</span><span class="s2">)</span>
                <span class="s4">for </span><span class="s1">data__pymodules_x</span><span class="s2">, </span><span class="s1">data__pymodules_item </span><span class="s4">in </span><span class="s1">enumerate</span><span class="s2">(</span><span class="s1">data__pymodules</span><span class="s2">):</span>
                    <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__pymodules_item</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.py-modules[{data__pymodules_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot; must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__pymodules_item</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.py-modules[{data__pymodules_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                    <span class="s4">if </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__pymodules_item</span><span class="s2">, </span><span class="s1">str</span><span class="s2">):</span>
                        <span class="s4">if not </span><span class="s1">custom_formats</span><span class="s2">[</span><span class="s3">&quot;python-module-name&quot;</span><span class="s2">](</span><span class="s1">data__pymodules_item</span><span class="s2">):</span>
                            <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.py-modules[{data__pymodules_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot; must be python-module-name&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__pymodules_item</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.py-modules[{data__pymodules_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'format'</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s3">&quot;data-files&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;data-files&quot;</span><span class="s2">)</span>
            <span class="s1">data__datafiles </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;data-files&quot;</span><span class="s2">]</span>
            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__datafiles</span><span class="s2">, (</span><span class="s1">dict</span><span class="s2">)):</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.data-files must be object&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__datafiles</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.data-files&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'**DEPRECATED**: dict-like structure where each key represents a directory and'</span><span class="s2">, </span><span class="s3">'the value is a list of glob patterns that should be installed in them.'</span><span class="s2">, </span><span class="s3">&quot;Please notice this don't work with wheels. See `data files support&quot;</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.*$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
            <span class="s1">data__datafiles_is_dict </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__datafiles</span><span class="s2">, </span><span class="s1">dict</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">data__datafiles_is_dict</span><span class="s2">:</span>
                <span class="s1">data__datafiles_keys </span><span class="s2">= </span><span class="s1">set</span><span class="s2">(</span><span class="s1">data__datafiles</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">())</span>
                <span class="s4">for </span><span class="s1">data__datafiles_key</span><span class="s2">, </span><span class="s1">data__datafiles_val </span><span class="s4">in </span><span class="s1">data__datafiles</span><span class="s2">.</span><span class="s1">items</span><span class="s2">():</span>
                    <span class="s4">if </span><span class="s1">REGEX_PATTERNS</span><span class="s2">[</span><span class="s3">'^.*$'</span><span class="s2">].</span><span class="s1">search</span><span class="s2">(</span><span class="s1">data__datafiles_key</span><span class="s2">):</span>
                        <span class="s4">if </span><span class="s1">data__datafiles_key </span><span class="s4">in </span><span class="s1">data__datafiles_keys</span><span class="s2">:</span>
                            <span class="s1">data__datafiles_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s1">data__datafiles_key</span><span class="s2">)</span>
                        <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__datafiles_val</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">)):</span>
                            <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.data-files.{data__datafiles_key}&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot; must be array&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__datafiles_val</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.data-files.{data__datafiles_key}&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                        <span class="s1">data__datafiles_val_is_list </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__datafiles_val</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">))</span>
                        <span class="s4">if </span><span class="s1">data__datafiles_val_is_list</span><span class="s2">:</span>
                            <span class="s1">data__datafiles_val_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data__datafiles_val</span><span class="s2">)</span>
                            <span class="s4">for </span><span class="s1">data__datafiles_val_x</span><span class="s2">, </span><span class="s1">data__datafiles_val_item </span><span class="s4">in </span><span class="s1">enumerate</span><span class="s2">(</span><span class="s1">data__datafiles_val</span><span class="s2">):</span>
                                <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__datafiles_val_item</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                                    <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.data-files.{data__datafiles_key}[{data__datafiles_val_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot; must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__datafiles_val_item</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.data-files.{data__datafiles_key}[{data__datafiles_val_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s3">&quot;cmdclass&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;cmdclass&quot;</span><span class="s2">)</span>
            <span class="s1">data__cmdclass </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;cmdclass&quot;</span><span class="s2">]</span>
            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__cmdclass</span><span class="s2">, (</span><span class="s1">dict</span><span class="s2">)):</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.cmdclass must be object&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__cmdclass</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.cmdclass&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Mapping of distutils-style command names to ``setuptools.Command`` subclasses'</span><span class="s2">, </span><span class="s3">'which in turn should be represented by strings with a qualified class name'</span><span class="s2">, </span><span class="s3">'(i.e., &quot;dotted&quot; form with module), e.g.::</span><span class="s4">\n\n</span><span class="s3">'</span><span class="s2">, </span><span class="s3">'    cmdclass = {mycmd = &quot;pkg.subpkg.module.CommandClass&quot;}</span><span class="s4">\n\n</span><span class="s3">'</span><span class="s2">, </span><span class="s3">'The command class should be a directly defined at the top-level of the'</span><span class="s2">, </span><span class="s3">'containing module (no class nesting).'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.*$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-qualified-identifier'</span><span class="s2">}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
            <span class="s1">data__cmdclass_is_dict </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__cmdclass</span><span class="s2">, </span><span class="s1">dict</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">data__cmdclass_is_dict</span><span class="s2">:</span>
                <span class="s1">data__cmdclass_keys </span><span class="s2">= </span><span class="s1">set</span><span class="s2">(</span><span class="s1">data__cmdclass</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">())</span>
                <span class="s4">for </span><span class="s1">data__cmdclass_key</span><span class="s2">, </span><span class="s1">data__cmdclass_val </span><span class="s4">in </span><span class="s1">data__cmdclass</span><span class="s2">.</span><span class="s1">items</span><span class="s2">():</span>
                    <span class="s4">if </span><span class="s1">REGEX_PATTERNS</span><span class="s2">[</span><span class="s3">'^.*$'</span><span class="s2">].</span><span class="s1">search</span><span class="s2">(</span><span class="s1">data__cmdclass_key</span><span class="s2">):</span>
                        <span class="s4">if </span><span class="s1">data__cmdclass_key </span><span class="s4">in </span><span class="s1">data__cmdclass_keys</span><span class="s2">:</span>
                            <span class="s1">data__cmdclass_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s1">data__cmdclass_key</span><span class="s2">)</span>
                        <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__cmdclass_val</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                            <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.cmdclass.{data__cmdclass_key}&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot; must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__cmdclass_val</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.cmdclass.{data__cmdclass_key}&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-qualified-identifier'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                        <span class="s4">if </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__cmdclass_val</span><span class="s2">, </span><span class="s1">str</span><span class="s2">):</span>
                            <span class="s4">if not </span><span class="s1">custom_formats</span><span class="s2">[</span><span class="s3">&quot;python-qualified-identifier&quot;</span><span class="s2">](</span><span class="s1">data__cmdclass_val</span><span class="s2">):</span>
                                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.cmdclass.{data__cmdclass_key}&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot; must be python-qualified-identifier&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__cmdclass_val</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.cmdclass.{data__cmdclass_key}&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-qualified-identifier'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'format'</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s3">&quot;license-files&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;license-files&quot;</span><span class="s2">)</span>
            <span class="s1">data__licensefiles </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;license-files&quot;</span><span class="s2">]</span>
            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__licensefiles</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">)):</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.license-files must be array&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__licensefiles</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.license-files&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'PROVISIONAL: List of glob patterns for all license files being distributed.'</span><span class="s2">, </span><span class="s3">'(might become standard with PEP 639).'</span><span class="s2">], </span><span class="s3">'default'</span><span class="s2">: [</span><span class="s3">'LICEN[CS]E*'</span><span class="s2">, </span><span class="s3">' COPYING*'</span><span class="s2">, </span><span class="s3">' NOTICE*'</span><span class="s2">, </span><span class="s3">'AUTHORS*'</span><span class="s2">], </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'TODO: revise if PEP 639 is accepted. Probably ``project.license-files``?'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
            <span class="s1">data__licensefiles_is_list </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__licensefiles</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">))</span>
            <span class="s4">if </span><span class="s1">data__licensefiles_is_list</span><span class="s2">:</span>
                <span class="s1">data__licensefiles_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data__licensefiles</span><span class="s2">)</span>
                <span class="s4">for </span><span class="s1">data__licensefiles_x</span><span class="s2">, </span><span class="s1">data__licensefiles_item </span><span class="s4">in </span><span class="s1">enumerate</span><span class="s2">(</span><span class="s1">data__licensefiles</span><span class="s2">):</span>
                    <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__licensefiles_item</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.license-files[{data__licensefiles_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot; must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__licensefiles_item</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.license-files[{data__licensefiles_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
        <span class="s4">else</span><span class="s2">: </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;license-files&quot;</span><span class="s2">] = [</span><span class="s3">'LICEN[CS]E*'</span><span class="s2">, </span><span class="s3">' COPYING*'</span><span class="s2">, </span><span class="s3">' NOTICE*'</span><span class="s2">, </span><span class="s3">'AUTHORS*'</span><span class="s2">]</span>
        <span class="s4">if </span><span class="s3">&quot;dynamic&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;dynamic&quot;</span><span class="s2">)</span>
            <span class="s1">data__dynamic </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;dynamic&quot;</span><span class="s2">]</span>
            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__dynamic</span><span class="s2">, (</span><span class="s1">dict</span><span class="s2">)):</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.dynamic must be object&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__dynamic</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.dynamic&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Instructions for loading :pep:`621`-related metadata dynamically'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'version'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'A version dynamically loaded via either the ``attr:`` or ``file:``'</span><span class="s2">, </span><span class="s3">'directives. Please make sure the given file or attribute respects :pep:`440`.'</span><span class="s2">], </span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'attr:' directive&quot;</span><span class="s2">, </span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/attr-directive'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Value is read from a module attribute. Supports callables and iterables;'</span><span class="s2">, </span><span class="s3">'unsupported types are cast via ``str()``'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'attr'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'attr'</span><span class="s2">]}, {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}]}, </span><span class="s3">'classifiers'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, </span><span class="s3">'description'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, </span><span class="s3">'dependencies'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, </span><span class="s3">'entry-points'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, </span><span class="s3">'optional-dependencies'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-identifier'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'.+'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}}}, </span><span class="s3">'readme'</span><span class="s2">: {</span><span class="s3">'anyOf'</span><span class="s2">: [{</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, {</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'content-type'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}}], </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
            <span class="s1">data__dynamic_is_dict </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__dynamic</span><span class="s2">, </span><span class="s1">dict</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">data__dynamic_is_dict</span><span class="s2">:</span>
                <span class="s1">data__dynamic_keys </span><span class="s2">= </span><span class="s1">set</span><span class="s2">(</span><span class="s1">data__dynamic</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">())</span>
                <span class="s4">if </span><span class="s3">&quot;version&quot; </span><span class="s4">in </span><span class="s1">data__dynamic_keys</span><span class="s2">:</span>
                    <span class="s1">data__dynamic_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;version&quot;</span><span class="s2">)</span>
                    <span class="s1">data__dynamic__version </span><span class="s2">= </span><span class="s1">data__dynamic</span><span class="s2">[</span><span class="s3">&quot;version&quot;</span><span class="s2">]</span>
                    <span class="s1">data__dynamic__version_one_of_count5 </span><span class="s2">= </span><span class="s5">0</span>
                    <span class="s4">if </span><span class="s1">data__dynamic__version_one_of_count5 </span><span class="s2">&lt; </span><span class="s5">2</span><span class="s2">:</span>
                        <span class="s4">try</span><span class="s2">:</span>
                            <span class="s1">validate_https___setuptools_pypa_io_en_latest_references_keywords_html__definitions_attr_directive</span><span class="s2">(</span><span class="s1">data__dynamic__version</span><span class="s2">, </span><span class="s1">custom_formats</span><span class="s2">, (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.dynamic.version&quot;</span><span class="s2">)</span>
                            <span class="s1">data__dynamic__version_one_of_count5 </span><span class="s2">+= </span><span class="s5">1</span>
                        <span class="s4">except </span><span class="s1">JsonSchemaValueException</span><span class="s2">: </span><span class="s4">pass</span>
                    <span class="s4">if </span><span class="s1">data__dynamic__version_one_of_count5 </span><span class="s2">&lt; </span><span class="s5">2</span><span class="s2">:</span>
                        <span class="s4">try</span><span class="s2">:</span>
                            <span class="s1">validate_https___setuptools_pypa_io_en_latest_references_keywords_html__definitions_file_directive</span><span class="s2">(</span><span class="s1">data__dynamic__version</span><span class="s2">, </span><span class="s1">custom_formats</span><span class="s2">, (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.dynamic.version&quot;</span><span class="s2">)</span>
                            <span class="s1">data__dynamic__version_one_of_count5 </span><span class="s2">+= </span><span class="s5">1</span>
                        <span class="s4">except </span><span class="s1">JsonSchemaValueException</span><span class="s2">: </span><span class="s4">pass</span>
                    <span class="s4">if </span><span class="s1">data__dynamic__version_one_of_count5 </span><span class="s2">!= </span><span class="s5">1</span><span class="s2">:</span>
                        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.dynamic.version must be valid exactly by one definition&quot; </span><span class="s2">+ (</span><span class="s3">&quot; (&quot; </span><span class="s2">+ </span><span class="s1">str</span><span class="s2">(</span><span class="s1">data__dynamic__version_one_of_count5</span><span class="s2">) + </span><span class="s3">&quot; matches found)&quot;</span><span class="s2">), </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__dynamic__version</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.dynamic.version&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'A version dynamically loaded via either the ``attr:`` or ``file:``'</span><span class="s2">, </span><span class="s3">'directives. Please make sure the given file or attribute respects :pep:`440`.'</span><span class="s2">], </span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'attr:' directive&quot;</span><span class="s2">, </span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/attr-directive'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Value is read from a module attribute. Supports callables and iterables;'</span><span class="s2">, </span><span class="s3">'unsupported types are cast via ``str()``'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'attr'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'attr'</span><span class="s2">]}, {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'oneOf'</span><span class="s2">)</span>
                <span class="s4">if </span><span class="s3">&quot;classifiers&quot; </span><span class="s4">in </span><span class="s1">data__dynamic_keys</span><span class="s2">:</span>
                    <span class="s1">data__dynamic_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;classifiers&quot;</span><span class="s2">)</span>
                    <span class="s1">data__dynamic__classifiers </span><span class="s2">= </span><span class="s1">data__dynamic</span><span class="s2">[</span><span class="s3">&quot;classifiers&quot;</span><span class="s2">]</span>
                    <span class="s1">validate_https___setuptools_pypa_io_en_latest_references_keywords_html__definitions_file_directive</span><span class="s2">(</span><span class="s1">data__dynamic__classifiers</span><span class="s2">, </span><span class="s1">custom_formats</span><span class="s2">, (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.dynamic.classifiers&quot;</span><span class="s2">)</span>
                <span class="s4">if </span><span class="s3">&quot;description&quot; </span><span class="s4">in </span><span class="s1">data__dynamic_keys</span><span class="s2">:</span>
                    <span class="s1">data__dynamic_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;description&quot;</span><span class="s2">)</span>
                    <span class="s1">data__dynamic__description </span><span class="s2">= </span><span class="s1">data__dynamic</span><span class="s2">[</span><span class="s3">&quot;description&quot;</span><span class="s2">]</span>
                    <span class="s1">validate_https___setuptools_pypa_io_en_latest_references_keywords_html__definitions_file_directive</span><span class="s2">(</span><span class="s1">data__dynamic__description</span><span class="s2">, </span><span class="s1">custom_formats</span><span class="s2">, (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.dynamic.description&quot;</span><span class="s2">)</span>
                <span class="s4">if </span><span class="s3">&quot;dependencies&quot; </span><span class="s4">in </span><span class="s1">data__dynamic_keys</span><span class="s2">:</span>
                    <span class="s1">data__dynamic_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;dependencies&quot;</span><span class="s2">)</span>
                    <span class="s1">data__dynamic__dependencies </span><span class="s2">= </span><span class="s1">data__dynamic</span><span class="s2">[</span><span class="s3">&quot;dependencies&quot;</span><span class="s2">]</span>
                    <span class="s1">validate_https___setuptools_pypa_io_en_latest_references_keywords_html__definitions_file_directive</span><span class="s2">(</span><span class="s1">data__dynamic__dependencies</span><span class="s2">, </span><span class="s1">custom_formats</span><span class="s2">, (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.dynamic.dependencies&quot;</span><span class="s2">)</span>
                <span class="s4">if </span><span class="s3">&quot;entry-points&quot; </span><span class="s4">in </span><span class="s1">data__dynamic_keys</span><span class="s2">:</span>
                    <span class="s1">data__dynamic_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;entry-points&quot;</span><span class="s2">)</span>
                    <span class="s1">data__dynamic__entrypoints </span><span class="s2">= </span><span class="s1">data__dynamic</span><span class="s2">[</span><span class="s3">&quot;entry-points&quot;</span><span class="s2">]</span>
                    <span class="s1">validate_https___setuptools_pypa_io_en_latest_references_keywords_html__definitions_file_directive</span><span class="s2">(</span><span class="s1">data__dynamic__entrypoints</span><span class="s2">, </span><span class="s1">custom_formats</span><span class="s2">, (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.dynamic.entry-points&quot;</span><span class="s2">)</span>
                <span class="s4">if </span><span class="s3">&quot;optional-dependencies&quot; </span><span class="s4">in </span><span class="s1">data__dynamic_keys</span><span class="s2">:</span>
                    <span class="s1">data__dynamic_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;optional-dependencies&quot;</span><span class="s2">)</span>
                    <span class="s1">data__dynamic__optionaldependencies </span><span class="s2">= </span><span class="s1">data__dynamic</span><span class="s2">[</span><span class="s3">&quot;optional-dependencies&quot;</span><span class="s2">]</span>
                    <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__dynamic__optionaldependencies</span><span class="s2">, (</span><span class="s1">dict</span><span class="s2">)):</span>
                        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.dynamic.optional-dependencies must be object&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__dynamic__optionaldependencies</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.dynamic.optional-dependencies&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-identifier'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'.+'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                    <span class="s1">data__dynamic__optionaldependencies_is_dict </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__dynamic__optionaldependencies</span><span class="s2">, </span><span class="s1">dict</span><span class="s2">)</span>
                    <span class="s4">if </span><span class="s1">data__dynamic__optionaldependencies_is_dict</span><span class="s2">:</span>
                        <span class="s1">data__dynamic__optionaldependencies_keys </span><span class="s2">= </span><span class="s1">set</span><span class="s2">(</span><span class="s1">data__dynamic__optionaldependencies</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">())</span>
                        <span class="s4">for </span><span class="s1">data__dynamic__optionaldependencies_key</span><span class="s2">, </span><span class="s1">data__dynamic__optionaldependencies_val </span><span class="s4">in </span><span class="s1">data__dynamic__optionaldependencies</span><span class="s2">.</span><span class="s1">items</span><span class="s2">():</span>
                            <span class="s4">if </span><span class="s1">REGEX_PATTERNS</span><span class="s2">[</span><span class="s3">'.+'</span><span class="s2">].</span><span class="s1">search</span><span class="s2">(</span><span class="s1">data__dynamic__optionaldependencies_key</span><span class="s2">):</span>
                                <span class="s4">if </span><span class="s1">data__dynamic__optionaldependencies_key </span><span class="s4">in </span><span class="s1">data__dynamic__optionaldependencies_keys</span><span class="s2">:</span>
                                    <span class="s1">data__dynamic__optionaldependencies_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s1">data__dynamic__optionaldependencies_key</span><span class="s2">)</span>
                                <span class="s1">validate_https___setuptools_pypa_io_en_latest_references_keywords_html__definitions_file_directive</span><span class="s2">(</span><span class="s1">data__dynamic__optionaldependencies_val</span><span class="s2">, </span><span class="s1">custom_formats</span><span class="s2">, (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.dynamic.optional-dependencies.{data__dynamic__optionaldependencies_key}&quot;</span><span class="s2">)</span>
                        <span class="s4">if </span><span class="s1">data__dynamic__optionaldependencies_keys</span><span class="s2">:</span>
                            <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.dynamic.optional-dependencies must not contain &quot;</span><span class="s2">+</span><span class="s1">str</span><span class="s2">(</span><span class="s1">data__dynamic__optionaldependencies_keys</span><span class="s2">)+</span><span class="s3">&quot; properties&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__dynamic__optionaldependencies</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.dynamic.optional-dependencies&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-identifier'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'.+'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'additionalProperties'</span><span class="s2">)</span>
                        <span class="s1">data__dynamic__optionaldependencies_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data__dynamic__optionaldependencies</span><span class="s2">)</span>
                        <span class="s4">if </span><span class="s1">data__dynamic__optionaldependencies_len </span><span class="s2">!= </span><span class="s5">0</span><span class="s2">:</span>
                            <span class="s1">data__dynamic__optionaldependencies_property_names </span><span class="s2">= </span><span class="s4">True</span>
                            <span class="s4">for </span><span class="s1">data__dynamic__optionaldependencies_key </span><span class="s4">in </span><span class="s1">data__dynamic__optionaldependencies</span><span class="s2">:</span>
                                <span class="s4">try</span><span class="s2">:</span>
                                    <span class="s4">if </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__dynamic__optionaldependencies_key</span><span class="s2">, </span><span class="s1">str</span><span class="s2">):</span>
                                        <span class="s4">if not </span><span class="s1">custom_formats</span><span class="s2">[</span><span class="s3">&quot;python-identifier&quot;</span><span class="s2">](</span><span class="s1">data__dynamic__optionaldependencies_key</span><span class="s2">):</span>
                                            <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.dynamic.optional-dependencies must be python-identifier&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__dynamic__optionaldependencies_key</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.dynamic.optional-dependencies&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-identifier'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'format'</span><span class="s2">)</span>
                                <span class="s4">except </span><span class="s1">JsonSchemaValueException</span><span class="s2">:</span>
                                    <span class="s1">data__dynamic__optionaldependencies_property_names </span><span class="s2">= </span><span class="s4">False</span>
                            <span class="s4">if not </span><span class="s1">data__dynamic__optionaldependencies_property_names</span><span class="s2">:</span>
                                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.dynamic.optional-dependencies must be named by propertyName definition&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__dynamic__optionaldependencies</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.dynamic.optional-dependencies&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-identifier'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'.+'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'propertyNames'</span><span class="s2">)</span>
                <span class="s4">if </span><span class="s3">&quot;readme&quot; </span><span class="s4">in </span><span class="s1">data__dynamic_keys</span><span class="s2">:</span>
                    <span class="s1">data__dynamic_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;readme&quot;</span><span class="s2">)</span>
                    <span class="s1">data__dynamic__readme </span><span class="s2">= </span><span class="s1">data__dynamic</span><span class="s2">[</span><span class="s3">&quot;readme&quot;</span><span class="s2">]</span>
                    <span class="s1">data__dynamic__readme_any_of_count6 </span><span class="s2">= </span><span class="s5">0</span>
                    <span class="s4">if not </span><span class="s1">data__dynamic__readme_any_of_count6</span><span class="s2">:</span>
                        <span class="s4">try</span><span class="s2">:</span>
                            <span class="s1">validate_https___setuptools_pypa_io_en_latest_references_keywords_html__definitions_file_directive</span><span class="s2">(</span><span class="s1">data__dynamic__readme</span><span class="s2">, </span><span class="s1">custom_formats</span><span class="s2">, (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.dynamic.readme&quot;</span><span class="s2">)</span>
                            <span class="s1">data__dynamic__readme_any_of_count6 </span><span class="s2">+= </span><span class="s5">1</span>
                        <span class="s4">except </span><span class="s1">JsonSchemaValueException</span><span class="s2">: </span><span class="s4">pass</span>
                    <span class="s4">if not </span><span class="s1">data__dynamic__readme_any_of_count6</span><span class="s2">:</span>
                        <span class="s4">try</span><span class="s2">:</span>
                            <span class="s1">data__dynamic__readme_is_dict </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__dynamic__readme</span><span class="s2">, </span><span class="s1">dict</span><span class="s2">)</span>
                            <span class="s4">if </span><span class="s1">data__dynamic__readme_is_dict</span><span class="s2">:</span>
                                <span class="s1">data__dynamic__readme_keys </span><span class="s2">= </span><span class="s1">set</span><span class="s2">(</span><span class="s1">data__dynamic__readme</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">())</span>
                                <span class="s4">if </span><span class="s3">&quot;content-type&quot; </span><span class="s4">in </span><span class="s1">data__dynamic__readme_keys</span><span class="s2">:</span>
                                    <span class="s1">data__dynamic__readme_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;content-type&quot;</span><span class="s2">)</span>
                                    <span class="s1">data__dynamic__readme__contenttype </span><span class="s2">= </span><span class="s1">data__dynamic__readme</span><span class="s2">[</span><span class="s3">&quot;content-type&quot;</span><span class="s2">]</span>
                                    <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__dynamic__readme__contenttype</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                                        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.dynamic.readme.content-type must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__dynamic__readme__contenttype</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.dynamic.readme.content-type&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                            <span class="s1">data__dynamic__readme_any_of_count6 </span><span class="s2">+= </span><span class="s5">1</span>
                        <span class="s4">except </span><span class="s1">JsonSchemaValueException</span><span class="s2">: </span><span class="s4">pass</span>
                    <span class="s4">if not </span><span class="s1">data__dynamic__readme_any_of_count6</span><span class="s2">:</span>
                        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.dynamic.readme cannot be validated by any definition&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__dynamic__readme</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.dynamic.readme&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'anyOf'</span><span class="s2">: [{</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, {</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'content-type'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}}], </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'anyOf'</span><span class="s2">)</span>
                    <span class="s1">data__dynamic__readme_is_dict </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__dynamic__readme</span><span class="s2">, </span><span class="s1">dict</span><span class="s2">)</span>
                    <span class="s4">if </span><span class="s1">data__dynamic__readme_is_dict</span><span class="s2">:</span>
                        <span class="s1">data__dynamic__readme_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data__dynamic__readme</span><span class="s2">)</span>
                        <span class="s4">if not </span><span class="s1">all</span><span class="s2">(</span><span class="s1">prop </span><span class="s4">in </span><span class="s1">data__dynamic__readme </span><span class="s4">for </span><span class="s1">prop </span><span class="s4">in </span><span class="s2">[</span><span class="s3">'file'</span><span class="s2">]):</span>
                            <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.dynamic.readme must contain ['file'] properties&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__dynamic__readme</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.dynamic.readme&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'anyOf'</span><span class="s2">: [{</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, {</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'content-type'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}}], </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'required'</span><span class="s2">)</span>
                <span class="s4">if </span><span class="s1">data__dynamic_keys</span><span class="s2">:</span>
                    <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.dynamic must not contain &quot;</span><span class="s2">+</span><span class="s1">str</span><span class="s2">(</span><span class="s1">data__dynamic_keys</span><span class="s2">)+</span><span class="s3">&quot; properties&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__dynamic</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.dynamic&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Instructions for loading :pep:`621`-related metadata dynamically'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'version'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'A version dynamically loaded via either the ``attr:`` or ``file:``'</span><span class="s2">, </span><span class="s3">'directives. Please make sure the given file or attribute respects :pep:`440`.'</span><span class="s2">], </span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'attr:' directive&quot;</span><span class="s2">, </span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/attr-directive'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Value is read from a module attribute. Supports callables and iterables;'</span><span class="s2">, </span><span class="s3">'unsupported types are cast via ``str()``'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'attr'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'attr'</span><span class="s2">]}, {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}]}, </span><span class="s3">'classifiers'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, </span><span class="s3">'description'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, </span><span class="s3">'dependencies'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, </span><span class="s3">'entry-points'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, </span><span class="s3">'optional-dependencies'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-identifier'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'.+'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}}}, </span><span class="s3">'readme'</span><span class="s2">: {</span><span class="s3">'anyOf'</span><span class="s2">: [{</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, {</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'content-type'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}}], </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'additionalProperties'</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot; must not contain &quot;</span><span class="s2">+</span><span class="s1">str</span><span class="s2">(</span><span class="s1">data_keys</span><span class="s2">)+</span><span class="s3">&quot; properties&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'$schema'</span><span class="s2">: </span><span class="s3">'http://json-schema.org/draft-07/schema'</span><span class="s2">, </span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'https://setuptools.pypa.io/en/latest/references/keywords.html'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'``tool.setuptools`` table'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Please notice for the time being the ``setuptools`` project does not specify'</span><span class="s2">, </span><span class="s3">'a way of configuring builds via ``pyproject.toml``.'</span><span class="s2">, </span><span class="s3">'Therefore this schema should be taken just as a *&quot;thought experiment&quot;* on how'</span><span class="s2">, </span><span class="s3">'this *might be done*, by following the principles established in'</span><span class="s2">, </span><span class="s3">'`ini2toml &lt;https://ini2toml.readthedocs.io/en/latest/setuptools_pep621.html&gt;`_.'</span><span class="s2">, </span><span class="s3">'It considers only ``setuptools`` `parameters'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/declarative_config.html&gt;`_'</span><span class="s2">, </span><span class="s3">'that can currently be configured via ``setup.cfg`` and are not covered by :pep:`621`'</span><span class="s2">, </span><span class="s3">'but intentionally excludes ``dependency_links`` and ``setup_requires``.'</span><span class="s2">, </span><span class="s3">'NOTE: ``scripts`` was renamed to ``script-files`` to avoid confusion with'</span><span class="s2">, </span><span class="s3">'entry-point based scripts (defined in :pep:`621`).'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'platforms'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'provides'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Package and virtual package names contained within this package'</span><span class="s2">, </span><span class="s3">'**(not supported by pip)**'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-identifier'</span><span class="s2">}}, </span><span class="s3">'obsoletes'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Packages which this package renders obsolete'</span><span class="s2">, </span><span class="s3">'**(not supported by pip)**'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-identifier'</span><span class="s2">}}, </span><span class="s3">'zip-safe'</span><span class="s2">: {</span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Whether the project can be safely installed and run from a zip file.'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'boolean'</span><span class="s2">}, </span><span class="s3">'script-files'</span><span class="s2">: {</span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Legacy way of defining scripts (entry-points are preferred).'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'TODO: is this field deprecated/should be removed?'</span><span class="s2">}, </span><span class="s3">'eager-resources'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Resources that should be extracted together, if any of them is needed,'</span><span class="s2">, </span><span class="s3">'or if any C extensions included in the project are imported.'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'packages'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Packages that should be included in the distribution.'</span><span class="s2">, </span><span class="s3">'It can be given either as a list of package identifiers'</span><span class="s2">, </span><span class="s3">'or as a ``dict``-like structure with a single key ``find``'</span><span class="s2">, </span><span class="s3">'which corresponds to a dynamic call to'</span><span class="s2">, </span><span class="s3">'``setuptools.config.expand.find_packages`` function.'</span><span class="s2">, </span><span class="s3">'The ``find`` key is associated with a nested ``dict``-like structure that can'</span><span class="s2">, </span><span class="s3">'contain ``where``, ``include``, ``exclude`` and ``namespaces`` keys,'</span><span class="s2">, </span><span class="s3">'mimicking the keyword arguments of the associated function.'</span><span class="s2">], </span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Array of Python package identifiers'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}}, {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/find-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'find:' directive&quot;</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'find'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Dynamic `package discovery'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/package_discovery.html&gt;`_.'</span><span class="s2">], </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'where'</span><span class="s2">: {</span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Directories to be searched for packages (Unix-style relative path)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'exclude'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Exclude packages that match the values listed in this field.'</span><span class="s2">, </span><span class="s3">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'include'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Restrict the found packages to just the ones listed in this field.'</span><span class="s2">, </span><span class="s3">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'namespaces'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'boolean'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'When ``True``, directories without a ``__init__.py`` file will also'</span><span class="s2">, </span><span class="s3">'be scanned for :pep:`420`-style implicit namespaces'</span><span class="s2">]}}}}}]}, </span><span class="s3">'package-dir'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">':class:`dict`-like structure mapping from package names to directories where their'</span><span class="s2">, </span><span class="s3">'code can be found.'</span><span class="s2">, </span><span class="s3">'The empty string (as key) means that all packages are contained inside'</span><span class="s2">, </span><span class="s3">'the given directory will be included in the distribution.'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, {</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">''</span><span class="s2">}]}, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.*$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}}, </span><span class="s3">'package-data'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Mapping from package names to lists of glob patterns.'</span><span class="s2">, </span><span class="s3">'Usually this option is not needed when using ``include-package-data = true``'</span><span class="s2">, </span><span class="s3">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, {</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">'*'</span><span class="s2">}]}, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.*$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}}}, </span><span class="s3">'include-package-data'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Automatically include any data files inside the package directories'</span><span class="s2">, </span><span class="s3">'that are specified by ``MANIFEST.in``'</span><span class="s2">, </span><span class="s3">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'boolean'</span><span class="s2">}, </span><span class="s3">'exclude-package-data'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Mapping from package names to lists of glob patterns that should be excluded'</span><span class="s2">, </span><span class="s3">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, {</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">'*'</span><span class="s2">}]}, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.*$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}}}, </span><span class="s3">'namespace-packages'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://setuptools.pypa.io/en/latest/userguide/package_discovery.html'</span><span class="s2">}, </span><span class="s3">'py-modules'</span><span class="s2">: {</span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Modules that setuptools will manipulate'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-module-name'</span><span class="s2">}, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'TODO: clarify the relationship with ``packages``'</span><span class="s2">}, </span><span class="s3">'data-files'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'**DEPRECATED**: dict-like structure where each key represents a directory and'</span><span class="s2">, </span><span class="s3">'the value is a list of glob patterns that should be installed in them.'</span><span class="s2">, </span><span class="s3">&quot;Please notice this don't work with wheels. See `data files support&quot;</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.*$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}}}, </span><span class="s3">'cmdclass'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Mapping of distutils-style command names to ``setuptools.Command`` subclasses'</span><span class="s2">, </span><span class="s3">'which in turn should be represented by strings with a qualified class name'</span><span class="s2">, </span><span class="s3">'(i.e., &quot;dotted&quot; form with module), e.g.::</span><span class="s4">\n\n</span><span class="s3">'</span><span class="s2">, </span><span class="s3">'    cmdclass = {mycmd = &quot;pkg.subpkg.module.CommandClass&quot;}</span><span class="s4">\n\n</span><span class="s3">'</span><span class="s2">, </span><span class="s3">'The command class should be a directly defined at the top-level of the'</span><span class="s2">, </span><span class="s3">'containing module (no class nesting).'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.*$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-qualified-identifier'</span><span class="s2">}}}, </span><span class="s3">'license-files'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'PROVISIONAL: List of glob patterns for all license files being distributed.'</span><span class="s2">, </span><span class="s3">'(might become standard with PEP 639).'</span><span class="s2">], </span><span class="s3">'default'</span><span class="s2">: [</span><span class="s3">'LICEN[CS]E*'</span><span class="s2">, </span><span class="s3">' COPYING*'</span><span class="s2">, </span><span class="s3">' NOTICE*'</span><span class="s2">, </span><span class="s3">'AUTHORS*'</span><span class="s2">], </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'TODO: revise if PEP 639 is accepted. Probably ``project.license-files``?'</span><span class="s2">}, </span><span class="s3">'dynamic'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Instructions for loading :pep:`621`-related metadata dynamically'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'version'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'A version dynamically loaded via either the ``attr:`` or ``file:``'</span><span class="s2">, </span><span class="s3">'directives. Please make sure the given file or attribute respects :pep:`440`.'</span><span class="s2">], </span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'attr:' directive&quot;</span><span class="s2">, </span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/attr-directive'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Value is read from a module attribute. Supports callables and iterables;'</span><span class="s2">, </span><span class="s3">'unsupported types are cast via ``str()``'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'attr'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'attr'</span><span class="s2">]}, {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}]}, </span><span class="s3">'classifiers'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, </span><span class="s3">'description'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, </span><span class="s3">'dependencies'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, </span><span class="s3">'entry-points'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, </span><span class="s3">'optional-dependencies'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-identifier'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'.+'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}}}, </span><span class="s3">'readme'</span><span class="s2">: {</span><span class="s3">'anyOf'</span><span class="s2">: [{</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, {</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'content-type'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}}], </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}}}}, </span><span class="s3">'definitions'</span><span class="s2">: {</span><span class="s3">'file-directive'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, </span><span class="s3">'attr-directive'</span><span class="s2">: {</span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'attr:' directive&quot;</span><span class="s2">, </span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/attr-directive'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Value is read from a module attribute. Supports callables and iterables;'</span><span class="s2">, </span><span class="s3">'unsupported types are cast via ``str()``'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'attr'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'attr'</span><span class="s2">]}, </span><span class="s3">'find-directive'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/find-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'find:' directive&quot;</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'find'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Dynamic `package discovery'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/package_discovery.html&gt;`_.'</span><span class="s2">], </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'where'</span><span class="s2">: {</span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Directories to be searched for packages (Unix-style relative path)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'exclude'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Exclude packages that match the values listed in this field.'</span><span class="s2">, </span><span class="s3">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'include'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Restrict the found packages to just the ones listed in this field.'</span><span class="s2">, </span><span class="s3">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'namespaces'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'boolean'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'When ``True``, directories without a ``__init__.py`` file will also'</span><span class="s2">, </span><span class="s3">'be scanned for :pep:`420`-style implicit namespaces'</span><span class="s2">]}}}}}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'additionalProperties'</span><span class="s2">)</span>
    <span class="s4">return </span><span class="s1">data</span>

<span class="s4">def </span><span class="s1">validate_https___setuptools_pypa_io_en_latest_references_keywords_html__definitions_file_directive</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, </span><span class="s1">custom_formats</span><span class="s2">={}, </span><span class="s1">name_prefix</span><span class="s2">=</span><span class="s4">None</span><span class="s2">):</span>
    <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, (</span><span class="s1">dict</span><span class="s2">)):</span>
        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot; must be object&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
    <span class="s1">data_is_dict </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, </span><span class="s1">dict</span><span class="s2">)</span>
    <span class="s4">if </span><span class="s1">data_is_dict</span><span class="s2">:</span>
        <span class="s1">data_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data</span><span class="s2">)</span>
        <span class="s4">if not </span><span class="s1">all</span><span class="s2">(</span><span class="s1">prop </span><span class="s4">in </span><span class="s1">data </span><span class="s4">for </span><span class="s1">prop </span><span class="s4">in </span><span class="s2">[</span><span class="s3">'file'</span><span class="s2">]):</span>
            <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot; must contain ['file'] properties&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'required'</span><span class="s2">)</span>
        <span class="s1">data_keys </span><span class="s2">= </span><span class="s1">set</span><span class="s2">(</span><span class="s1">data</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">())</span>
        <span class="s4">if </span><span class="s3">&quot;file&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;file&quot;</span><span class="s2">)</span>
            <span class="s1">data__file </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;file&quot;</span><span class="s2">]</span>
            <span class="s1">data__file_one_of_count7 </span><span class="s2">= </span><span class="s5">0</span>
            <span class="s4">if </span><span class="s1">data__file_one_of_count7 </span><span class="s2">&lt; </span><span class="s5">2</span><span class="s2">:</span>
                <span class="s4">try</span><span class="s2">:</span>
                    <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__file</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.file must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__file</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.file&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                    <span class="s1">data__file_one_of_count7 </span><span class="s2">+= </span><span class="s5">1</span>
                <span class="s4">except </span><span class="s1">JsonSchemaValueException</span><span class="s2">: </span><span class="s4">pass</span>
            <span class="s4">if </span><span class="s1">data__file_one_of_count7 </span><span class="s2">&lt; </span><span class="s5">2</span><span class="s2">:</span>
                <span class="s4">try</span><span class="s2">:</span>
                    <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__file</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">)):</span>
                        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.file must be array&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__file</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.file&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                    <span class="s1">data__file_is_list </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__file</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">))</span>
                    <span class="s4">if </span><span class="s1">data__file_is_list</span><span class="s2">:</span>
                        <span class="s1">data__file_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data__file</span><span class="s2">)</span>
                        <span class="s4">for </span><span class="s1">data__file_x</span><span class="s2">, </span><span class="s1">data__file_item </span><span class="s4">in </span><span class="s1">enumerate</span><span class="s2">(</span><span class="s1">data__file</span><span class="s2">):</span>
                            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__file_item</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.file[{data__file_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot; must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__file_item</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.file[{data__file_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                    <span class="s1">data__file_one_of_count7 </span><span class="s2">+= </span><span class="s5">1</span>
                <span class="s4">except </span><span class="s1">JsonSchemaValueException</span><span class="s2">: </span><span class="s4">pass</span>
            <span class="s4">if </span><span class="s1">data__file_one_of_count7 </span><span class="s2">!= </span><span class="s5">1</span><span class="s2">:</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.file must be valid exactly by one definition&quot; </span><span class="s2">+ (</span><span class="s3">&quot; (&quot; </span><span class="s2">+ </span><span class="s1">str</span><span class="s2">(</span><span class="s1">data__file_one_of_count7</span><span class="s2">) + </span><span class="s3">&quot; matches found)&quot;</span><span class="s2">), </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__file</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.file&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'oneOf'</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot; must not contain &quot;</span><span class="s2">+</span><span class="s1">str</span><span class="s2">(</span><span class="s1">data_keys</span><span class="s2">)+</span><span class="s3">&quot; properties&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/file-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'file:' directive&quot;</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Value is read from a file (or list of files and then concatenated)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'additionalProperties'</span><span class="s2">)</span>
    <span class="s4">return </span><span class="s1">data</span>

<span class="s4">def </span><span class="s1">validate_https___setuptools_pypa_io_en_latest_references_keywords_html__definitions_attr_directive</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, </span><span class="s1">custom_formats</span><span class="s2">={}, </span><span class="s1">name_prefix</span><span class="s2">=</span><span class="s4">None</span><span class="s2">):</span>
    <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, (</span><span class="s1">dict</span><span class="s2">)):</span>
        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot; must be object&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'attr:' directive&quot;</span><span class="s2">, </span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/attr-directive'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Value is read from a module attribute. Supports callables and iterables;'</span><span class="s2">, </span><span class="s3">'unsupported types are cast via ``str()``'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'attr'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'attr'</span><span class="s2">]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
    <span class="s1">data_is_dict </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, </span><span class="s1">dict</span><span class="s2">)</span>
    <span class="s4">if </span><span class="s1">data_is_dict</span><span class="s2">:</span>
        <span class="s1">data_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data</span><span class="s2">)</span>
        <span class="s4">if not </span><span class="s1">all</span><span class="s2">(</span><span class="s1">prop </span><span class="s4">in </span><span class="s1">data </span><span class="s4">for </span><span class="s1">prop </span><span class="s4">in </span><span class="s2">[</span><span class="s3">'attr'</span><span class="s2">]):</span>
            <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot; must contain ['attr'] properties&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'attr:' directive&quot;</span><span class="s2">, </span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/attr-directive'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Value is read from a module attribute. Supports callables and iterables;'</span><span class="s2">, </span><span class="s3">'unsupported types are cast via ``str()``'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'attr'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'attr'</span><span class="s2">]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'required'</span><span class="s2">)</span>
        <span class="s1">data_keys </span><span class="s2">= </span><span class="s1">set</span><span class="s2">(</span><span class="s1">data</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">())</span>
        <span class="s4">if </span><span class="s3">&quot;attr&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;attr&quot;</span><span class="s2">)</span>
            <span class="s1">data__attr </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;attr&quot;</span><span class="s2">]</span>
            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__attr</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.attr must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__attr</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.attr&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot; must not contain &quot;</span><span class="s2">+</span><span class="s1">str</span><span class="s2">(</span><span class="s1">data_keys</span><span class="s2">)+</span><span class="s3">&quot; properties&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'attr:' directive&quot;</span><span class="s2">, </span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/attr-directive'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Value is read from a module attribute. Supports callables and iterables;'</span><span class="s2">, </span><span class="s3">'unsupported types are cast via ``str()``'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'attr'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'attr'</span><span class="s2">]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'additionalProperties'</span><span class="s2">)</span>
    <span class="s4">return </span><span class="s1">data</span>

<span class="s4">def </span><span class="s1">validate_https___setuptools_pypa_io_en_latest_references_keywords_html__definitions_find_directive</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, </span><span class="s1">custom_formats</span><span class="s2">={}, </span><span class="s1">name_prefix</span><span class="s2">=</span><span class="s4">None</span><span class="s2">):</span>
    <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, (</span><span class="s1">dict</span><span class="s2">)):</span>
        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot; must be object&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/find-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'find:' directive&quot;</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'find'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Dynamic `package discovery'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/package_discovery.html&gt;`_.'</span><span class="s2">], </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'where'</span><span class="s2">: {</span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Directories to be searched for packages (Unix-style relative path)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'exclude'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Exclude packages that match the values listed in this field.'</span><span class="s2">, </span><span class="s3">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'include'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Restrict the found packages to just the ones listed in this field.'</span><span class="s2">, </span><span class="s3">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'namespaces'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'boolean'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'When ``True``, directories without a ``__init__.py`` file will also'</span><span class="s2">, </span><span class="s3">'be scanned for :pep:`420`-style implicit namespaces'</span><span class="s2">]}}}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
    <span class="s1">data_is_dict </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, </span><span class="s1">dict</span><span class="s2">)</span>
    <span class="s4">if </span><span class="s1">data_is_dict</span><span class="s2">:</span>
        <span class="s1">data_keys </span><span class="s2">= </span><span class="s1">set</span><span class="s2">(</span><span class="s1">data</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">())</span>
        <span class="s4">if </span><span class="s3">&quot;find&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;find&quot;</span><span class="s2">)</span>
            <span class="s1">data__find </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;find&quot;</span><span class="s2">]</span>
            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__find</span><span class="s2">, (</span><span class="s1">dict</span><span class="s2">)):</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.find must be object&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__find</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.find&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Dynamic `package discovery'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/package_discovery.html&gt;`_.'</span><span class="s2">], </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'where'</span><span class="s2">: {</span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Directories to be searched for packages (Unix-style relative path)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'exclude'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Exclude packages that match the values listed in this field.'</span><span class="s2">, </span><span class="s3">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'include'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Restrict the found packages to just the ones listed in this field.'</span><span class="s2">, </span><span class="s3">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'namespaces'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'boolean'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'When ``True``, directories without a ``__init__.py`` file will also'</span><span class="s2">, </span><span class="s3">'be scanned for :pep:`420`-style implicit namespaces'</span><span class="s2">]}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
            <span class="s1">data__find_is_dict </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__find</span><span class="s2">, </span><span class="s1">dict</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">data__find_is_dict</span><span class="s2">:</span>
                <span class="s1">data__find_keys </span><span class="s2">= </span><span class="s1">set</span><span class="s2">(</span><span class="s1">data__find</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">())</span>
                <span class="s4">if </span><span class="s3">&quot;where&quot; </span><span class="s4">in </span><span class="s1">data__find_keys</span><span class="s2">:</span>
                    <span class="s1">data__find_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;where&quot;</span><span class="s2">)</span>
                    <span class="s1">data__find__where </span><span class="s2">= </span><span class="s1">data__find</span><span class="s2">[</span><span class="s3">&quot;where&quot;</span><span class="s2">]</span>
                    <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__find__where</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">)):</span>
                        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.find.where must be array&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__find__where</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.find.where&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Directories to be searched for packages (Unix-style relative path)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                    <span class="s1">data__find__where_is_list </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__find__where</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">))</span>
                    <span class="s4">if </span><span class="s1">data__find__where_is_list</span><span class="s2">:</span>
                        <span class="s1">data__find__where_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data__find__where</span><span class="s2">)</span>
                        <span class="s4">for </span><span class="s1">data__find__where_x</span><span class="s2">, </span><span class="s1">data__find__where_item </span><span class="s4">in </span><span class="s1">enumerate</span><span class="s2">(</span><span class="s1">data__find__where</span><span class="s2">):</span>
                            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__find__where_item</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.find.where[{data__find__where_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot; must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__find__where_item</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.find.where[{data__find__where_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                <span class="s4">if </span><span class="s3">&quot;exclude&quot; </span><span class="s4">in </span><span class="s1">data__find_keys</span><span class="s2">:</span>
                    <span class="s1">data__find_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;exclude&quot;</span><span class="s2">)</span>
                    <span class="s1">data__find__exclude </span><span class="s2">= </span><span class="s1">data__find</span><span class="s2">[</span><span class="s3">&quot;exclude&quot;</span><span class="s2">]</span>
                    <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__find__exclude</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">)):</span>
                        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.find.exclude must be array&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__find__exclude</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.find.exclude&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Exclude packages that match the values listed in this field.'</span><span class="s2">, </span><span class="s3">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                    <span class="s1">data__find__exclude_is_list </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__find__exclude</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">))</span>
                    <span class="s4">if </span><span class="s1">data__find__exclude_is_list</span><span class="s2">:</span>
                        <span class="s1">data__find__exclude_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data__find__exclude</span><span class="s2">)</span>
                        <span class="s4">for </span><span class="s1">data__find__exclude_x</span><span class="s2">, </span><span class="s1">data__find__exclude_item </span><span class="s4">in </span><span class="s1">enumerate</span><span class="s2">(</span><span class="s1">data__find__exclude</span><span class="s2">):</span>
                            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__find__exclude_item</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.find.exclude[{data__find__exclude_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot; must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__find__exclude_item</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.find.exclude[{data__find__exclude_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                <span class="s4">if </span><span class="s3">&quot;include&quot; </span><span class="s4">in </span><span class="s1">data__find_keys</span><span class="s2">:</span>
                    <span class="s1">data__find_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;include&quot;</span><span class="s2">)</span>
                    <span class="s1">data__find__include </span><span class="s2">= </span><span class="s1">data__find</span><span class="s2">[</span><span class="s3">&quot;include&quot;</span><span class="s2">]</span>
                    <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__find__include</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">)):</span>
                        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.find.include must be array&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__find__include</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.find.include&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Restrict the found packages to just the ones listed in this field.'</span><span class="s2">, </span><span class="s3">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                    <span class="s1">data__find__include_is_list </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__find__include</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">))</span>
                    <span class="s4">if </span><span class="s1">data__find__include_is_list</span><span class="s2">:</span>
                        <span class="s1">data__find__include_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data__find__include</span><span class="s2">)</span>
                        <span class="s4">for </span><span class="s1">data__find__include_x</span><span class="s2">, </span><span class="s1">data__find__include_item </span><span class="s4">in </span><span class="s1">enumerate</span><span class="s2">(</span><span class="s1">data__find__include</span><span class="s2">):</span>
                            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__find__include_item</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.find.include[{data__find__include_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot; must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__find__include_item</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.find.include[{data__find__include_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                <span class="s4">if </span><span class="s3">&quot;namespaces&quot; </span><span class="s4">in </span><span class="s1">data__find_keys</span><span class="s2">:</span>
                    <span class="s1">data__find_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;namespaces&quot;</span><span class="s2">)</span>
                    <span class="s1">data__find__namespaces </span><span class="s2">= </span><span class="s1">data__find</span><span class="s2">[</span><span class="s3">&quot;namespaces&quot;</span><span class="s2">]</span>
                    <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__find__namespaces</span><span class="s2">, (</span><span class="s1">bool</span><span class="s2">)):</span>
                        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.find.namespaces must be boolean&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__find__namespaces</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.find.namespaces&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'boolean'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'When ``True``, directories without a ``__init__.py`` file will also'</span><span class="s2">, </span><span class="s3">'be scanned for :pep:`420`-style implicit namespaces'</span><span class="s2">]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                <span class="s4">if </span><span class="s1">data__find_keys</span><span class="s2">:</span>
                    <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.find must not contain &quot;</span><span class="s2">+</span><span class="s1">str</span><span class="s2">(</span><span class="s1">data__find_keys</span><span class="s2">)+</span><span class="s3">&quot; properties&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__find</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.find&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Dynamic `package discovery'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/package_discovery.html&gt;`_.'</span><span class="s2">], </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'where'</span><span class="s2">: {</span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Directories to be searched for packages (Unix-style relative path)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'exclude'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Exclude packages that match the values listed in this field.'</span><span class="s2">, </span><span class="s3">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'include'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Restrict the found packages to just the ones listed in this field.'</span><span class="s2">, </span><span class="s3">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'namespaces'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'boolean'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'When ``True``, directories without a ``__init__.py`` file will also'</span><span class="s2">, </span><span class="s3">'be scanned for :pep:`420`-style implicit namespaces'</span><span class="s2">]}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'additionalProperties'</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot; must not contain &quot;</span><span class="s2">+</span><span class="s1">str</span><span class="s2">(</span><span class="s1">data_keys</span><span class="s2">)+</span><span class="s3">&quot; properties&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/find-directive'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">&quot;'find:' directive&quot;</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'find'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Dynamic `package discovery'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/package_discovery.html&gt;`_.'</span><span class="s2">], </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'where'</span><span class="s2">: {</span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Directories to be searched for packages (Unix-style relative path)'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'exclude'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Exclude packages that match the values listed in this field.'</span><span class="s2">, </span><span class="s3">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'include'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Restrict the found packages to just the ones listed in this field.'</span><span class="s2">, </span><span class="s3">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}}, </span><span class="s3">'namespaces'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'boolean'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'When ``True``, directories without a ``__init__.py`` file will also'</span><span class="s2">, </span><span class="s3">'be scanned for :pep:`420`-style implicit namespaces'</span><span class="s2">]}}}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'additionalProperties'</span><span class="s2">)</span>
    <span class="s4">return </span><span class="s1">data</span>

<span class="s4">def </span><span class="s1">validate_https___docs_python_org_3_install</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, </span><span class="s1">custom_formats</span><span class="s2">={}, </span><span class="s1">name_prefix</span><span class="s2">=</span><span class="s4">None</span><span class="s2">):</span>
    <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, (</span><span class="s1">dict</span><span class="s2">)):</span>
        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot; must be object&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'$schema'</span><span class="s2">: </span><span class="s3">'http://json-schema.org/draft-07/schema'</span><span class="s2">, </span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'https://docs.python.org/3/install/'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'``tool.distutils`` table'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Originally, ``distutils`` allowed developers to configure arguments for'</span><span class="s2">, </span><span class="s3">'``setup.py`` scripts via `distutils configuration files'</span><span class="s2">, </span><span class="s3">'&lt;https://docs.python.org/3/install/#distutils-configuration-files&gt;`_.'</span><span class="s2">, </span><span class="s3">'``tool.distutils`` subtables could be used with the same purpose'</span><span class="s2">, </span><span class="s3">'(NOT CURRENTLY IMPLEMENTED).'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'global'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Global options applied to all ``distutils`` commands'</span><span class="s2">}}, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'.+'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">}}, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'TODO: Is there a practical way of making this schema more specific?'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
    <span class="s1">data_is_dict </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, </span><span class="s1">dict</span><span class="s2">)</span>
    <span class="s4">if </span><span class="s1">data_is_dict</span><span class="s2">:</span>
        <span class="s1">data_keys </span><span class="s2">= </span><span class="s1">set</span><span class="s2">(</span><span class="s1">data</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">())</span>
        <span class="s4">if </span><span class="s3">&quot;global&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;global&quot;</span><span class="s2">)</span>
            <span class="s1">data__global </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;global&quot;</span><span class="s2">]</span>
            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__global</span><span class="s2">, (</span><span class="s1">dict</span><span class="s2">)):</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.global must be object&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__global</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.global&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Global options applied to all ``distutils`` commands'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
        <span class="s4">for </span><span class="s1">data_key</span><span class="s2">, </span><span class="s1">data_val </span><span class="s4">in </span><span class="s1">data</span><span class="s2">.</span><span class="s1">items</span><span class="s2">():</span>
            <span class="s4">if </span><span class="s1">REGEX_PATTERNS</span><span class="s2">[</span><span class="s3">'.+'</span><span class="s2">].</span><span class="s1">search</span><span class="s2">(</span><span class="s1">data_key</span><span class="s2">):</span>
                <span class="s4">if </span><span class="s1">data_key </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
                    <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s1">data_key</span><span class="s2">)</span>
                <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data_val</span><span class="s2">, (</span><span class="s1">dict</span><span class="s2">)):</span>
                    <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.{data_key}&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot; must be object&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data_val</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.{data_key}&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
    <span class="s4">return </span><span class="s1">data</span>

<span class="s4">def </span><span class="s1">validate_https___packaging_python_org_en_latest_specifications_declaring_project_metadata</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, </span><span class="s1">custom_formats</span><span class="s2">={}, </span><span class="s1">name_prefix</span><span class="s2">=</span><span class="s4">None</span><span class="s2">):</span>
    <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, (</span><span class="s1">dict</span><span class="s2">)):</span>
        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot; must be object&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'$schema'</span><span class="s2">: </span><span class="s3">'http://json-schema.org/draft-07/schema'</span><span class="s2">, </span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'https://packaging.python.org/en/latest/specifications/declaring-project-metadata/'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Package metadata stored in the ``project`` table'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Data structure for the **project** table inside ``pyproject.toml``'</span><span class="s2">, </span><span class="s3">'(as initially defined in :pep:`621`)'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'name'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'The name (primary identifier) of the project. MUST be statically defined.'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-identifier'</span><span class="s2">}, </span><span class="s3">'version'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'The version of the project as supported by :pep:`440`.'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep440'</span><span class="s2">}, </span><span class="s3">'description'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'The `summary description of the project'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/core-metadata/#summary&gt;`_'</span><span class="s2">]}, </span><span class="s3">'readme'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'`Full/detailed description of the project in the form of a README'</span><span class="s2">, </span><span class="s3">'&lt;https://www.python.org/dev/peps/pep-0621/#readme&gt;`_'</span><span class="s2">, </span><span class="s3">&quot;with meaning similar to the one defined in `core metadata's Description&quot;</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/core-metadata/#description&gt;`_'</span><span class="s2">], </span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Relative path to a text file (UTF-8) containing the full description'</span><span class="s2">, </span><span class="s3">'of the project. If the file path ends in case-insensitive ``.md`` or'</span><span class="s2">, </span><span class="s3">'``.rst`` suffixes, then the content-type is respectively'</span><span class="s2">, </span><span class="s3">'``text/markdown`` or ``text/x-rst``'</span><span class="s2">]}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'allOf'</span><span class="s2">: [{</span><span class="s3">'anyOf'</span><span class="s2">: [{</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Relative path to a text file containing the full description'</span><span class="s2">, </span><span class="s3">'of the project.'</span><span class="s2">]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, {</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'text'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Full text describing the project.'</span><span class="s2">}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'text'</span><span class="s2">]}]}, {</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'content-type'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Content-type (:rfc:`1341`) of the full description'</span><span class="s2">, </span><span class="s3">'(e.g. ``text/markdown``). The ``charset`` parameter is assumed'</span><span class="s2">, </span><span class="s3">'UTF-8 when not present.'</span><span class="s2">], </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'TODO: add regex pattern or format?'</span><span class="s2">}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'content-type'</span><span class="s2">]}]}]}, </span><span class="s3">'requires-python'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-versionspec'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'`The Python version requirements of the project'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/core-metadata/#requires-python&gt;`_.'</span><span class="s2">]}, </span><span class="s3">'license'</span><span class="s2">: {</span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'`Project license &lt;https://www.python.org/dev/peps/pep-0621/#license&gt;`_.'</span><span class="s2">, </span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Relative path to the file (UTF-8) which contains the license for the'</span><span class="s2">, </span><span class="s3">'project.'</span><span class="s2">]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, {</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'text'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'The license of the project whose meaning is that of the'</span><span class="s2">, </span><span class="s3">'`License field from the core metadata'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/core-metadata/#license&gt;`_.'</span><span class="s2">]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'text'</span><span class="s2">]}]}, </span><span class="s3">'authors'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/author'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Author or Maintainer'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://www.python.org/dev/peps/pep-0621/#authors-maintainers'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'name'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'MUST be a valid email name, i.e. whatever can be put as a name, before an'</span><span class="s2">, </span><span class="s3">'email, in :rfc:`822`.'</span><span class="s2">]}, </span><span class="s3">'email'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'idn-email'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'MUST be a valid email address'</span><span class="s2">}}}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">&quot;The people or organizations considered to be the 'authors' of the project.&quot;</span><span class="s2">, </span><span class="s3">'The exact meaning is open to interpretation (e.g. original or primary authors,'</span><span class="s2">, </span><span class="s3">'current maintainers, or owners of the package).'</span><span class="s2">]}, </span><span class="s3">'maintainers'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/author'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Author or Maintainer'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://www.python.org/dev/peps/pep-0621/#authors-maintainers'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'name'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'MUST be a valid email name, i.e. whatever can be put as a name, before an'</span><span class="s2">, </span><span class="s3">'email, in :rfc:`822`.'</span><span class="s2">]}, </span><span class="s3">'email'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'idn-email'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'MUST be a valid email address'</span><span class="s2">}}}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">&quot;The people or organizations considered to be the 'maintainers' of the project.&quot;</span><span class="s2">, </span><span class="s3">'Similarly to ``authors``, the exact meaning is open to interpretation.'</span><span class="s2">]}, </span><span class="s3">'keywords'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'List of keywords to assist searching for the distribution in a larger catalog.'</span><span class="s2">}, </span><span class="s3">'classifiers'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'trove-classifier'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'`PyPI classifier &lt;https://pypi.org/classifiers/&gt;`_.'</span><span class="s2">}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'`Trove classifiers &lt;https://pypi.org/classifiers/&gt;`_'</span><span class="s2">, </span><span class="s3">'which apply to the project.'</span><span class="s2">]}, </span><span class="s3">'urls'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'URLs associated with the project in the form ``label =&gt; value``.'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'url'</span><span class="s2">}}}, </span><span class="s3">'scripts'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/entry-point-group'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Entry-points'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s2">, </span><span class="s3">'provide.'</span><span class="s2">, </span><span class="s3">'See the `packaging guides'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s2">, </span><span class="s3">'and `setuptools docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s2">, </span><span class="s3">'for more information.'</span><span class="s2">], </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-name'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Reference to a Python object. It is either in the form'</span><span class="s2">, </span><span class="s3">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s2">], </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-reference'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://packaging.python.org/specifications/entry-points/'</span><span class="s2">}}}, </span><span class="s3">'gui-scripts'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/entry-point-group'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Entry-points'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s2">, </span><span class="s3">'provide.'</span><span class="s2">, </span><span class="s3">'See the `packaging guides'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s2">, </span><span class="s3">'and `setuptools docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s2">, </span><span class="s3">'for more information.'</span><span class="s2">], </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-name'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Reference to a Python object. It is either in the form'</span><span class="s2">, </span><span class="s3">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s2">], </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-reference'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://packaging.python.org/specifications/entry-points/'</span><span class="s2">}}}, </span><span class="s3">'entry-points'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Instruct the installer to expose the given modules/functions via'</span><span class="s2">, </span><span class="s3">'``entry-point`` discovery mechanism (useful for plugins).'</span><span class="s2">, </span><span class="s3">'More information available in the `Python packaging guide'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_.'</span><span class="s2">], </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-group'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/entry-point-group'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Entry-points'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s2">, </span><span class="s3">'provide.'</span><span class="s2">, </span><span class="s3">'See the `packaging guides'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s2">, </span><span class="s3">'and `setuptools docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s2">, </span><span class="s3">'for more information.'</span><span class="s2">], </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-name'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Reference to a Python object. It is either in the form'</span><span class="s2">, </span><span class="s3">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s2">], </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-reference'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://packaging.python.org/specifications/entry-points/'</span><span class="s2">}}}}}, </span><span class="s3">'dependencies'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Project (mandatory) dependencies.'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/dependency'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Dependency'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Project dependency specification according to PEP 508'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508'</span><span class="s2">}}, </span><span class="s3">'optional-dependencies'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Optional dependency for the project'</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-identifier'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/dependency'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Dependency'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Project dependency specification according to PEP 508'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508'</span><span class="s2">}}}}, </span><span class="s3">'dynamic'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Specifies which fields are intentionally unspecified and expected to be'</span><span class="s2">, </span><span class="s3">'dynamically provided by build tools'</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'enum'</span><span class="s2">: [</span><span class="s3">'version'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">, </span><span class="s3">'readme'</span><span class="s2">, </span><span class="s3">'requires-python'</span><span class="s2">, </span><span class="s3">'license'</span><span class="s2">, </span><span class="s3">'authors'</span><span class="s2">, </span><span class="s3">'maintainers'</span><span class="s2">, </span><span class="s3">'keywords'</span><span class="s2">, </span><span class="s3">'classifiers'</span><span class="s2">, </span><span class="s3">'urls'</span><span class="s2">, </span><span class="s3">'scripts'</span><span class="s2">, </span><span class="s3">'gui-scripts'</span><span class="s2">, </span><span class="s3">'entry-points'</span><span class="s2">, </span><span class="s3">'dependencies'</span><span class="s2">, </span><span class="s3">'optional-dependencies'</span><span class="s2">]}}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'name'</span><span class="s2">], </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'if'</span><span class="s2">: {</span><span class="s3">'not'</span><span class="s2">: {</span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'dynamic'</span><span class="s2">], </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'dynamic'</span><span class="s2">: {</span><span class="s3">'contains'</span><span class="s2">: {</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">'version'</span><span class="s2">}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'version is listed in ``dynamic``'</span><span class="s2">]}}}, </span><span class="s3">'$$comment'</span><span class="s2">: [</span><span class="s3">'According to :pep:`621`:'</span><span class="s2">, </span><span class="s3">'    If the core metadata specification lists a field as &quot;Required&quot;, then'</span><span class="s2">, </span><span class="s3">'    the metadata MUST specify the field statically or list it in dynamic'</span><span class="s2">, </span><span class="s3">'In turn, `core metadata`_ defines:'</span><span class="s2">, </span><span class="s3">'    The required fields are: Metadata-Version, Name, Version.'</span><span class="s2">, </span><span class="s3">'    All the other fields are optional.'</span><span class="s2">, </span><span class="s3">'Since ``Metadata-Version`` is defined by the build back-end, ``name`` and'</span><span class="s2">, </span><span class="s3">'``version`` are the only mandatory information in ``pyproject.toml``.'</span><span class="s2">, </span><span class="s3">'.. _core metadata: https://packaging.python.org/specifications/core-metadata/'</span><span class="s2">]}, </span><span class="s3">'then'</span><span class="s2">: {</span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'version'</span><span class="s2">], </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'version should be statically defined in the ``version`` field'</span><span class="s2">]}, </span><span class="s3">'definitions'</span><span class="s2">: {</span><span class="s3">'author'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/author'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Author or Maintainer'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://www.python.org/dev/peps/pep-0621/#authors-maintainers'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'name'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'MUST be a valid email name, i.e. whatever can be put as a name, before an'</span><span class="s2">, </span><span class="s3">'email, in :rfc:`822`.'</span><span class="s2">]}, </span><span class="s3">'email'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'idn-email'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'MUST be a valid email address'</span><span class="s2">}}}, </span><span class="s3">'entry-point-group'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/entry-point-group'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Entry-points'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s2">, </span><span class="s3">'provide.'</span><span class="s2">, </span><span class="s3">'See the `packaging guides'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s2">, </span><span class="s3">'and `setuptools docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s2">, </span><span class="s3">'for more information.'</span><span class="s2">], </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-name'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Reference to a Python object. It is either in the form'</span><span class="s2">, </span><span class="s3">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s2">], </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-reference'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://packaging.python.org/specifications/entry-points/'</span><span class="s2">}}}, </span><span class="s3">'dependency'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/dependency'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Dependency'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Project dependency specification according to PEP 508'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508'</span><span class="s2">}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
    <span class="s1">data_is_dict </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, </span><span class="s1">dict</span><span class="s2">)</span>
    <span class="s4">if </span><span class="s1">data_is_dict</span><span class="s2">:</span>
        <span class="s1">data_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data</span><span class="s2">)</span>
        <span class="s4">if not </span><span class="s1">all</span><span class="s2">(</span><span class="s1">prop </span><span class="s4">in </span><span class="s1">data </span><span class="s4">for </span><span class="s1">prop </span><span class="s4">in </span><span class="s2">[</span><span class="s3">'name'</span><span class="s2">]):</span>
            <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot; must contain ['name'] properties&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'$schema'</span><span class="s2">: </span><span class="s3">'http://json-schema.org/draft-07/schema'</span><span class="s2">, </span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'https://packaging.python.org/en/latest/specifications/declaring-project-metadata/'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Package metadata stored in the ``project`` table'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Data structure for the **project** table inside ``pyproject.toml``'</span><span class="s2">, </span><span class="s3">'(as initially defined in :pep:`621`)'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'name'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'The name (primary identifier) of the project. MUST be statically defined.'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-identifier'</span><span class="s2">}, </span><span class="s3">'version'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'The version of the project as supported by :pep:`440`.'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep440'</span><span class="s2">}, </span><span class="s3">'description'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'The `summary description of the project'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/core-metadata/#summary&gt;`_'</span><span class="s2">]}, </span><span class="s3">'readme'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'`Full/detailed description of the project in the form of a README'</span><span class="s2">, </span><span class="s3">'&lt;https://www.python.org/dev/peps/pep-0621/#readme&gt;`_'</span><span class="s2">, </span><span class="s3">&quot;with meaning similar to the one defined in `core metadata's Description&quot;</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/core-metadata/#description&gt;`_'</span><span class="s2">], </span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Relative path to a text file (UTF-8) containing the full description'</span><span class="s2">, </span><span class="s3">'of the project. If the file path ends in case-insensitive ``.md`` or'</span><span class="s2">, </span><span class="s3">'``.rst`` suffixes, then the content-type is respectively'</span><span class="s2">, </span><span class="s3">'``text/markdown`` or ``text/x-rst``'</span><span class="s2">]}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'allOf'</span><span class="s2">: [{</span><span class="s3">'anyOf'</span><span class="s2">: [{</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Relative path to a text file containing the full description'</span><span class="s2">, </span><span class="s3">'of the project.'</span><span class="s2">]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, {</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'text'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Full text describing the project.'</span><span class="s2">}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'text'</span><span class="s2">]}]}, {</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'content-type'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Content-type (:rfc:`1341`) of the full description'</span><span class="s2">, </span><span class="s3">'(e.g. ``text/markdown``). The ``charset`` parameter is assumed'</span><span class="s2">, </span><span class="s3">'UTF-8 when not present.'</span><span class="s2">], </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'TODO: add regex pattern or format?'</span><span class="s2">}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'content-type'</span><span class="s2">]}]}]}, </span><span class="s3">'requires-python'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-versionspec'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'`The Python version requirements of the project'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/core-metadata/#requires-python&gt;`_.'</span><span class="s2">]}, </span><span class="s3">'license'</span><span class="s2">: {</span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'`Project license &lt;https://www.python.org/dev/peps/pep-0621/#license&gt;`_.'</span><span class="s2">, </span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Relative path to the file (UTF-8) which contains the license for the'</span><span class="s2">, </span><span class="s3">'project.'</span><span class="s2">]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, {</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'text'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'The license of the project whose meaning is that of the'</span><span class="s2">, </span><span class="s3">'`License field from the core metadata'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/core-metadata/#license&gt;`_.'</span><span class="s2">]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'text'</span><span class="s2">]}]}, </span><span class="s3">'authors'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/author'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Author or Maintainer'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://www.python.org/dev/peps/pep-0621/#authors-maintainers'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'name'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'MUST be a valid email name, i.e. whatever can be put as a name, before an'</span><span class="s2">, </span><span class="s3">'email, in :rfc:`822`.'</span><span class="s2">]}, </span><span class="s3">'email'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'idn-email'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'MUST be a valid email address'</span><span class="s2">}}}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">&quot;The people or organizations considered to be the 'authors' of the project.&quot;</span><span class="s2">, </span><span class="s3">'The exact meaning is open to interpretation (e.g. original or primary authors,'</span><span class="s2">, </span><span class="s3">'current maintainers, or owners of the package).'</span><span class="s2">]}, </span><span class="s3">'maintainers'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/author'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Author or Maintainer'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://www.python.org/dev/peps/pep-0621/#authors-maintainers'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'name'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'MUST be a valid email name, i.e. whatever can be put as a name, before an'</span><span class="s2">, </span><span class="s3">'email, in :rfc:`822`.'</span><span class="s2">]}, </span><span class="s3">'email'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'idn-email'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'MUST be a valid email address'</span><span class="s2">}}}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">&quot;The people or organizations considered to be the 'maintainers' of the project.&quot;</span><span class="s2">, </span><span class="s3">'Similarly to ``authors``, the exact meaning is open to interpretation.'</span><span class="s2">]}, </span><span class="s3">'keywords'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'List of keywords to assist searching for the distribution in a larger catalog.'</span><span class="s2">}, </span><span class="s3">'classifiers'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'trove-classifier'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'`PyPI classifier &lt;https://pypi.org/classifiers/&gt;`_.'</span><span class="s2">}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'`Trove classifiers &lt;https://pypi.org/classifiers/&gt;`_'</span><span class="s2">, </span><span class="s3">'which apply to the project.'</span><span class="s2">]}, </span><span class="s3">'urls'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'URLs associated with the project in the form ``label =&gt; value``.'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'url'</span><span class="s2">}}}, </span><span class="s3">'scripts'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/entry-point-group'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Entry-points'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s2">, </span><span class="s3">'provide.'</span><span class="s2">, </span><span class="s3">'See the `packaging guides'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s2">, </span><span class="s3">'and `setuptools docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s2">, </span><span class="s3">'for more information.'</span><span class="s2">], </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-name'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Reference to a Python object. It is either in the form'</span><span class="s2">, </span><span class="s3">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s2">], </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-reference'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://packaging.python.org/specifications/entry-points/'</span><span class="s2">}}}, </span><span class="s3">'gui-scripts'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/entry-point-group'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Entry-points'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s2">, </span><span class="s3">'provide.'</span><span class="s2">, </span><span class="s3">'See the `packaging guides'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s2">, </span><span class="s3">'and `setuptools docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s2">, </span><span class="s3">'for more information.'</span><span class="s2">], </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-name'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Reference to a Python object. It is either in the form'</span><span class="s2">, </span><span class="s3">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s2">], </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-reference'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://packaging.python.org/specifications/entry-points/'</span><span class="s2">}}}, </span><span class="s3">'entry-points'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Instruct the installer to expose the given modules/functions via'</span><span class="s2">, </span><span class="s3">'``entry-point`` discovery mechanism (useful for plugins).'</span><span class="s2">, </span><span class="s3">'More information available in the `Python packaging guide'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_.'</span><span class="s2">], </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-group'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/entry-point-group'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Entry-points'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s2">, </span><span class="s3">'provide.'</span><span class="s2">, </span><span class="s3">'See the `packaging guides'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s2">, </span><span class="s3">'and `setuptools docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s2">, </span><span class="s3">'for more information.'</span><span class="s2">], </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-name'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Reference to a Python object. It is either in the form'</span><span class="s2">, </span><span class="s3">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s2">], </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-reference'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://packaging.python.org/specifications/entry-points/'</span><span class="s2">}}}}}, </span><span class="s3">'dependencies'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Project (mandatory) dependencies.'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/dependency'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Dependency'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Project dependency specification according to PEP 508'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508'</span><span class="s2">}}, </span><span class="s3">'optional-dependencies'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Optional dependency for the project'</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-identifier'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/dependency'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Dependency'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Project dependency specification according to PEP 508'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508'</span><span class="s2">}}}}, </span><span class="s3">'dynamic'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Specifies which fields are intentionally unspecified and expected to be'</span><span class="s2">, </span><span class="s3">'dynamically provided by build tools'</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'enum'</span><span class="s2">: [</span><span class="s3">'version'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">, </span><span class="s3">'readme'</span><span class="s2">, </span><span class="s3">'requires-python'</span><span class="s2">, </span><span class="s3">'license'</span><span class="s2">, </span><span class="s3">'authors'</span><span class="s2">, </span><span class="s3">'maintainers'</span><span class="s2">, </span><span class="s3">'keywords'</span><span class="s2">, </span><span class="s3">'classifiers'</span><span class="s2">, </span><span class="s3">'urls'</span><span class="s2">, </span><span class="s3">'scripts'</span><span class="s2">, </span><span class="s3">'gui-scripts'</span><span class="s2">, </span><span class="s3">'entry-points'</span><span class="s2">, </span><span class="s3">'dependencies'</span><span class="s2">, </span><span class="s3">'optional-dependencies'</span><span class="s2">]}}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'name'</span><span class="s2">], </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'if'</span><span class="s2">: {</span><span class="s3">'not'</span><span class="s2">: {</span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'dynamic'</span><span class="s2">], </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'dynamic'</span><span class="s2">: {</span><span class="s3">'contains'</span><span class="s2">: {</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">'version'</span><span class="s2">}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'version is listed in ``dynamic``'</span><span class="s2">]}}}, </span><span class="s3">'$$comment'</span><span class="s2">: [</span><span class="s3">'According to :pep:`621`:'</span><span class="s2">, </span><span class="s3">'    If the core metadata specification lists a field as &quot;Required&quot;, then'</span><span class="s2">, </span><span class="s3">'    the metadata MUST specify the field statically or list it in dynamic'</span><span class="s2">, </span><span class="s3">'In turn, `core metadata`_ defines:'</span><span class="s2">, </span><span class="s3">'    The required fields are: Metadata-Version, Name, Version.'</span><span class="s2">, </span><span class="s3">'    All the other fields are optional.'</span><span class="s2">, </span><span class="s3">'Since ``Metadata-Version`` is defined by the build back-end, ``name`` and'</span><span class="s2">, </span><span class="s3">'``version`` are the only mandatory information in ``pyproject.toml``.'</span><span class="s2">, </span><span class="s3">'.. _core metadata: https://packaging.python.org/specifications/core-metadata/'</span><span class="s2">]}, </span><span class="s3">'then'</span><span class="s2">: {</span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'version'</span><span class="s2">], </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'version should be statically defined in the ``version`` field'</span><span class="s2">]}, </span><span class="s3">'definitions'</span><span class="s2">: {</span><span class="s3">'author'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/author'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Author or Maintainer'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://www.python.org/dev/peps/pep-0621/#authors-maintainers'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'name'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'MUST be a valid email name, i.e. whatever can be put as a name, before an'</span><span class="s2">, </span><span class="s3">'email, in :rfc:`822`.'</span><span class="s2">]}, </span><span class="s3">'email'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'idn-email'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'MUST be a valid email address'</span><span class="s2">}}}, </span><span class="s3">'entry-point-group'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/entry-point-group'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Entry-points'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s2">, </span><span class="s3">'provide.'</span><span class="s2">, </span><span class="s3">'See the `packaging guides'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s2">, </span><span class="s3">'and `setuptools docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s2">, </span><span class="s3">'for more information.'</span><span class="s2">], </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-name'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Reference to a Python object. It is either in the form'</span><span class="s2">, </span><span class="s3">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s2">], </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-reference'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://packaging.python.org/specifications/entry-points/'</span><span class="s2">}}}, </span><span class="s3">'dependency'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/dependency'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Dependency'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Project dependency specification according to PEP 508'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508'</span><span class="s2">}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'required'</span><span class="s2">)</span>
        <span class="s1">data_keys </span><span class="s2">= </span><span class="s1">set</span><span class="s2">(</span><span class="s1">data</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">())</span>
        <span class="s4">if </span><span class="s3">&quot;name&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;name&quot;</span><span class="s2">)</span>
            <span class="s1">data__name </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;name&quot;</span><span class="s2">]</span>
            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__name</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.name must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__name</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.name&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'The name (primary identifier) of the project. MUST be statically defined.'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-identifier'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__name</span><span class="s2">, </span><span class="s1">str</span><span class="s2">):</span>
                <span class="s4">if not </span><span class="s1">custom_formats</span><span class="s2">[</span><span class="s3">&quot;pep508-identifier&quot;</span><span class="s2">](</span><span class="s1">data__name</span><span class="s2">):</span>
                    <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.name must be pep508-identifier&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__name</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.name&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'The name (primary identifier) of the project. MUST be statically defined.'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-identifier'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'format'</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s3">&quot;version&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;version&quot;</span><span class="s2">)</span>
            <span class="s1">data__version </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;version&quot;</span><span class="s2">]</span>
            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__version</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.version must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__version</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.version&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'The version of the project as supported by :pep:`440`.'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep440'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__version</span><span class="s2">, </span><span class="s1">str</span><span class="s2">):</span>
                <span class="s4">if not </span><span class="s1">custom_formats</span><span class="s2">[</span><span class="s3">&quot;pep440&quot;</span><span class="s2">](</span><span class="s1">data__version</span><span class="s2">):</span>
                    <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.version must be pep440&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__version</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.version&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'The version of the project as supported by :pep:`440`.'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep440'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'format'</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s3">&quot;description&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;description&quot;</span><span class="s2">)</span>
            <span class="s1">data__description </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;description&quot;</span><span class="s2">]</span>
            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__description</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.description must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__description</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.description&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'The `summary description of the project'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/core-metadata/#summary&gt;`_'</span><span class="s2">]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s3">&quot;readme&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;readme&quot;</span><span class="s2">)</span>
            <span class="s1">data__readme </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;readme&quot;</span><span class="s2">]</span>
            <span class="s1">data__readme_one_of_count8 </span><span class="s2">= </span><span class="s5">0</span>
            <span class="s4">if </span><span class="s1">data__readme_one_of_count8 </span><span class="s2">&lt; </span><span class="s5">2</span><span class="s2">:</span>
                <span class="s4">try</span><span class="s2">:</span>
                    <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__readme</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.readme must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__readme</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.readme&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Relative path to a text file (UTF-8) containing the full description'</span><span class="s2">, </span><span class="s3">'of the project. If the file path ends in case-insensitive ``.md`` or'</span><span class="s2">, </span><span class="s3">'``.rst`` suffixes, then the content-type is respectively'</span><span class="s2">, </span><span class="s3">'``text/markdown`` or ``text/x-rst``'</span><span class="s2">]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                    <span class="s1">data__readme_one_of_count8 </span><span class="s2">+= </span><span class="s5">1</span>
                <span class="s4">except </span><span class="s1">JsonSchemaValueException</span><span class="s2">: </span><span class="s4">pass</span>
            <span class="s4">if </span><span class="s1">data__readme_one_of_count8 </span><span class="s2">&lt; </span><span class="s5">2</span><span class="s2">:</span>
                <span class="s4">try</span><span class="s2">:</span>
                    <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__readme</span><span class="s2">, (</span><span class="s1">dict</span><span class="s2">)):</span>
                        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.readme must be object&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__readme</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.readme&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'allOf'</span><span class="s2">: [{</span><span class="s3">'anyOf'</span><span class="s2">: [{</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Relative path to a text file containing the full description'</span><span class="s2">, </span><span class="s3">'of the project.'</span><span class="s2">]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, {</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'text'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Full text describing the project.'</span><span class="s2">}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'text'</span><span class="s2">]}]}, {</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'content-type'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Content-type (:rfc:`1341`) of the full description'</span><span class="s2">, </span><span class="s3">'(e.g. ``text/markdown``). The ``charset`` parameter is assumed'</span><span class="s2">, </span><span class="s3">'UTF-8 when not present.'</span><span class="s2">], </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'TODO: add regex pattern or format?'</span><span class="s2">}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'content-type'</span><span class="s2">]}]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                    <span class="s1">data__readme_any_of_count9 </span><span class="s2">= </span><span class="s5">0</span>
                    <span class="s4">if not </span><span class="s1">data__readme_any_of_count9</span><span class="s2">:</span>
                        <span class="s4">try</span><span class="s2">:</span>
                            <span class="s1">data__readme_is_dict </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__readme</span><span class="s2">, </span><span class="s1">dict</span><span class="s2">)</span>
                            <span class="s4">if </span><span class="s1">data__readme_is_dict</span><span class="s2">:</span>
                                <span class="s1">data__readme_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data__readme</span><span class="s2">)</span>
                                <span class="s4">if not </span><span class="s1">all</span><span class="s2">(</span><span class="s1">prop </span><span class="s4">in </span><span class="s1">data__readme </span><span class="s4">for </span><span class="s1">prop </span><span class="s4">in </span><span class="s2">[</span><span class="s3">'file'</span><span class="s2">]):</span>
                                    <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.readme must contain ['file'] properties&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__readme</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.readme&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Relative path to a text file containing the full description'</span><span class="s2">, </span><span class="s3">'of the project.'</span><span class="s2">]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'required'</span><span class="s2">)</span>
                                <span class="s1">data__readme_keys </span><span class="s2">= </span><span class="s1">set</span><span class="s2">(</span><span class="s1">data__readme</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">())</span>
                                <span class="s4">if </span><span class="s3">&quot;file&quot; </span><span class="s4">in </span><span class="s1">data__readme_keys</span><span class="s2">:</span>
                                    <span class="s1">data__readme_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;file&quot;</span><span class="s2">)</span>
                                    <span class="s1">data__readme__file </span><span class="s2">= </span><span class="s1">data__readme</span><span class="s2">[</span><span class="s3">&quot;file&quot;</span><span class="s2">]</span>
                                    <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__readme__file</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                                        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.readme.file must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__readme__file</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.readme.file&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Relative path to a text file containing the full description'</span><span class="s2">, </span><span class="s3">'of the project.'</span><span class="s2">]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                            <span class="s1">data__readme_any_of_count9 </span><span class="s2">+= </span><span class="s5">1</span>
                        <span class="s4">except </span><span class="s1">JsonSchemaValueException</span><span class="s2">: </span><span class="s4">pass</span>
                    <span class="s4">if not </span><span class="s1">data__readme_any_of_count9</span><span class="s2">:</span>
                        <span class="s4">try</span><span class="s2">:</span>
                            <span class="s1">data__readme_is_dict </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__readme</span><span class="s2">, </span><span class="s1">dict</span><span class="s2">)</span>
                            <span class="s4">if </span><span class="s1">data__readme_is_dict</span><span class="s2">:</span>
                                <span class="s1">data__readme_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data__readme</span><span class="s2">)</span>
                                <span class="s4">if not </span><span class="s1">all</span><span class="s2">(</span><span class="s1">prop </span><span class="s4">in </span><span class="s1">data__readme </span><span class="s4">for </span><span class="s1">prop </span><span class="s4">in </span><span class="s2">[</span><span class="s3">'text'</span><span class="s2">]):</span>
                                    <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.readme must contain ['text'] properties&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__readme</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.readme&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'text'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Full text describing the project.'</span><span class="s2">}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'text'</span><span class="s2">]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'required'</span><span class="s2">)</span>
                                <span class="s1">data__readme_keys </span><span class="s2">= </span><span class="s1">set</span><span class="s2">(</span><span class="s1">data__readme</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">())</span>
                                <span class="s4">if </span><span class="s3">&quot;text&quot; </span><span class="s4">in </span><span class="s1">data__readme_keys</span><span class="s2">:</span>
                                    <span class="s1">data__readme_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;text&quot;</span><span class="s2">)</span>
                                    <span class="s1">data__readme__text </span><span class="s2">= </span><span class="s1">data__readme</span><span class="s2">[</span><span class="s3">&quot;text&quot;</span><span class="s2">]</span>
                                    <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__readme__text</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                                        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.readme.text must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__readme__text</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.readme.text&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Full text describing the project.'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                            <span class="s1">data__readme_any_of_count9 </span><span class="s2">+= </span><span class="s5">1</span>
                        <span class="s4">except </span><span class="s1">JsonSchemaValueException</span><span class="s2">: </span><span class="s4">pass</span>
                    <span class="s4">if not </span><span class="s1">data__readme_any_of_count9</span><span class="s2">:</span>
                        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.readme cannot be validated by any definition&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__readme</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.readme&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'anyOf'</span><span class="s2">: [{</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Relative path to a text file containing the full description'</span><span class="s2">, </span><span class="s3">'of the project.'</span><span class="s2">]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, {</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'text'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Full text describing the project.'</span><span class="s2">}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'text'</span><span class="s2">]}]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'anyOf'</span><span class="s2">)</span>
                    <span class="s1">data__readme_is_dict </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__readme</span><span class="s2">, </span><span class="s1">dict</span><span class="s2">)</span>
                    <span class="s4">if </span><span class="s1">data__readme_is_dict</span><span class="s2">:</span>
                        <span class="s1">data__readme_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data__readme</span><span class="s2">)</span>
                        <span class="s4">if not </span><span class="s1">all</span><span class="s2">(</span><span class="s1">prop </span><span class="s4">in </span><span class="s1">data__readme </span><span class="s4">for </span><span class="s1">prop </span><span class="s4">in </span><span class="s2">[</span><span class="s3">'content-type'</span><span class="s2">]):</span>
                            <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.readme must contain ['content-type'] properties&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__readme</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.readme&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'content-type'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Content-type (:rfc:`1341`) of the full description'</span><span class="s2">, </span><span class="s3">'(e.g. ``text/markdown``). The ``charset`` parameter is assumed'</span><span class="s2">, </span><span class="s3">'UTF-8 when not present.'</span><span class="s2">], </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'TODO: add regex pattern or format?'</span><span class="s2">}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'content-type'</span><span class="s2">]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'required'</span><span class="s2">)</span>
                        <span class="s1">data__readme_keys </span><span class="s2">= </span><span class="s1">set</span><span class="s2">(</span><span class="s1">data__readme</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">())</span>
                        <span class="s4">if </span><span class="s3">&quot;content-type&quot; </span><span class="s4">in </span><span class="s1">data__readme_keys</span><span class="s2">:</span>
                            <span class="s1">data__readme_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;content-type&quot;</span><span class="s2">)</span>
                            <span class="s1">data__readme__contenttype </span><span class="s2">= </span><span class="s1">data__readme</span><span class="s2">[</span><span class="s3">&quot;content-type&quot;</span><span class="s2">]</span>
                            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__readme__contenttype</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.readme.content-type must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__readme__contenttype</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.readme.content-type&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Content-type (:rfc:`1341`) of the full description'</span><span class="s2">, </span><span class="s3">'(e.g. ``text/markdown``). The ``charset`` parameter is assumed'</span><span class="s2">, </span><span class="s3">'UTF-8 when not present.'</span><span class="s2">], </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'TODO: add regex pattern or format?'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                    <span class="s1">data__readme_one_of_count8 </span><span class="s2">+= </span><span class="s5">1</span>
                <span class="s4">except </span><span class="s1">JsonSchemaValueException</span><span class="s2">: </span><span class="s4">pass</span>
            <span class="s4">if </span><span class="s1">data__readme_one_of_count8 </span><span class="s2">!= </span><span class="s5">1</span><span class="s2">:</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.readme must be valid exactly by one definition&quot; </span><span class="s2">+ (</span><span class="s3">&quot; (&quot; </span><span class="s2">+ </span><span class="s1">str</span><span class="s2">(</span><span class="s1">data__readme_one_of_count8</span><span class="s2">) + </span><span class="s3">&quot; matches found)&quot;</span><span class="s2">), </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__readme</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.readme&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'`Full/detailed description of the project in the form of a README'</span><span class="s2">, </span><span class="s3">'&lt;https://www.python.org/dev/peps/pep-0621/#readme&gt;`_'</span><span class="s2">, </span><span class="s3">&quot;with meaning similar to the one defined in `core metadata's Description&quot;</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/core-metadata/#description&gt;`_'</span><span class="s2">], </span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Relative path to a text file (UTF-8) containing the full description'</span><span class="s2">, </span><span class="s3">'of the project. If the file path ends in case-insensitive ``.md`` or'</span><span class="s2">, </span><span class="s3">'``.rst`` suffixes, then the content-type is respectively'</span><span class="s2">, </span><span class="s3">'``text/markdown`` or ``text/x-rst``'</span><span class="s2">]}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'allOf'</span><span class="s2">: [{</span><span class="s3">'anyOf'</span><span class="s2">: [{</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Relative path to a text file containing the full description'</span><span class="s2">, </span><span class="s3">'of the project.'</span><span class="s2">]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, {</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'text'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Full text describing the project.'</span><span class="s2">}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'text'</span><span class="s2">]}]}, {</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'content-type'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Content-type (:rfc:`1341`) of the full description'</span><span class="s2">, </span><span class="s3">'(e.g. ``text/markdown``). The ``charset`` parameter is assumed'</span><span class="s2">, </span><span class="s3">'UTF-8 when not present.'</span><span class="s2">], </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'TODO: add regex pattern or format?'</span><span class="s2">}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'content-type'</span><span class="s2">]}]}]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'oneOf'</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s3">&quot;requires-python&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;requires-python&quot;</span><span class="s2">)</span>
            <span class="s1">data__requirespython </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;requires-python&quot;</span><span class="s2">]</span>
            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__requirespython</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.requires-python must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__requirespython</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.requires-python&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-versionspec'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'`The Python version requirements of the project'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/core-metadata/#requires-python&gt;`_.'</span><span class="s2">]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__requirespython</span><span class="s2">, </span><span class="s1">str</span><span class="s2">):</span>
                <span class="s4">if not </span><span class="s1">custom_formats</span><span class="s2">[</span><span class="s3">&quot;pep508-versionspec&quot;</span><span class="s2">](</span><span class="s1">data__requirespython</span><span class="s2">):</span>
                    <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.requires-python must be pep508-versionspec&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__requirespython</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.requires-python&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-versionspec'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'`The Python version requirements of the project'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/core-metadata/#requires-python&gt;`_.'</span><span class="s2">]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'format'</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s3">&quot;license&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;license&quot;</span><span class="s2">)</span>
            <span class="s1">data__license </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;license&quot;</span><span class="s2">]</span>
            <span class="s1">data__license_one_of_count10 </span><span class="s2">= </span><span class="s5">0</span>
            <span class="s4">if </span><span class="s1">data__license_one_of_count10 </span><span class="s2">&lt; </span><span class="s5">2</span><span class="s2">:</span>
                <span class="s4">try</span><span class="s2">:</span>
                    <span class="s1">data__license_is_dict </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__license</span><span class="s2">, </span><span class="s1">dict</span><span class="s2">)</span>
                    <span class="s4">if </span><span class="s1">data__license_is_dict</span><span class="s2">:</span>
                        <span class="s1">data__license_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data__license</span><span class="s2">)</span>
                        <span class="s4">if not </span><span class="s1">all</span><span class="s2">(</span><span class="s1">prop </span><span class="s4">in </span><span class="s1">data__license </span><span class="s4">for </span><span class="s1">prop </span><span class="s4">in </span><span class="s2">[</span><span class="s3">'file'</span><span class="s2">]):</span>
                            <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.license must contain ['file'] properties&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__license</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.license&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Relative path to the file (UTF-8) which contains the license for the'</span><span class="s2">, </span><span class="s3">'project.'</span><span class="s2">]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'required'</span><span class="s2">)</span>
                        <span class="s1">data__license_keys </span><span class="s2">= </span><span class="s1">set</span><span class="s2">(</span><span class="s1">data__license</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">())</span>
                        <span class="s4">if </span><span class="s3">&quot;file&quot; </span><span class="s4">in </span><span class="s1">data__license_keys</span><span class="s2">:</span>
                            <span class="s1">data__license_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;file&quot;</span><span class="s2">)</span>
                            <span class="s1">data__license__file </span><span class="s2">= </span><span class="s1">data__license</span><span class="s2">[</span><span class="s3">&quot;file&quot;</span><span class="s2">]</span>
                            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__license__file</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.license.file must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__license__file</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.license.file&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Relative path to the file (UTF-8) which contains the license for the'</span><span class="s2">, </span><span class="s3">'project.'</span><span class="s2">]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                    <span class="s1">data__license_one_of_count10 </span><span class="s2">+= </span><span class="s5">1</span>
                <span class="s4">except </span><span class="s1">JsonSchemaValueException</span><span class="s2">: </span><span class="s4">pass</span>
            <span class="s4">if </span><span class="s1">data__license_one_of_count10 </span><span class="s2">&lt; </span><span class="s5">2</span><span class="s2">:</span>
                <span class="s4">try</span><span class="s2">:</span>
                    <span class="s1">data__license_is_dict </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__license</span><span class="s2">, </span><span class="s1">dict</span><span class="s2">)</span>
                    <span class="s4">if </span><span class="s1">data__license_is_dict</span><span class="s2">:</span>
                        <span class="s1">data__license_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data__license</span><span class="s2">)</span>
                        <span class="s4">if not </span><span class="s1">all</span><span class="s2">(</span><span class="s1">prop </span><span class="s4">in </span><span class="s1">data__license </span><span class="s4">for </span><span class="s1">prop </span><span class="s4">in </span><span class="s2">[</span><span class="s3">'text'</span><span class="s2">]):</span>
                            <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.license must contain ['text'] properties&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__license</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.license&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'text'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'The license of the project whose meaning is that of the'</span><span class="s2">, </span><span class="s3">'`License field from the core metadata'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/core-metadata/#license&gt;`_.'</span><span class="s2">]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'text'</span><span class="s2">]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'required'</span><span class="s2">)</span>
                        <span class="s1">data__license_keys </span><span class="s2">= </span><span class="s1">set</span><span class="s2">(</span><span class="s1">data__license</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">())</span>
                        <span class="s4">if </span><span class="s3">&quot;text&quot; </span><span class="s4">in </span><span class="s1">data__license_keys</span><span class="s2">:</span>
                            <span class="s1">data__license_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;text&quot;</span><span class="s2">)</span>
                            <span class="s1">data__license__text </span><span class="s2">= </span><span class="s1">data__license</span><span class="s2">[</span><span class="s3">&quot;text&quot;</span><span class="s2">]</span>
                            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__license__text</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.license.text must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__license__text</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.license.text&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'The license of the project whose meaning is that of the'</span><span class="s2">, </span><span class="s3">'`License field from the core metadata'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/core-metadata/#license&gt;`_.'</span><span class="s2">]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                    <span class="s1">data__license_one_of_count10 </span><span class="s2">+= </span><span class="s5">1</span>
                <span class="s4">except </span><span class="s1">JsonSchemaValueException</span><span class="s2">: </span><span class="s4">pass</span>
            <span class="s4">if </span><span class="s1">data__license_one_of_count10 </span><span class="s2">!= </span><span class="s5">1</span><span class="s2">:</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.license must be valid exactly by one definition&quot; </span><span class="s2">+ (</span><span class="s3">&quot; (&quot; </span><span class="s2">+ </span><span class="s1">str</span><span class="s2">(</span><span class="s1">data__license_one_of_count10</span><span class="s2">) + </span><span class="s3">&quot; matches found)&quot;</span><span class="s2">), </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__license</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.license&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'`Project license &lt;https://www.python.org/dev/peps/pep-0621/#license&gt;`_.'</span><span class="s2">, </span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Relative path to the file (UTF-8) which contains the license for the'</span><span class="s2">, </span><span class="s3">'project.'</span><span class="s2">]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, {</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'text'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'The license of the project whose meaning is that of the'</span><span class="s2">, </span><span class="s3">'`License field from the core metadata'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/core-metadata/#license&gt;`_.'</span><span class="s2">]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'text'</span><span class="s2">]}]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'oneOf'</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s3">&quot;authors&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;authors&quot;</span><span class="s2">)</span>
            <span class="s1">data__authors </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;authors&quot;</span><span class="s2">]</span>
            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__authors</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">)):</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.authors must be array&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__authors</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.authors&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/author'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Author or Maintainer'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://www.python.org/dev/peps/pep-0621/#authors-maintainers'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'name'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'MUST be a valid email name, i.e. whatever can be put as a name, before an'</span><span class="s2">, </span><span class="s3">'email, in :rfc:`822`.'</span><span class="s2">]}, </span><span class="s3">'email'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'idn-email'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'MUST be a valid email address'</span><span class="s2">}}}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">&quot;The people or organizations considered to be the 'authors' of the project.&quot;</span><span class="s2">, </span><span class="s3">'The exact meaning is open to interpretation (e.g. original or primary authors,'</span><span class="s2">, </span><span class="s3">'current maintainers, or owners of the package).'</span><span class="s2">]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
            <span class="s1">data__authors_is_list </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__authors</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">))</span>
            <span class="s4">if </span><span class="s1">data__authors_is_list</span><span class="s2">:</span>
                <span class="s1">data__authors_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data__authors</span><span class="s2">)</span>
                <span class="s4">for </span><span class="s1">data__authors_x</span><span class="s2">, </span><span class="s1">data__authors_item </span><span class="s4">in </span><span class="s1">enumerate</span><span class="s2">(</span><span class="s1">data__authors</span><span class="s2">):</span>
                    <span class="s1">validate_https___packaging_python_org_en_latest_specifications_declaring_project_metadata___definitions_author</span><span class="s2">(</span><span class="s1">data__authors_item</span><span class="s2">, </span><span class="s1">custom_formats</span><span class="s2">, (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.authors[{data__authors_x}]&quot;</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s3">&quot;maintainers&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;maintainers&quot;</span><span class="s2">)</span>
            <span class="s1">data__maintainers </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;maintainers&quot;</span><span class="s2">]</span>
            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__maintainers</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">)):</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.maintainers must be array&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__maintainers</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.maintainers&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/author'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Author or Maintainer'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://www.python.org/dev/peps/pep-0621/#authors-maintainers'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'name'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'MUST be a valid email name, i.e. whatever can be put as a name, before an'</span><span class="s2">, </span><span class="s3">'email, in :rfc:`822`.'</span><span class="s2">]}, </span><span class="s3">'email'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'idn-email'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'MUST be a valid email address'</span><span class="s2">}}}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">&quot;The people or organizations considered to be the 'maintainers' of the project.&quot;</span><span class="s2">, </span><span class="s3">'Similarly to ``authors``, the exact meaning is open to interpretation.'</span><span class="s2">]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
            <span class="s1">data__maintainers_is_list </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__maintainers</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">))</span>
            <span class="s4">if </span><span class="s1">data__maintainers_is_list</span><span class="s2">:</span>
                <span class="s1">data__maintainers_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data__maintainers</span><span class="s2">)</span>
                <span class="s4">for </span><span class="s1">data__maintainers_x</span><span class="s2">, </span><span class="s1">data__maintainers_item </span><span class="s4">in </span><span class="s1">enumerate</span><span class="s2">(</span><span class="s1">data__maintainers</span><span class="s2">):</span>
                    <span class="s1">validate_https___packaging_python_org_en_latest_specifications_declaring_project_metadata___definitions_author</span><span class="s2">(</span><span class="s1">data__maintainers_item</span><span class="s2">, </span><span class="s1">custom_formats</span><span class="s2">, (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.maintainers[{data__maintainers_x}]&quot;</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s3">&quot;keywords&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;keywords&quot;</span><span class="s2">)</span>
            <span class="s1">data__keywords </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;keywords&quot;</span><span class="s2">]</span>
            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__keywords</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">)):</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.keywords must be array&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__keywords</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.keywords&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'List of keywords to assist searching for the distribution in a larger catalog.'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
            <span class="s1">data__keywords_is_list </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__keywords</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">))</span>
            <span class="s4">if </span><span class="s1">data__keywords_is_list</span><span class="s2">:</span>
                <span class="s1">data__keywords_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data__keywords</span><span class="s2">)</span>
                <span class="s4">for </span><span class="s1">data__keywords_x</span><span class="s2">, </span><span class="s1">data__keywords_item </span><span class="s4">in </span><span class="s1">enumerate</span><span class="s2">(</span><span class="s1">data__keywords</span><span class="s2">):</span>
                    <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__keywords_item</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.keywords[{data__keywords_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot; must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__keywords_item</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.keywords[{data__keywords_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s3">&quot;classifiers&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;classifiers&quot;</span><span class="s2">)</span>
            <span class="s1">data__classifiers </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;classifiers&quot;</span><span class="s2">]</span>
            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__classifiers</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">)):</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.classifiers must be array&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__classifiers</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.classifiers&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'trove-classifier'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'`PyPI classifier &lt;https://pypi.org/classifiers/&gt;`_.'</span><span class="s2">}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'`Trove classifiers &lt;https://pypi.org/classifiers/&gt;`_'</span><span class="s2">, </span><span class="s3">'which apply to the project.'</span><span class="s2">]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
            <span class="s1">data__classifiers_is_list </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__classifiers</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">))</span>
            <span class="s4">if </span><span class="s1">data__classifiers_is_list</span><span class="s2">:</span>
                <span class="s1">data__classifiers_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data__classifiers</span><span class="s2">)</span>
                <span class="s4">for </span><span class="s1">data__classifiers_x</span><span class="s2">, </span><span class="s1">data__classifiers_item </span><span class="s4">in </span><span class="s1">enumerate</span><span class="s2">(</span><span class="s1">data__classifiers</span><span class="s2">):</span>
                    <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__classifiers_item</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.classifiers[{data__classifiers_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot; must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__classifiers_item</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.classifiers[{data__classifiers_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'trove-classifier'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'`PyPI classifier &lt;https://pypi.org/classifiers/&gt;`_.'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                    <span class="s4">if </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__classifiers_item</span><span class="s2">, </span><span class="s1">str</span><span class="s2">):</span>
                        <span class="s4">if not </span><span class="s1">custom_formats</span><span class="s2">[</span><span class="s3">&quot;trove-classifier&quot;</span><span class="s2">](</span><span class="s1">data__classifiers_item</span><span class="s2">):</span>
                            <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.classifiers[{data__classifiers_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot; must be trove-classifier&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__classifiers_item</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.classifiers[{data__classifiers_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'trove-classifier'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'`PyPI classifier &lt;https://pypi.org/classifiers/&gt;`_.'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'format'</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s3">&quot;urls&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;urls&quot;</span><span class="s2">)</span>
            <span class="s1">data__urls </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;urls&quot;</span><span class="s2">]</span>
            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__urls</span><span class="s2">, (</span><span class="s1">dict</span><span class="s2">)):</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.urls must be object&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__urls</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.urls&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'URLs associated with the project in the form ``label =&gt; value``.'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'url'</span><span class="s2">}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
            <span class="s1">data__urls_is_dict </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__urls</span><span class="s2">, </span><span class="s1">dict</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">data__urls_is_dict</span><span class="s2">:</span>
                <span class="s1">data__urls_keys </span><span class="s2">= </span><span class="s1">set</span><span class="s2">(</span><span class="s1">data__urls</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">())</span>
                <span class="s4">for </span><span class="s1">data__urls_key</span><span class="s2">, </span><span class="s1">data__urls_val </span><span class="s4">in </span><span class="s1">data__urls</span><span class="s2">.</span><span class="s1">items</span><span class="s2">():</span>
                    <span class="s4">if </span><span class="s1">REGEX_PATTERNS</span><span class="s2">[</span><span class="s3">'^.+$'</span><span class="s2">].</span><span class="s1">search</span><span class="s2">(</span><span class="s1">data__urls_key</span><span class="s2">):</span>
                        <span class="s4">if </span><span class="s1">data__urls_key </span><span class="s4">in </span><span class="s1">data__urls_keys</span><span class="s2">:</span>
                            <span class="s1">data__urls_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s1">data__urls_key</span><span class="s2">)</span>
                        <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__urls_val</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                            <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.urls.{data__urls_key}&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot; must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__urls_val</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.urls.{data__urls_key}&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'url'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                        <span class="s4">if </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__urls_val</span><span class="s2">, </span><span class="s1">str</span><span class="s2">):</span>
                            <span class="s4">if not </span><span class="s1">custom_formats</span><span class="s2">[</span><span class="s3">&quot;url&quot;</span><span class="s2">](</span><span class="s1">data__urls_val</span><span class="s2">):</span>
                                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.urls.{data__urls_key}&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot; must be url&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__urls_val</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.urls.{data__urls_key}&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'url'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'format'</span><span class="s2">)</span>
                <span class="s4">if </span><span class="s1">data__urls_keys</span><span class="s2">:</span>
                    <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.urls must not contain &quot;</span><span class="s2">+</span><span class="s1">str</span><span class="s2">(</span><span class="s1">data__urls_keys</span><span class="s2">)+</span><span class="s3">&quot; properties&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__urls</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.urls&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'URLs associated with the project in the form ``label =&gt; value``.'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'url'</span><span class="s2">}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'additionalProperties'</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s3">&quot;scripts&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;scripts&quot;</span><span class="s2">)</span>
            <span class="s1">data__scripts </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;scripts&quot;</span><span class="s2">]</span>
            <span class="s1">validate_https___packaging_python_org_en_latest_specifications_declaring_project_metadata___definitions_entry_point_group</span><span class="s2">(</span><span class="s1">data__scripts</span><span class="s2">, </span><span class="s1">custom_formats</span><span class="s2">, (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.scripts&quot;</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s3">&quot;gui-scripts&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;gui-scripts&quot;</span><span class="s2">)</span>
            <span class="s1">data__guiscripts </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;gui-scripts&quot;</span><span class="s2">]</span>
            <span class="s1">validate_https___packaging_python_org_en_latest_specifications_declaring_project_metadata___definitions_entry_point_group</span><span class="s2">(</span><span class="s1">data__guiscripts</span><span class="s2">, </span><span class="s1">custom_formats</span><span class="s2">, (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.gui-scripts&quot;</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s3">&quot;entry-points&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;entry-points&quot;</span><span class="s2">)</span>
            <span class="s1">data__entrypoints </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;entry-points&quot;</span><span class="s2">]</span>
            <span class="s1">data__entrypoints_is_dict </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__entrypoints</span><span class="s2">, </span><span class="s1">dict</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">data__entrypoints_is_dict</span><span class="s2">:</span>
                <span class="s1">data__entrypoints_keys </span><span class="s2">= </span><span class="s1">set</span><span class="s2">(</span><span class="s1">data__entrypoints</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">())</span>
                <span class="s4">for </span><span class="s1">data__entrypoints_key</span><span class="s2">, </span><span class="s1">data__entrypoints_val </span><span class="s4">in </span><span class="s1">data__entrypoints</span><span class="s2">.</span><span class="s1">items</span><span class="s2">():</span>
                    <span class="s4">if </span><span class="s1">REGEX_PATTERNS</span><span class="s2">[</span><span class="s3">'^.+$'</span><span class="s2">].</span><span class="s1">search</span><span class="s2">(</span><span class="s1">data__entrypoints_key</span><span class="s2">):</span>
                        <span class="s4">if </span><span class="s1">data__entrypoints_key </span><span class="s4">in </span><span class="s1">data__entrypoints_keys</span><span class="s2">:</span>
                            <span class="s1">data__entrypoints_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s1">data__entrypoints_key</span><span class="s2">)</span>
                        <span class="s1">validate_https___packaging_python_org_en_latest_specifications_declaring_project_metadata___definitions_entry_point_group</span><span class="s2">(</span><span class="s1">data__entrypoints_val</span><span class="s2">, </span><span class="s1">custom_formats</span><span class="s2">, (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.entry-points.{data__entrypoints_key}&quot;</span><span class="s2">)</span>
                <span class="s4">if </span><span class="s1">data__entrypoints_keys</span><span class="s2">:</span>
                    <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.entry-points must not contain &quot;</span><span class="s2">+</span><span class="s1">str</span><span class="s2">(</span><span class="s1">data__entrypoints_keys</span><span class="s2">)+</span><span class="s3">&quot; properties&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__entrypoints</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.entry-points&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Instruct the installer to expose the given modules/functions via'</span><span class="s2">, </span><span class="s3">'``entry-point`` discovery mechanism (useful for plugins).'</span><span class="s2">, </span><span class="s3">'More information available in the `Python packaging guide'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_.'</span><span class="s2">], </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-group'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/entry-point-group'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Entry-points'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s2">, </span><span class="s3">'provide.'</span><span class="s2">, </span><span class="s3">'See the `packaging guides'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s2">, </span><span class="s3">'and `setuptools docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s2">, </span><span class="s3">'for more information.'</span><span class="s2">], </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-name'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Reference to a Python object. It is either in the form'</span><span class="s2">, </span><span class="s3">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s2">], </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-reference'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://packaging.python.org/specifications/entry-points/'</span><span class="s2">}}}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'additionalProperties'</span><span class="s2">)</span>
                <span class="s1">data__entrypoints_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data__entrypoints</span><span class="s2">)</span>
                <span class="s4">if </span><span class="s1">data__entrypoints_len </span><span class="s2">!= </span><span class="s5">0</span><span class="s2">:</span>
                    <span class="s1">data__entrypoints_property_names </span><span class="s2">= </span><span class="s4">True</span>
                    <span class="s4">for </span><span class="s1">data__entrypoints_key </span><span class="s4">in </span><span class="s1">data__entrypoints</span><span class="s2">:</span>
                        <span class="s4">try</span><span class="s2">:</span>
                            <span class="s4">if </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__entrypoints_key</span><span class="s2">, </span><span class="s1">str</span><span class="s2">):</span>
                                <span class="s4">if not </span><span class="s1">custom_formats</span><span class="s2">[</span><span class="s3">&quot;python-entrypoint-group&quot;</span><span class="s2">](</span><span class="s1">data__entrypoints_key</span><span class="s2">):</span>
                                    <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.entry-points must be python-entrypoint-group&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__entrypoints_key</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.entry-points&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-group'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'format'</span><span class="s2">)</span>
                        <span class="s4">except </span><span class="s1">JsonSchemaValueException</span><span class="s2">:</span>
                            <span class="s1">data__entrypoints_property_names </span><span class="s2">= </span><span class="s4">False</span>
                    <span class="s4">if not </span><span class="s1">data__entrypoints_property_names</span><span class="s2">:</span>
                        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.entry-points must be named by propertyName definition&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__entrypoints</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.entry-points&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Instruct the installer to expose the given modules/functions via'</span><span class="s2">, </span><span class="s3">'``entry-point`` discovery mechanism (useful for plugins).'</span><span class="s2">, </span><span class="s3">'More information available in the `Python packaging guide'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_.'</span><span class="s2">], </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-group'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/entry-point-group'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Entry-points'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s2">, </span><span class="s3">'provide.'</span><span class="s2">, </span><span class="s3">'See the `packaging guides'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s2">, </span><span class="s3">'and `setuptools docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s2">, </span><span class="s3">'for more information.'</span><span class="s2">], </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-name'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Reference to a Python object. It is either in the form'</span><span class="s2">, </span><span class="s3">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s2">], </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-reference'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://packaging.python.org/specifications/entry-points/'</span><span class="s2">}}}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'propertyNames'</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s3">&quot;dependencies&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;dependencies&quot;</span><span class="s2">)</span>
            <span class="s1">data__dependencies </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;dependencies&quot;</span><span class="s2">]</span>
            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__dependencies</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">)):</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.dependencies must be array&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__dependencies</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.dependencies&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Project (mandatory) dependencies.'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/dependency'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Dependency'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Project dependency specification according to PEP 508'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508'</span><span class="s2">}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
            <span class="s1">data__dependencies_is_list </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__dependencies</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">))</span>
            <span class="s4">if </span><span class="s1">data__dependencies_is_list</span><span class="s2">:</span>
                <span class="s1">data__dependencies_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data__dependencies</span><span class="s2">)</span>
                <span class="s4">for </span><span class="s1">data__dependencies_x</span><span class="s2">, </span><span class="s1">data__dependencies_item </span><span class="s4">in </span><span class="s1">enumerate</span><span class="s2">(</span><span class="s1">data__dependencies</span><span class="s2">):</span>
                    <span class="s1">validate_https___packaging_python_org_en_latest_specifications_declaring_project_metadata___definitions_dependency</span><span class="s2">(</span><span class="s1">data__dependencies_item</span><span class="s2">, </span><span class="s1">custom_formats</span><span class="s2">, (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.dependencies[{data__dependencies_x}]&quot;</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s3">&quot;optional-dependencies&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;optional-dependencies&quot;</span><span class="s2">)</span>
            <span class="s1">data__optionaldependencies </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;optional-dependencies&quot;</span><span class="s2">]</span>
            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__optionaldependencies</span><span class="s2">, (</span><span class="s1">dict</span><span class="s2">)):</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.optional-dependencies must be object&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__optionaldependencies</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.optional-dependencies&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Optional dependency for the project'</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-identifier'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/dependency'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Dependency'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Project dependency specification according to PEP 508'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508'</span><span class="s2">}}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
            <span class="s1">data__optionaldependencies_is_dict </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__optionaldependencies</span><span class="s2">, </span><span class="s1">dict</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">data__optionaldependencies_is_dict</span><span class="s2">:</span>
                <span class="s1">data__optionaldependencies_keys </span><span class="s2">= </span><span class="s1">set</span><span class="s2">(</span><span class="s1">data__optionaldependencies</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">())</span>
                <span class="s4">for </span><span class="s1">data__optionaldependencies_key</span><span class="s2">, </span><span class="s1">data__optionaldependencies_val </span><span class="s4">in </span><span class="s1">data__optionaldependencies</span><span class="s2">.</span><span class="s1">items</span><span class="s2">():</span>
                    <span class="s4">if </span><span class="s1">REGEX_PATTERNS</span><span class="s2">[</span><span class="s3">'^.+$'</span><span class="s2">].</span><span class="s1">search</span><span class="s2">(</span><span class="s1">data__optionaldependencies_key</span><span class="s2">):</span>
                        <span class="s4">if </span><span class="s1">data__optionaldependencies_key </span><span class="s4">in </span><span class="s1">data__optionaldependencies_keys</span><span class="s2">:</span>
                            <span class="s1">data__optionaldependencies_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s1">data__optionaldependencies_key</span><span class="s2">)</span>
                        <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__optionaldependencies_val</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">)):</span>
                            <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.optional-dependencies.{data__optionaldependencies_key}&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot; must be array&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__optionaldependencies_val</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.optional-dependencies.{data__optionaldependencies_key}&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/dependency'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Dependency'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Project dependency specification according to PEP 508'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508'</span><span class="s2">}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                        <span class="s1">data__optionaldependencies_val_is_list </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__optionaldependencies_val</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">))</span>
                        <span class="s4">if </span><span class="s1">data__optionaldependencies_val_is_list</span><span class="s2">:</span>
                            <span class="s1">data__optionaldependencies_val_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data__optionaldependencies_val</span><span class="s2">)</span>
                            <span class="s4">for </span><span class="s1">data__optionaldependencies_val_x</span><span class="s2">, </span><span class="s1">data__optionaldependencies_val_item </span><span class="s4">in </span><span class="s1">enumerate</span><span class="s2">(</span><span class="s1">data__optionaldependencies_val</span><span class="s2">):</span>
                                <span class="s1">validate_https___packaging_python_org_en_latest_specifications_declaring_project_metadata___definitions_dependency</span><span class="s2">(</span><span class="s1">data__optionaldependencies_val_item</span><span class="s2">, </span><span class="s1">custom_formats</span><span class="s2">, (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.optional-dependencies.{data__optionaldependencies_key}[{data__optionaldependencies_val_x}]&quot;</span><span class="s2">)</span>
                <span class="s4">if </span><span class="s1">data__optionaldependencies_keys</span><span class="s2">:</span>
                    <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.optional-dependencies must not contain &quot;</span><span class="s2">+</span><span class="s1">str</span><span class="s2">(</span><span class="s1">data__optionaldependencies_keys</span><span class="s2">)+</span><span class="s3">&quot; properties&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__optionaldependencies</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.optional-dependencies&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Optional dependency for the project'</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-identifier'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/dependency'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Dependency'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Project dependency specification according to PEP 508'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508'</span><span class="s2">}}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'additionalProperties'</span><span class="s2">)</span>
                <span class="s1">data__optionaldependencies_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data__optionaldependencies</span><span class="s2">)</span>
                <span class="s4">if </span><span class="s1">data__optionaldependencies_len </span><span class="s2">!= </span><span class="s5">0</span><span class="s2">:</span>
                    <span class="s1">data__optionaldependencies_property_names </span><span class="s2">= </span><span class="s4">True</span>
                    <span class="s4">for </span><span class="s1">data__optionaldependencies_key </span><span class="s4">in </span><span class="s1">data__optionaldependencies</span><span class="s2">:</span>
                        <span class="s4">try</span><span class="s2">:</span>
                            <span class="s4">if </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__optionaldependencies_key</span><span class="s2">, </span><span class="s1">str</span><span class="s2">):</span>
                                <span class="s4">if not </span><span class="s1">custom_formats</span><span class="s2">[</span><span class="s3">&quot;pep508-identifier&quot;</span><span class="s2">](</span><span class="s1">data__optionaldependencies_key</span><span class="s2">):</span>
                                    <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.optional-dependencies must be pep508-identifier&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__optionaldependencies_key</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.optional-dependencies&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-identifier'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'format'</span><span class="s2">)</span>
                        <span class="s4">except </span><span class="s1">JsonSchemaValueException</span><span class="s2">:</span>
                            <span class="s1">data__optionaldependencies_property_names </span><span class="s2">= </span><span class="s4">False</span>
                    <span class="s4">if not </span><span class="s1">data__optionaldependencies_property_names</span><span class="s2">:</span>
                        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.optional-dependencies must be named by propertyName definition&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__optionaldependencies</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.optional-dependencies&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Optional dependency for the project'</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-identifier'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/dependency'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Dependency'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Project dependency specification according to PEP 508'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508'</span><span class="s2">}}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'propertyNames'</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s3">&quot;dynamic&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;dynamic&quot;</span><span class="s2">)</span>
            <span class="s1">data__dynamic </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;dynamic&quot;</span><span class="s2">]</span>
            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__dynamic</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">)):</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.dynamic must be array&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__dynamic</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.dynamic&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Specifies which fields are intentionally unspecified and expected to be'</span><span class="s2">, </span><span class="s3">'dynamically provided by build tools'</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'enum'</span><span class="s2">: [</span><span class="s3">'version'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">, </span><span class="s3">'readme'</span><span class="s2">, </span><span class="s3">'requires-python'</span><span class="s2">, </span><span class="s3">'license'</span><span class="s2">, </span><span class="s3">'authors'</span><span class="s2">, </span><span class="s3">'maintainers'</span><span class="s2">, </span><span class="s3">'keywords'</span><span class="s2">, </span><span class="s3">'classifiers'</span><span class="s2">, </span><span class="s3">'urls'</span><span class="s2">, </span><span class="s3">'scripts'</span><span class="s2">, </span><span class="s3">'gui-scripts'</span><span class="s2">, </span><span class="s3">'entry-points'</span><span class="s2">, </span><span class="s3">'dependencies'</span><span class="s2">, </span><span class="s3">'optional-dependencies'</span><span class="s2">]}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
            <span class="s1">data__dynamic_is_list </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__dynamic</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">))</span>
            <span class="s4">if </span><span class="s1">data__dynamic_is_list</span><span class="s2">:</span>
                <span class="s1">data__dynamic_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data__dynamic</span><span class="s2">)</span>
                <span class="s4">for </span><span class="s1">data__dynamic_x</span><span class="s2">, </span><span class="s1">data__dynamic_item </span><span class="s4">in </span><span class="s1">enumerate</span><span class="s2">(</span><span class="s1">data__dynamic</span><span class="s2">):</span>
                    <span class="s4">if </span><span class="s1">data__dynamic_item </span><span class="s4">not in </span><span class="s2">[</span><span class="s3">'version'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">, </span><span class="s3">'readme'</span><span class="s2">, </span><span class="s3">'requires-python'</span><span class="s2">, </span><span class="s3">'license'</span><span class="s2">, </span><span class="s3">'authors'</span><span class="s2">, </span><span class="s3">'maintainers'</span><span class="s2">, </span><span class="s3">'keywords'</span><span class="s2">, </span><span class="s3">'classifiers'</span><span class="s2">, </span><span class="s3">'urls'</span><span class="s2">, </span><span class="s3">'scripts'</span><span class="s2">, </span><span class="s3">'gui-scripts'</span><span class="s2">, </span><span class="s3">'entry-points'</span><span class="s2">, </span><span class="s3">'dependencies'</span><span class="s2">, </span><span class="s3">'optional-dependencies'</span><span class="s2">]:</span>
                        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.dynamic[{data__dynamic_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot; must be one of ['version', 'description', 'readme', 'requires-python', 'license', 'authors', 'maintainers', 'keywords', 'classifiers', 'urls', 'scripts', 'gui-scripts', 'entry-points', 'dependencies', 'optional-dependencies']&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__dynamic_item</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.dynamic[{data__dynamic_x}]&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'enum'</span><span class="s2">: [</span><span class="s3">'version'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">, </span><span class="s3">'readme'</span><span class="s2">, </span><span class="s3">'requires-python'</span><span class="s2">, </span><span class="s3">'license'</span><span class="s2">, </span><span class="s3">'authors'</span><span class="s2">, </span><span class="s3">'maintainers'</span><span class="s2">, </span><span class="s3">'keywords'</span><span class="s2">, </span><span class="s3">'classifiers'</span><span class="s2">, </span><span class="s3">'urls'</span><span class="s2">, </span><span class="s3">'scripts'</span><span class="s2">, </span><span class="s3">'gui-scripts'</span><span class="s2">, </span><span class="s3">'entry-points'</span><span class="s2">, </span><span class="s3">'dependencies'</span><span class="s2">, </span><span class="s3">'optional-dependencies'</span><span class="s2">]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'enum'</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot; must not contain &quot;</span><span class="s2">+</span><span class="s1">str</span><span class="s2">(</span><span class="s1">data_keys</span><span class="s2">)+</span><span class="s3">&quot; properties&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'$schema'</span><span class="s2">: </span><span class="s3">'http://json-schema.org/draft-07/schema'</span><span class="s2">, </span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'https://packaging.python.org/en/latest/specifications/declaring-project-metadata/'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Package metadata stored in the ``project`` table'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Data structure for the **project** table inside ``pyproject.toml``'</span><span class="s2">, </span><span class="s3">'(as initially defined in :pep:`621`)'</span><span class="s2">], </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'name'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'The name (primary identifier) of the project. MUST be statically defined.'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-identifier'</span><span class="s2">}, </span><span class="s3">'version'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'The version of the project as supported by :pep:`440`.'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep440'</span><span class="s2">}, </span><span class="s3">'description'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'The `summary description of the project'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/core-metadata/#summary&gt;`_'</span><span class="s2">]}, </span><span class="s3">'readme'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'`Full/detailed description of the project in the form of a README'</span><span class="s2">, </span><span class="s3">'&lt;https://www.python.org/dev/peps/pep-0621/#readme&gt;`_'</span><span class="s2">, </span><span class="s3">&quot;with meaning similar to the one defined in `core metadata's Description&quot;</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/core-metadata/#description&gt;`_'</span><span class="s2">], </span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Relative path to a text file (UTF-8) containing the full description'</span><span class="s2">, </span><span class="s3">'of the project. If the file path ends in case-insensitive ``.md`` or'</span><span class="s2">, </span><span class="s3">'``.rst`` suffixes, then the content-type is respectively'</span><span class="s2">, </span><span class="s3">'``text/markdown`` or ``text/x-rst``'</span><span class="s2">]}, {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'allOf'</span><span class="s2">: [{</span><span class="s3">'anyOf'</span><span class="s2">: [{</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Relative path to a text file containing the full description'</span><span class="s2">, </span><span class="s3">'of the project.'</span><span class="s2">]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, {</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'text'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Full text describing the project.'</span><span class="s2">}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'text'</span><span class="s2">]}]}, {</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'content-type'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Content-type (:rfc:`1341`) of the full description'</span><span class="s2">, </span><span class="s3">'(e.g. ``text/markdown``). The ``charset`` parameter is assumed'</span><span class="s2">, </span><span class="s3">'UTF-8 when not present.'</span><span class="s2">], </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'TODO: add regex pattern or format?'</span><span class="s2">}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'content-type'</span><span class="s2">]}]}]}, </span><span class="s3">'requires-python'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-versionspec'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'`The Python version requirements of the project'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/core-metadata/#requires-python&gt;`_.'</span><span class="s2">]}, </span><span class="s3">'license'</span><span class="s2">: {</span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'`Project license &lt;https://www.python.org/dev/peps/pep-0621/#license&gt;`_.'</span><span class="s2">, </span><span class="s3">'oneOf'</span><span class="s2">: [{</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'file'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Relative path to the file (UTF-8) which contains the license for the'</span><span class="s2">, </span><span class="s3">'project.'</span><span class="s2">]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'file'</span><span class="s2">]}, {</span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'text'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'The license of the project whose meaning is that of the'</span><span class="s2">, </span><span class="s3">'`License field from the core metadata'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/core-metadata/#license&gt;`_.'</span><span class="s2">]}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'text'</span><span class="s2">]}]}, </span><span class="s3">'authors'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/author'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Author or Maintainer'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://www.python.org/dev/peps/pep-0621/#authors-maintainers'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'name'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'MUST be a valid email name, i.e. whatever can be put as a name, before an'</span><span class="s2">, </span><span class="s3">'email, in :rfc:`822`.'</span><span class="s2">]}, </span><span class="s3">'email'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'idn-email'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'MUST be a valid email address'</span><span class="s2">}}}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">&quot;The people or organizations considered to be the 'authors' of the project.&quot;</span><span class="s2">, </span><span class="s3">'The exact meaning is open to interpretation (e.g. original or primary authors,'</span><span class="s2">, </span><span class="s3">'current maintainers, or owners of the package).'</span><span class="s2">]}, </span><span class="s3">'maintainers'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/author'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Author or Maintainer'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://www.python.org/dev/peps/pep-0621/#authors-maintainers'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'name'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'MUST be a valid email name, i.e. whatever can be put as a name, before an'</span><span class="s2">, </span><span class="s3">'email, in :rfc:`822`.'</span><span class="s2">]}, </span><span class="s3">'email'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'idn-email'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'MUST be a valid email address'</span><span class="s2">}}}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">&quot;The people or organizations considered to be the 'maintainers' of the project.&quot;</span><span class="s2">, </span><span class="s3">'Similarly to ``authors``, the exact meaning is open to interpretation.'</span><span class="s2">]}, </span><span class="s3">'keywords'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">}, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'List of keywords to assist searching for the distribution in a larger catalog.'</span><span class="s2">}, </span><span class="s3">'classifiers'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'trove-classifier'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'`PyPI classifier &lt;https://pypi.org/classifiers/&gt;`_.'</span><span class="s2">}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'`Trove classifiers &lt;https://pypi.org/classifiers/&gt;`_'</span><span class="s2">, </span><span class="s3">'which apply to the project.'</span><span class="s2">]}, </span><span class="s3">'urls'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'URLs associated with the project in the form ``label =&gt; value``.'</span><span class="s2">, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'url'</span><span class="s2">}}}, </span><span class="s3">'scripts'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/entry-point-group'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Entry-points'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s2">, </span><span class="s3">'provide.'</span><span class="s2">, </span><span class="s3">'See the `packaging guides'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s2">, </span><span class="s3">'and `setuptools docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s2">, </span><span class="s3">'for more information.'</span><span class="s2">], </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-name'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Reference to a Python object. It is either in the form'</span><span class="s2">, </span><span class="s3">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s2">], </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-reference'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://packaging.python.org/specifications/entry-points/'</span><span class="s2">}}}, </span><span class="s3">'gui-scripts'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/entry-point-group'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Entry-points'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s2">, </span><span class="s3">'provide.'</span><span class="s2">, </span><span class="s3">'See the `packaging guides'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s2">, </span><span class="s3">'and `setuptools docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s2">, </span><span class="s3">'for more information.'</span><span class="s2">], </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-name'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Reference to a Python object. It is either in the form'</span><span class="s2">, </span><span class="s3">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s2">], </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-reference'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://packaging.python.org/specifications/entry-points/'</span><span class="s2">}}}, </span><span class="s3">'entry-points'</span><span class="s2">: {</span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Instruct the installer to expose the given modules/functions via'</span><span class="s2">, </span><span class="s3">'``entry-point`` discovery mechanism (useful for plugins).'</span><span class="s2">, </span><span class="s3">'More information available in the `Python packaging guide'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_.'</span><span class="s2">], </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-group'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/entry-point-group'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Entry-points'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s2">, </span><span class="s3">'provide.'</span><span class="s2">, </span><span class="s3">'See the `packaging guides'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s2">, </span><span class="s3">'and `setuptools docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s2">, </span><span class="s3">'for more information.'</span><span class="s2">], </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-name'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Reference to a Python object. It is either in the form'</span><span class="s2">, </span><span class="s3">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s2">], </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-reference'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://packaging.python.org/specifications/entry-points/'</span><span class="s2">}}}}}, </span><span class="s3">'dependencies'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Project (mandatory) dependencies.'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/dependency'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Dependency'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Project dependency specification according to PEP 508'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508'</span><span class="s2">}}, </span><span class="s3">'optional-dependencies'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Optional dependency for the project'</span><span class="s2">, </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508-identifier'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/dependency'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Dependency'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Project dependency specification according to PEP 508'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508'</span><span class="s2">}}}}, </span><span class="s3">'dynamic'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'array'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Specifies which fields are intentionally unspecified and expected to be'</span><span class="s2">, </span><span class="s3">'dynamically provided by build tools'</span><span class="s2">], </span><span class="s3">'items'</span><span class="s2">: {</span><span class="s3">'enum'</span><span class="s2">: [</span><span class="s3">'version'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">, </span><span class="s3">'readme'</span><span class="s2">, </span><span class="s3">'requires-python'</span><span class="s2">, </span><span class="s3">'license'</span><span class="s2">, </span><span class="s3">'authors'</span><span class="s2">, </span><span class="s3">'maintainers'</span><span class="s2">, </span><span class="s3">'keywords'</span><span class="s2">, </span><span class="s3">'classifiers'</span><span class="s2">, </span><span class="s3">'urls'</span><span class="s2">, </span><span class="s3">'scripts'</span><span class="s2">, </span><span class="s3">'gui-scripts'</span><span class="s2">, </span><span class="s3">'entry-points'</span><span class="s2">, </span><span class="s3">'dependencies'</span><span class="s2">, </span><span class="s3">'optional-dependencies'</span><span class="s2">]}}}, </span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'name'</span><span class="s2">], </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'if'</span><span class="s2">: {</span><span class="s3">'not'</span><span class="s2">: {</span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'dynamic'</span><span class="s2">], </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'dynamic'</span><span class="s2">: {</span><span class="s3">'contains'</span><span class="s2">: {</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">'version'</span><span class="s2">}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'version is listed in ``dynamic``'</span><span class="s2">]}}}, </span><span class="s3">'$$comment'</span><span class="s2">: [</span><span class="s3">'According to :pep:`621`:'</span><span class="s2">, </span><span class="s3">'    If the core metadata specification lists a field as &quot;Required&quot;, then'</span><span class="s2">, </span><span class="s3">'    the metadata MUST specify the field statically or list it in dynamic'</span><span class="s2">, </span><span class="s3">'In turn, `core metadata`_ defines:'</span><span class="s2">, </span><span class="s3">'    The required fields are: Metadata-Version, Name, Version.'</span><span class="s2">, </span><span class="s3">'    All the other fields are optional.'</span><span class="s2">, </span><span class="s3">'Since ``Metadata-Version`` is defined by the build back-end, ``name`` and'</span><span class="s2">, </span><span class="s3">'``version`` are the only mandatory information in ``pyproject.toml``.'</span><span class="s2">, </span><span class="s3">'.. _core metadata: https://packaging.python.org/specifications/core-metadata/'</span><span class="s2">]}, </span><span class="s3">'then'</span><span class="s2">: {</span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'version'</span><span class="s2">], </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'version should be statically defined in the ``version`` field'</span><span class="s2">]}, </span><span class="s3">'definitions'</span><span class="s2">: {</span><span class="s3">'author'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/author'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Author or Maintainer'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://www.python.org/dev/peps/pep-0621/#authors-maintainers'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'name'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'MUST be a valid email name, i.e. whatever can be put as a name, before an'</span><span class="s2">, </span><span class="s3">'email, in :rfc:`822`.'</span><span class="s2">]}, </span><span class="s3">'email'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'idn-email'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'MUST be a valid email address'</span><span class="s2">}}}, </span><span class="s3">'entry-point-group'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/entry-point-group'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Entry-points'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s2">, </span><span class="s3">'provide.'</span><span class="s2">, </span><span class="s3">'See the `packaging guides'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s2">, </span><span class="s3">'and `setuptools docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s2">, </span><span class="s3">'for more information.'</span><span class="s2">], </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-name'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Reference to a Python object. It is either in the form'</span><span class="s2">, </span><span class="s3">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s2">], </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-reference'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://packaging.python.org/specifications/entry-points/'</span><span class="s2">}}}, </span><span class="s3">'dependency'</span><span class="s2">: {</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/dependency'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Dependency'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Project dependency specification according to PEP 508'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508'</span><span class="s2">}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'additionalProperties'</span><span class="s2">)</span>
    <span class="s4">try</span><span class="s2">:</span>
        <span class="s4">try</span><span class="s2">:</span>
            <span class="s1">data_is_dict </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, </span><span class="s1">dict</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">data_is_dict</span><span class="s2">:</span>
                <span class="s1">data_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data</span><span class="s2">)</span>
                <span class="s4">if not </span><span class="s1">all</span><span class="s2">(</span><span class="s1">prop </span><span class="s4">in </span><span class="s1">data </span><span class="s4">for </span><span class="s1">prop </span><span class="s4">in </span><span class="s2">[</span><span class="s3">'dynamic'</span><span class="s2">]):</span>
                    <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot; must contain ['dynamic'] properties&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'dynamic'</span><span class="s2">], </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'dynamic'</span><span class="s2">: {</span><span class="s3">'contains'</span><span class="s2">: {</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">'version'</span><span class="s2">}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'version is listed in ``dynamic``'</span><span class="s2">]}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'required'</span><span class="s2">)</span>
                <span class="s1">data_keys </span><span class="s2">= </span><span class="s1">set</span><span class="s2">(</span><span class="s1">data</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">())</span>
                <span class="s4">if </span><span class="s3">&quot;dynamic&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
                    <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;dynamic&quot;</span><span class="s2">)</span>
                    <span class="s1">data__dynamic </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;dynamic&quot;</span><span class="s2">]</span>
                    <span class="s1">data__dynamic_is_list </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__dynamic</span><span class="s2">, (</span><span class="s1">list</span><span class="s2">, </span><span class="s1">tuple</span><span class="s2">))</span>
                    <span class="s4">if </span><span class="s1">data__dynamic_is_list</span><span class="s2">:</span>
                        <span class="s1">data__dynamic_contains </span><span class="s2">= </span><span class="s4">False</span>
                        <span class="s4">for </span><span class="s1">data__dynamic_key </span><span class="s4">in </span><span class="s1">data__dynamic</span><span class="s2">:</span>
                            <span class="s4">try</span><span class="s2">:</span>
                                <span class="s4">if </span><span class="s1">data__dynamic_key </span><span class="s2">!= </span><span class="s3">&quot;version&quot;</span><span class="s2">:</span>
                                    <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.dynamic must be same as const definition: version&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__dynamic_key</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.dynamic&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">'version'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'const'</span><span class="s2">)</span>
                                <span class="s1">data__dynamic_contains </span><span class="s2">= </span><span class="s4">True</span>
                                <span class="s4">break</span>
                            <span class="s4">except </span><span class="s1">JsonSchemaValueException</span><span class="s2">: </span><span class="s4">pass</span>
                        <span class="s4">if not </span><span class="s1">data__dynamic_contains</span><span class="s2">:</span>
                            <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.dynamic must contain one of contains definition&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__dynamic</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.dynamic&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'contains'</span><span class="s2">: {</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">'version'</span><span class="s2">}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'version is listed in ``dynamic``'</span><span class="s2">]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'contains'</span><span class="s2">)</span>
        <span class="s4">except </span><span class="s1">JsonSchemaValueException</span><span class="s2">: </span><span class="s4">pass</span>
        <span class="s4">else</span><span class="s2">:</span>
            <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot; must NOT match a disallowed definition&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'not'</span><span class="s2">: {</span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'dynamic'</span><span class="s2">], </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'dynamic'</span><span class="s2">: {</span><span class="s3">'contains'</span><span class="s2">: {</span><span class="s3">'const'</span><span class="s2">: </span><span class="s3">'version'</span><span class="s2">}, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'version is listed in ``dynamic``'</span><span class="s2">]}}}, </span><span class="s3">'$$comment'</span><span class="s2">: [</span><span class="s3">'According to :pep:`621`:'</span><span class="s2">, </span><span class="s3">'    If the core metadata specification lists a field as &quot;Required&quot;, then'</span><span class="s2">, </span><span class="s3">'    the metadata MUST specify the field statically or list it in dynamic'</span><span class="s2">, </span><span class="s3">'In turn, `core metadata`_ defines:'</span><span class="s2">, </span><span class="s3">'    The required fields are: Metadata-Version, Name, Version.'</span><span class="s2">, </span><span class="s3">'    All the other fields are optional.'</span><span class="s2">, </span><span class="s3">'Since ``Metadata-Version`` is defined by the build back-end, ``name`` and'</span><span class="s2">, </span><span class="s3">'``version`` are the only mandatory information in ``pyproject.toml``.'</span><span class="s2">, </span><span class="s3">'.. _core metadata: https://packaging.python.org/specifications/core-metadata/'</span><span class="s2">]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'not'</span><span class="s2">)</span>
    <span class="s4">except </span><span class="s1">JsonSchemaValueException</span><span class="s2">:</span>
        <span class="s4">pass</span>
    <span class="s4">else</span><span class="s2">:</span>
        <span class="s1">data_is_dict </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, </span><span class="s1">dict</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s1">data_is_dict</span><span class="s2">:</span>
            <span class="s1">data_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data</span><span class="s2">)</span>
            <span class="s4">if not </span><span class="s1">all</span><span class="s2">(</span><span class="s1">prop </span><span class="s4">in </span><span class="s1">data </span><span class="s4">for </span><span class="s1">prop </span><span class="s4">in </span><span class="s2">[</span><span class="s3">'version'</span><span class="s2">]):</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot; must contain ['version'] properties&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'required'</span><span class="s2">: [</span><span class="s3">'version'</span><span class="s2">], </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'version should be statically defined in the ``version`` field'</span><span class="s2">]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'required'</span><span class="s2">)</span>
    <span class="s4">return </span><span class="s1">data</span>

<span class="s4">def </span><span class="s1">validate_https___packaging_python_org_en_latest_specifications_declaring_project_metadata___definitions_dependency</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, </span><span class="s1">custom_formats</span><span class="s2">={}, </span><span class="s1">name_prefix</span><span class="s2">=</span><span class="s4">None</span><span class="s2">):</span>
    <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot; must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/dependency'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Dependency'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Project dependency specification according to PEP 508'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
    <span class="s4">if </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, </span><span class="s1">str</span><span class="s2">):</span>
        <span class="s4">if not </span><span class="s1">custom_formats</span><span class="s2">[</span><span class="s3">&quot;pep508&quot;</span><span class="s2">](</span><span class="s1">data</span><span class="s2">):</span>
            <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot; must be pep508&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/dependency'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Dependency'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'Project dependency specification according to PEP 508'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'pep508'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'format'</span><span class="s2">)</span>
    <span class="s4">return </span><span class="s1">data</span>

<span class="s4">def </span><span class="s1">validate_https___packaging_python_org_en_latest_specifications_declaring_project_metadata___definitions_entry_point_group</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, </span><span class="s1">custom_formats</span><span class="s2">={}, </span><span class="s1">name_prefix</span><span class="s2">=</span><span class="s4">None</span><span class="s2">):</span>
    <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, (</span><span class="s1">dict</span><span class="s2">)):</span>
        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot; must be object&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/entry-point-group'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Entry-points'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s2">, </span><span class="s3">'provide.'</span><span class="s2">, </span><span class="s3">'See the `packaging guides'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s2">, </span><span class="s3">'and `setuptools docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s2">, </span><span class="s3">'for more information.'</span><span class="s2">], </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-name'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Reference to a Python object. It is either in the form'</span><span class="s2">, </span><span class="s3">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s2">], </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-reference'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://packaging.python.org/specifications/entry-points/'</span><span class="s2">}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
    <span class="s1">data_is_dict </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, </span><span class="s1">dict</span><span class="s2">)</span>
    <span class="s4">if </span><span class="s1">data_is_dict</span><span class="s2">:</span>
        <span class="s1">data_keys </span><span class="s2">= </span><span class="s1">set</span><span class="s2">(</span><span class="s1">data</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">())</span>
        <span class="s4">for </span><span class="s1">data_key</span><span class="s2">, </span><span class="s1">data_val </span><span class="s4">in </span><span class="s1">data</span><span class="s2">.</span><span class="s1">items</span><span class="s2">():</span>
            <span class="s4">if </span><span class="s1">REGEX_PATTERNS</span><span class="s2">[</span><span class="s3">'^.+$'</span><span class="s2">].</span><span class="s1">search</span><span class="s2">(</span><span class="s1">data_key</span><span class="s2">):</span>
                <span class="s4">if </span><span class="s1">data_key </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
                    <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s1">data_key</span><span class="s2">)</span>
                <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data_val</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                    <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.{data_key}&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot; must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data_val</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.{data_key}&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Reference to a Python object. It is either in the form'</span><span class="s2">, </span><span class="s3">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s2">], </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-reference'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://packaging.python.org/specifications/entry-points/'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
                <span class="s4">if </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data_val</span><span class="s2">, </span><span class="s1">str</span><span class="s2">):</span>
                    <span class="s4">if not </span><span class="s1">custom_formats</span><span class="s2">[</span><span class="s3">&quot;python-entrypoint-reference&quot;</span><span class="s2">](</span><span class="s1">data_val</span><span class="s2">):</span>
                        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.{data_key}&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot; must be python-entrypoint-reference&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data_val</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.{data_key}&quot;</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(**</span><span class="s1">locals</span><span class="s2">()) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Reference to a Python object. It is either in the form'</span><span class="s2">, </span><span class="s3">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s2">], </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-reference'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://packaging.python.org/specifications/entry-points/'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'format'</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot; must not contain &quot;</span><span class="s2">+</span><span class="s1">str</span><span class="s2">(</span><span class="s1">data_keys</span><span class="s2">)+</span><span class="s3">&quot; properties&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/entry-point-group'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Entry-points'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s2">, </span><span class="s3">'provide.'</span><span class="s2">, </span><span class="s3">'See the `packaging guides'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s2">, </span><span class="s3">'and `setuptools docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s2">, </span><span class="s3">'for more information.'</span><span class="s2">], </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-name'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Reference to a Python object. It is either in the form'</span><span class="s2">, </span><span class="s3">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s2">], </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-reference'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://packaging.python.org/specifications/entry-points/'</span><span class="s2">}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'additionalProperties'</span><span class="s2">)</span>
        <span class="s1">data_len </span><span class="s2">= </span><span class="s1">len</span><span class="s2">(</span><span class="s1">data</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s1">data_len </span><span class="s2">!= </span><span class="s5">0</span><span class="s2">:</span>
            <span class="s1">data_property_names </span><span class="s2">= </span><span class="s4">True</span>
            <span class="s4">for </span><span class="s1">data_key </span><span class="s4">in </span><span class="s1">data</span><span class="s2">:</span>
                <span class="s4">try</span><span class="s2">:</span>
                    <span class="s4">if </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data_key</span><span class="s2">, </span><span class="s1">str</span><span class="s2">):</span>
                        <span class="s4">if not </span><span class="s1">custom_formats</span><span class="s2">[</span><span class="s3">&quot;python-entrypoint-name&quot;</span><span class="s2">](</span><span class="s1">data_key</span><span class="s2">):</span>
                            <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot; must be python-entrypoint-name&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data_key</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-name'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'format'</span><span class="s2">)</span>
                <span class="s4">except </span><span class="s1">JsonSchemaValueException</span><span class="s2">:</span>
                    <span class="s1">data_property_names </span><span class="s2">= </span><span class="s4">False</span>
            <span class="s4">if not </span><span class="s1">data_property_names</span><span class="s2">:</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot; must be named by propertyName definition&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/entry-point-group'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Entry-points'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s2">, </span><span class="s3">'provide.'</span><span class="s2">, </span><span class="s3">'See the `packaging guides'</span><span class="s2">, </span><span class="s3">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s2">, </span><span class="s3">'and `setuptools docs'</span><span class="s2">, </span><span class="s3">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s2">, </span><span class="s3">'for more information.'</span><span class="s2">], </span><span class="s3">'propertyNames'</span><span class="s2">: {</span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-name'</span><span class="s2">}, </span><span class="s3">'additionalProperties'</span><span class="s2">: </span><span class="s4">False</span><span class="s2">, </span><span class="s3">'patternProperties'</span><span class="s2">: {</span><span class="s3">'^.+$'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'Reference to a Python object. It is either in the form'</span><span class="s2">, </span><span class="s3">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s2">], </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'python-entrypoint-reference'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://packaging.python.org/specifications/entry-points/'</span><span class="s2">}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'propertyNames'</span><span class="s2">)</span>
    <span class="s4">return </span><span class="s1">data</span>

<span class="s4">def </span><span class="s1">validate_https___packaging_python_org_en_latest_specifications_declaring_project_metadata___definitions_author</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, </span><span class="s1">custom_formats</span><span class="s2">={}, </span><span class="s1">name_prefix</span><span class="s2">=</span><span class="s4">None</span><span class="s2">):</span>
    <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, (</span><span class="s1">dict</span><span class="s2">)):</span>
        <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot; must be object&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'$id'</span><span class="s2">: </span><span class="s3">'#/definitions/author'</span><span class="s2">, </span><span class="s3">'title'</span><span class="s2">: </span><span class="s3">'Author or Maintainer'</span><span class="s2">, </span><span class="s3">'$comment'</span><span class="s2">: </span><span class="s3">'https://www.python.org/dev/peps/pep-0621/#authors-maintainers'</span><span class="s2">, </span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'object'</span><span class="s2">, </span><span class="s3">'properties'</span><span class="s2">: {</span><span class="s3">'name'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'MUST be a valid email name, i.e. whatever can be put as a name, before an'</span><span class="s2">, </span><span class="s3">'email, in :rfc:`822`.'</span><span class="s2">]}, </span><span class="s3">'email'</span><span class="s2">: {</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'idn-email'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'MUST be a valid email address'</span><span class="s2">}}}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
    <span class="s1">data_is_dict </span><span class="s2">= </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, </span><span class="s1">dict</span><span class="s2">)</span>
    <span class="s4">if </span><span class="s1">data_is_dict</span><span class="s2">:</span>
        <span class="s1">data_keys </span><span class="s2">= </span><span class="s1">set</span><span class="s2">(</span><span class="s1">data</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">())</span>
        <span class="s4">if </span><span class="s3">&quot;name&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;name&quot;</span><span class="s2">)</span>
            <span class="s1">data__name </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;name&quot;</span><span class="s2">]</span>
            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__name</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.name must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__name</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.name&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'$$description'</span><span class="s2">: [</span><span class="s3">'MUST be a valid email name, i.e. whatever can be put as a name, before an'</span><span class="s2">, </span><span class="s3">'email, in :rfc:`822`.'</span><span class="s2">]}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s3">&quot;email&quot; </span><span class="s4">in </span><span class="s1">data_keys</span><span class="s2">:</span>
            <span class="s1">data_keys</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s3">&quot;email&quot;</span><span class="s2">)</span>
            <span class="s1">data__email </span><span class="s2">= </span><span class="s1">data</span><span class="s2">[</span><span class="s3">&quot;email&quot;</span><span class="s2">]</span>
            <span class="s4">if not </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__email</span><span class="s2">, (</span><span class="s1">str</span><span class="s2">)):</span>
                <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.email must be string&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__email</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.email&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'idn-email'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'MUST be a valid email address'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'type'</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">isinstance</span><span class="s2">(</span><span class="s1">data__email</span><span class="s2">, </span><span class="s1">str</span><span class="s2">):</span>
                <span class="s4">if not </span><span class="s1">REGEX_PATTERNS</span><span class="s2">[</span><span class="s3">&quot;idn-email_re_pattern&quot;</span><span class="s2">].</span><span class="s1">match</span><span class="s2">(</span><span class="s1">data__email</span><span class="s2">):</span>
                    <span class="s4">raise </span><span class="s1">JsonSchemaValueException</span><span class="s2">(</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.email must be idn-email&quot;</span><span class="s2">, </span><span class="s1">value</span><span class="s2">=</span><span class="s1">data__email</span><span class="s2">, </span><span class="s1">name</span><span class="s2">=</span><span class="s3">&quot;&quot; </span><span class="s2">+ (</span><span class="s1">name_prefix </span><span class="s4">or </span><span class="s3">&quot;data&quot;</span><span class="s2">) + </span><span class="s3">&quot;.email&quot;</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">={</span><span class="s3">'type'</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">, </span><span class="s3">'format'</span><span class="s2">: </span><span class="s3">'idn-email'</span><span class="s2">, </span><span class="s3">'description'</span><span class="s2">: </span><span class="s3">'MUST be a valid email address'</span><span class="s2">}, </span><span class="s1">rule</span><span class="s2">=</span><span class="s3">'format'</span><span class="s2">)</span>
    <span class="s4">return </span><span class="s1">data</span></pre>
</body>
</html>